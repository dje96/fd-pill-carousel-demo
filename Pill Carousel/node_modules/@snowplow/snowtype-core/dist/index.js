"use strict";var Ul=Object.create;var V=Object.defineProperty;var Jl=Object.getOwnPropertyDescriptor;var $l=Object.getOwnPropertyNames;var Hl=Object.getPrototypeOf,Vl=Object.prototype.hasOwnProperty;var b=(l,n)=>()=>(n||l((n={exports:{}}).exports,n),n.exports),Gl=(l,n)=>{for(var r in n)V(l,r,{get:n[r],enumerable:!0})},bn=(l,n,r,f)=>{if(n&&typeof n=="object"||typeof n=="function")for(let a of $l(n))!Vl.call(l,a)&&a!==r&&V(l,a,{get:()=>n[a],enumerable:!(f=Jl(n,a))||f.enumerable});return l};var k=(l,n,r)=>(r=l!=null?Ul(Hl(l)):{},bn(n||!l||!l.__esModule?V(r,"default",{value:l,enumerable:!0}):r,l)),Wl=l=>bn(V({},"__esModule",{value:!0}),l);var Zn=b((ua,Xn)=>{"use strict";Xn.exports={id:{language:"javascript",tracker:"@snowplow/browser-tracker"},1:function(l,n,r,f,a){return`/**
 * Creates a Snowplow Event Specification entity.
 */
export function createEventSpecification(eventSpecification){
  return {
    schema:
      'iglu:com.snowplowanalytics.snowplow/event_specification/jsonschema/1-0-2',
    data: eventSpecification,
  }
}
`},3:function(l,n,r,f,a){return`const ajv = new Ajv({ allErrors: true, verbose: true, strict: false });
addFormats(ajv);

const ERROR_CODES = {
  SCHEMA_VALIDATION_ERROR: (schema) => ({
    code: 100,
    message: "Snowtype Schema Validation Error",
    description: \`'There was passing of values that does not match the JSON Schema definition for \${schema}.'\`,
  }),
  CARDINALITY_RULES_ERROR: (schema) => ({
    code: 200,
    message: "Snowtype Entity Cardinality Rules Error",
    description: \`\${schema} failed entity rules validation.\`,
  }),
  CARDINALITY_RULES_ERROR_NOT_PRESENT: (schema) => ({
    code: 201,
    message: "Snowtype Entity Cardinality Rules Error",
    description: \`No \${schema} context detected while a rule is present.\`,
  }),
};

function defaultViolationErrorHandler(errorMessage){
  const msg = JSON.stringify(errorMessage, undefined, 4);
  if (
    typeof process !== "undefined" &&
    typeof process.env === "object" &&
    process.env.NODE_ENV === "test"
  ) {
    throw new Error(JSON.stringify(errorMessage));
  }
  console.warn(msg);
};

let violationsHandler = defaultViolationErrorHandler;

export const snowtype = {
  setOptions(options) {
    violationsHandler = options.violationsHandler || violationsHandler;
  },
};

function validateSchema(sdj, esId) {
  let schemaToValidateWith = esId && schemasObject[esId] && schemasObject[esId][sdj.schema];
  if(!schemaToValidateWith){
    schemaToValidateWith = schemasObject[sdj.schema]
  }
  const valid = ajv.validate(schemaToValidateWith, sdj.data);
  if (!valid && ajv.errors?.length) {
    violationsHandler({
      ...ERROR_CODES.SCHEMA_VALIDATION_ERROR(sdj.schema),
      errors: ajv.errors,
    })
  }
}

function between(lowerBound, upperBound) {
  return (input) => input >= lowerBound && input <= upperBound;
}

function atLeast(lowerBound) {
  return (input) => input >= lowerBound;
}

function compare({ minCardinality, maxCardinality }) {
  if (
    typeof minCardinality === "number" &&
    typeof maxCardinality === "number"
  ) {
    return between(minCardinality, maxCardinality);
  }
  if (typeof minCardinality === "number") {
    return atLeast(minCardinality);
  }
  return () => true;
}

function check(cardinalityRule, input) {
  const comparator = compare(cardinalityRule);
  const isValid = comparator(input);
  return isValid;
}

function validateEntityRules(
  eventSpecId,
  context
) {
  const validationRules = entityRules[eventSpecId];
  if (!validationRules) {
    return;
  }
  if (!Array.isArray(context)) {
    context = [];
  }
  const contextCounts = context.reduce((accum, cur) => {
    const schema = cur.schema;
    if (accum[schema]) {
      accum[schema] += 1;
    } else {
      accum[schema] = 1;
    }
    return accum;
  }, {});
  Object.entries(validationRules).forEach(([schema, cardinalityRule]) => {
    const input = contextCounts[schema];
    if (!input && cardinalityRule?.minCardinality !== 0) {
      violationsHandler({
        ...ERROR_CODES.CARDINALITY_RULES_ERROR_NOT_PRESENT(schema),
        errors: [],
      });
      return;
    }
    const isValid = check(cardinalityRule, input || 0);
    if (!isValid) {
      violationsHandler({
        ...ERROR_CODES.CARDINALITY_RULES_ERROR(schema),
        errors: [{ ...cardinalityRule, currentCardinality: input }],
      });
    }
  });
}
`},5:function(l,n,r,f,a,e,t){var i,o=n??(l.nullContext||{}),s=l.lookupProperty||function(u,m){if(Object.prototype.hasOwnProperty.call(u,m))return u[m]};return((i=s(r,"unless").call(o,n!=null?s(n,"isEntityPropertyRule"):n,{name:"unless",hash:{},fn:l.program(6,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:138,column:0},end:{line:159,column:11}}}))!=null?i:"")+((i=s(r,"unless").call(o,n!=null?s(n,"isEventPropertyRule"):n,{name:"unless",hash:{},fn:l.program(13,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:160,column:0},end:{line:171,column:11}}}))!=null?i:"")},6:function(l,n,r,f,a,e,t){var i,o,s=n??(l.nullContext||{}),u=l.hooks.helperMissing,m="function",c=l.escapeExpression,y=l.lookupProperty||function(g,p){if(Object.prototype.hasOwnProperty.call(g,p))return g[p]};return`/**
 * Track a Snowplow event for `+c((o=(o=y(r,"typeName")||(n!=null?y(n,"typeName"):n))!=null?o:u,typeof o===m?o.call(s,{name:"typeName",hash:{},data:a,loc:{start:{line:140,column:30},end:{line:140,column:42}}}):o))+`.
 * `+c((o=(o=y(r,"description")||(n!=null?y(n,"description"):n))!=null?o:u,typeof o===m?o.call(s,{name:"description",hash:{},data:a,loc:{start:{line:141,column:3},end:{line:141,column:18}}}):o))+`
 * @param { `+c((o=(o=y(r,"typeName")||(n!=null?y(n,"typeName"):n))!=null?o:u,typeof o===m?o.call(s,{name:"typeName",hash:{},data:a,loc:{start:{line:142,column:12},end:{line:142,column:24}}}):o))+" & Timestamp & Context } "+c((y(r,"startLow")||n&&y(n,"startLow")||u).call(s,n!=null?y(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:142,column:49},end:{line:142,column:70}}}))+" - Attributes for "+c((o=(o=y(r,"typeName")||(n!=null?y(n,"typeName"):n))!=null?o:u,typeof o===m?o.call(s,{name:"typeName",hash:{},data:a,loc:{start:{line:142,column:88},end:{line:142,column:100}}}):o))+`.
 * @param {string[]} [trackers] - Tracker names to send the event to.
 */
`+((i=y(r,"unless").call(s,n!=null?y(n,"isEventPropertyRule"):n,{name:"unless",hash:{},fn:l.program(7,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:145,column:0},end:{line:145,column:49}}}))!=null?i:"")+"function track"+c((o=(o=y(r,"functionName")||(n!=null?y(n,"functionName"):n))!=null?o:u,typeof o===m?o.call(s,{name:"functionName",hash:{},data:a,loc:{start:{line:145,column:63},end:{line:145,column:79}}}):o))+"("+c((y(r,"startLow")||n&&y(n,"startLow")||u).call(s,n!=null?y(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:145,column:80},end:{line:145,column:101}}}))+`, trackers){
  const { context, timestamp,`+((i=y(r,"if").call(s,t[1]!=null?y(t[1],"validations"):t[1],{name:"if",hash:{},fn:l.program(9,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:146,column:29},end:{line:146,column:66}}}))!=null?i:"")+" ...data } = "+c((y(r,"startLow")||n&&y(n,"startLow")||u).call(s,n!=null?y(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:146,column:79},end:{line:146,column:100}}}))+`;
  const event = {
    schema: '`+c((o=(o=y(r,"igluUrl")||(n!=null?y(n,"igluUrl"):n))!=null?o:u,typeof o===m?o.call(s,{name:"igluUrl",hash:{},data:a,loc:{start:{line:148,column:13},end:{line:148,column:24}}}):o))+`',
    data
  };
  `+((i=y(r,"if").call(s,t[1]!=null?y(t[1],"validations"):t[1],{name:"if",hash:{},fn:l.program(11,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:151,column:2},end:{line:151,column:101}}}))!=null?i:"")+`
  trackSelfDescribingEvent({
    event,
    context,
    timestamp,
  }, trackers);
}

`},7:function(l,n,r,f,a){return"export "},9:function(l,n,r,f,a){return" __esId,"},11:function(l,n,r,f,a){return"[event].concat(context || []).forEach(s => validateSchema(s, __esId));"},13:function(l,n,r,f,a){var e,t=n??(l.nullContext||{}),i=l.hooks.helperMissing,o="function",s=l.escapeExpression,u=l.lookupProperty||function(m,c){if(Object.prototype.hasOwnProperty.call(m,c))return m[c]};return`/**
 * Creates a Snowplow `+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:162,column:22},end:{line:162,column:34}}}):e))+` entity.
 * @param { `+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:163,column:12},end:{line:163,column:24}}}):e))+" } "+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:163,column:27},end:{line:163,column:48}}}))+" - Attributes for "+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:163,column:66},end:{line:163,column:78}}}):e))+`.
 */
export function create`+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:165,column:22},end:{line:165,column:34}}}):e))+"("+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:165,column:35},end:{line:165,column:56}}}))+`){
  return {
    schema: '`+s((e=(e=u(r,"igluUrl")||(n!=null?u(n,"igluUrl"):n))!=null?e:i,typeof e===o?e.call(t,{name:"igluUrl",hash:{},data:a,loc:{start:{line:167,column:13},end:{line:167,column:24}}}):e))+`',
    data: `+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:168,column:10},end:{line:168,column:31}}}))+`
  }
}
`},15:function(l,n,r,f,a,e,t){var i,o=n??(l.nullContext||{}),s=l.lambda,u=l.escapeExpression,m=l.hooks.helperMissing,c=l.lookupProperty||function(y,g){if(Object.prototype.hasOwnProperty.call(y,g))return y[g]};return((i=c(r,"if").call(o,n!=null?c(n,"entities"):n,{name:"if",hash:{},fn:l.program(16,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:175,column:0},end:{line:182,column:7}}}))!=null?i:"")+"/**"+((i=c(r,"if").call(o,c(r,"lookup").call(o,t[1]!=null?c(t[1],"metadataForAllEventSpecs"):t[1],n!=null?c(n,"id"):n,{name:"lookup",hash:{},data:a,loc:{start:{line:184,column:8},end:{line:184,column:52}}}),{name:"if",hash:{},fn:l.program(19,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:184,column:1},end:{line:184,column:120}}}))!=null?i:"")+`
 * Tracks a `+u(s(n!=null?c(n,"generatedName"):n,n))+` event specification.
 * `+u((c(r,"addEventSpecificationIdentifier")||n&&c(n,"addEventSpecificationIdentifier")||m).call(o,n!=null?c(n,"id"):n,{name:"addEventSpecificationIdentifier",hash:{},data:a,loc:{start:{line:186,column:3},end:{line:186,column:46}}}))+`
 * @param { `+u(s(n!=null?c(n,"event"):n,n))+" & Timestamp"+((i=c(r,"if").call(o,n!=null?c(n,"entities"):n,{name:"if",hash:{},fn:l.program(21,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:187,column:38},end:{line:187,column:99}}}))!=null?i:"")+" } "+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:187,column:102},end:{line:187,column:133}}}))+" - Attributes for "+u(s(n!=null?c(n,"generatedName"):n,n))+` event specification.
 * @param {string[]} [trackers] - Tracker names to send the event specification to.
 */
export function track`+u(s(n!=null?c(n,"generatedName"):n,n))+"Spec("+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:190,column:48},end:{line:190,column:79}}}))+`, trackers){
  const eventSpecificationContext = createEventSpecification({
    id: '`+u(s(n!=null?c(n,"id"):n,n))+`',
    name: '`+u(s(n!=null?c(n,"name"):n,n))+`',
    data_product_id: '`+u(s(n!=null?c(n,"dataProductId"):n,n))+`',
    data_product_name: '`+u(s(n!=null?c(n,"dataProductName"):n,n))+`'
  });

`+((i=c(r,"if").call(o,t[1]!=null?c(t[1],"validations"):t[1],{name:"if",hash:{},fn:l.program(23,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:198,column:2},end:{line:203,column:9}}}))!=null?i:"")+"  const context = Array.isArray("+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:204,column:32},end:{line:204,column:63}}}))+`.context)
    ? [...`+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:205,column:10},end:{line:205,column:41}}}))+`.context, eventSpecificationContext]
    : [eventSpecificationContext];

  const modified`+u(s(n!=null?c(n,"generatedName"):n,n))+` = {
    ...`+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:209,column:7},end:{line:209,column:38}}}))+`,
    context,
`+((i=c(r,"if").call(o,t[1]!=null?c(t[1],"validations"):t[1],{name:"if",hash:{},fn:l.program(25,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:211,column:4},end:{line:214,column:11}}}))!=null?i:"")+`  };

  track`+u(s(n!=null?c(n,"event"):n,n))+"(modified"+u(s(n!=null?c(n,"generatedName"):n,n))+`, trackers);
}
`},16:function(l,n,r,f,a){var e,t=l.lambda,i=l.escapeExpression,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return`/**
 * Typedef for `+i(t(n!=null?o(n,"generatedName"):n,n))+` event specification contexts.
 * @typedef {object} `+i(t(n!=null?o(n,"generatedName"):n,n))+`Contexts
 * @property {(`+((e=o(r,"join").call(n??(l.nullContext||{}),n!=null?o(n,"entities"):n," | ","Context",{name:"join",hash:{},fn:l.program(17,a,0),inverse:l.noop,data:a,loc:{start:{line:179,column:15},end:{line:179,column:63}}}))!=null?e:"")+")[]} [context] Contexts to include in the "+i(t(n!=null?o(n,"generatedName"):n,n))+` event specification.
 */

`},17:function(l,n,r,f,a){return""},19:function(l,n,r,f,a,e,t){var i=l.lookupProperty||function(o,s){if(Object.prototype.hasOwnProperty.call(o,s))return o[s]};return l.escapeExpression((i(r,"warningsMetadataJs")||n&&i(n,"warningsMetadataJs")||l.hooks.helperMissing).call(n??(l.nullContext||{}),t[1]!=null?i(t[1],"metadataForAllEventSpecs"):t[1],n!=null?i(n,"id"):n,{name:"warningsMetadataJs",hash:{},data:a,loc:{start:{line:184,column:54},end:{line:184,column:113}}}))},21:function(l,n,r,f,a){var e=l.lookupProperty||function(t,i){if(Object.prototype.hasOwnProperty.call(t,i))return t[i]};return" & "+l.escapeExpression(l.lambda(n!=null?e(n,"generatedName"):n,n))+"Contexts"},23:function(l,n,r,f,a){var e=l.escapeExpression,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return`  validateEntityRules(
    '`+e(l.lambda(n!=null?t(n,"id"):n,n))+`',
    `+e((t(r,"startLow")||n&&t(n,"startLow")||l.hooks.helperMissing).call(n??(l.nullContext||{}),n!=null?t(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:201,column:4},end:{line:201,column:35}}}))+`.context
  );
`},25:function(l,n,r,f,a){var e=l.lookupProperty||function(t,i){if(Object.prototype.hasOwnProperty.call(t,i))return t[i]};return`    /* Used for runtime validation only */
    __esId: '`+l.escapeExpression(l.lambda(n!=null?e(n,"id"):n,n))+`'
`},27:function(l,n,r,f,a){var e,t=n??(l.nullContext||{}),i=l.lambda,o=l.escapeExpression,s=l.hooks.helperMissing,u=l.lookupProperty||function(m,c){if(Object.prototype.hasOwnProperty.call(m,c))return m[c]};return((e=u(r,"if").call(t,n!=null?u(n,"entities"):n,{name:"if",hash:{},fn:l.program(16,a,0),inverse:l.noop,data:a,loc:{start:{line:221,column:0},end:{line:228,column:7}}}))!=null?e:"")+`/**
 * Tracks a `+o(i(n!=null?u(n,"generatedName"):n,n))+` event specification.
 * `+o((u(r,"addEventSpecificationIdentifier")||n&&u(n,"addEventSpecificationIdentifier")||s).call(t,n!=null?u(n,"id"):n,{name:"addEventSpecificationIdentifier",hash:{},data:a,loc:{start:{line:231,column:3},end:{line:231,column:46}}}))+`
 * @param { `+o((u(r,"ecomFunctionArgument")||n&&u(n,"ecomFunctionArgument")||s).call(t,n!=null?u(n,"event"):n,{name:"ecomFunctionArgument",hash:{},data:a,loc:{start:{line:232,column:12},end:{line:232,column:47}}}))+" "+((e=u(r,"if").call(t,n!=null?u(n,"entities"):n,{name:"if",hash:{},fn:l.program(28,a,0),inverse:l.program(30,a,0),data:a,loc:{start:{line:232,column:48},end:{line:232,column:153}}}))!=null?e:"")+" } "+o((u(r,"startLow")||n&&u(n,"startLow")||s).call(t,n!=null?u(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:232,column:156},end:{line:232,column:187}}}))+" - Attributes for "+o(i(n!=null?u(n,"generatedName"):n,n))+` event specification.
 * @param {string[]} [trackers] - Tracker names to send the event specification to.
 */
export function track`+o(i(n!=null?u(n,"generatedName"):n,n))+"Spec("+o((u(r,"startLow")||n&&u(n,"startLow")||s).call(t,n!=null?u(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:235,column:48},end:{line:235,column:79}}}))+`, trackers){
  const eventSpecificationContext = createEventSpecification({ 
    id: '`+o(i(n!=null?u(n,"id"):n,n))+`',
    name: '`+o(i(n!=null?u(n,"name"):n,n))+`',
    data_product_id: '`+o(i(n!=null?u(n,"dataProductId"):n,n))+`',
    data_product_name: '`+o(i(n!=null?u(n,"dataProductName"):n,n))+`'
  });

  const context = Array.isArray(`+o((u(r,"startLow")||n&&u(n,"startLow")||s).call(t,n!=null?u(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:243,column:32},end:{line:243,column:63}}}))+`.context)
    ? [...`+o((u(r,"startLow")||n&&u(n,"startLow")||s).call(t,n!=null?u(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:244,column:10},end:{line:244,column:41}}}))+`.context, eventSpecificationContext]
    : [eventSpecificationContext];

  const modified`+o(i(n!=null?u(n,"generatedName"):n,n))+` = {
    ...`+o((u(r,"startLow")||n&&u(n,"startLow")||s).call(t,n!=null?u(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:248,column:7},end:{line:248,column:38}}}))+`,
    context,
  };
 
  `+o((u(r,"ecomFunction")||n&&u(n,"ecomFunction")||s).call(t,n!=null?u(n,"event"):n,{name:"ecomFunction",hash:{},data:a,loc:{start:{line:252,column:2},end:{line:252,column:29}}}))+"(modified"+o(i(n!=null?u(n,"generatedName"):n,n))+`, trackers);
}
`},28:function(l,n,r,f,a){var e=l.lookupProperty||function(t,i){if(Object.prototype.hasOwnProperty.call(t,i))return t[i]};return"& "+l.escapeExpression(l.lambda(n!=null?e(n,"generatedName"):n,n))+"Contexts"},30:function(l,n,r,f,a){return"& Ecom.CommonEcommerceEventProperties"},compiler:[8,">= 4.3.0"],main:function(l,n,r,f,a,e,t){var i,o=n??(l.nullContext||{}),s=l.lookupProperty||function(u,m){if(Object.prototype.hasOwnProperty.call(u,m))return u[m]};return((i=s(r,"if").call(o,(s(r,"or")||n&&s(n,"or")||l.hooks.helperMissing).call(o,(i=n!=null?s(n,"eventSpecifications"):n)!=null?s(i,"length"):i,(i=n!=null?s(n,"ecomEventSpecifications"):n)!=null?s(i,"length"):i,{name:"or",hash:{},data:a,loc:{start:{line:1,column:6},end:{line:1,column:68}}}),{name:"if",hash:{},fn:l.program(1,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:1,column:0},end:{line:12,column:7}}}))!=null?i:"")+`
`+((i=s(r,"if").call(o,n!=null?s(n,"validations"):n,{name:"if",hash:{},fn:l.program(3,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:14,column:0},end:{line:135,column:7}}}))!=null?i:"")+`
`+((i=s(r,"each").call(o,n!=null?s(n,"type"):n,{name:"each",hash:{},fn:l.program(5,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:137,column:0},end:{line:172,column:9}}}))!=null?i:"")+`
`+((i=s(r,"each").call(o,n!=null?s(n,"eventSpecifications"):n,{name:"each",hash:{},fn:l.program(15,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:174,column:0},end:{line:219,column:9}}}))!=null?i:"")+((i=s(r,"each").call(o,n!=null?s(n,"ecomEventSpecifications"):n,{name:"each",hash:{},fn:l.program(27,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:220,column:0},end:{line:254,column:9}}}))!=null?i:"")},useData:!0,useDepths:!0}});var nl=b((sa,hn)=>{"use strict";hn.exports={id:{language:"javascript",tracker:"@snowplow/javascript-tracker"},1:function(l,n,r,f,a){var e,t=n??(l.nullContext||{}),i=l.hooks.helperMissing,o="function",s=l.escapeExpression,u=l.lookupProperty||function(m,c){if(Object.prototype.hasOwnProperty.call(m,c))return m[c]};return`/**
 * Track a Snowplow event for `+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:3,column:30},end:{line:3,column:42}}}):e))+`.
 * `+s((e=(e=u(r,"description")||(n!=null?u(n,"description"):n))!=null?e:i,typeof e===o?e.call(t,{name:"description",hash:{},data:a,loc:{start:{line:4,column:3},end:{line:4,column:18}}}):e))+`
 * @param { `+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:5,column:12},end:{line:5,column:24}}}):e))+" & Timestamp & Context } "+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:5,column:49},end:{line:5,column:70}}}))+" - Attributes for "+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:5,column:88},end:{line:5,column:100}}}):e))+`.
 * @param {string[]} [trackers] - Tracker names to send the event to.
 */
function track`+s((e=(e=u(r,"functionName")||(n!=null?u(n,"functionName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"functionName",hash:{},data:a,loc:{start:{line:8,column:14},end:{line:8,column:30}}}):e))+"("+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:8,column:31},end:{line:8,column:52}}}))+`, trackers){
  const trackerNames = (trackers && trackers.length) ? ':' + trackers.join(';') : '';
  const { context, timestamp, ...data } = `+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:10,column:42},end:{line:10,column:63}}}))+`;
  window.snowplow('trackSelfDescribingEvent' + trackerNames, {
    event: {
      schema: '`+s((e=(e=u(r,"igluUrl")||(n!=null?u(n,"igluUrl"):n))!=null?e:i,typeof e===o?e.call(t,{name:"igluUrl",hash:{},data:a,loc:{start:{line:13,column:15},end:{line:13,column:26}}}):e))+`',
      data
    },
    context,
    timestamp,
  });
}

/**
 * Creates a Snowplow `+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:22,column:22},end:{line:22,column:34}}}):e))+` entity.
 * @param { `+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:23,column:12},end:{line:23,column:24}}}):e))+" } "+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:23,column:27},end:{line:23,column:48}}}))+" - Attributes for "+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:23,column:66},end:{line:23,column:78}}}):e))+`.
 */
function create`+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:25,column:15},end:{line:25,column:27}}}):e))+"("+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:25,column:28},end:{line:25,column:49}}}))+`){
  return {
    schema: '`+s((e=(e=u(r,"igluUrl")||(n!=null?u(n,"igluUrl"):n))!=null?e:i,typeof e===o?e.call(t,{name:"igluUrl",hash:{},data:a,loc:{start:{line:27,column:13},end:{line:27,column:24}}}):e))+`',
    data: `+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:28,column:10},end:{line:28,column:31}}}))+`
  }
}
`},3:function(l,n,r,f,a){return`/**
 * Creates a Snowplow Event Specification entity.
 */
export function createEventSpecification(eventSpecification){
  return {
    schema:
      'iglu:com.snowplowanalytics.snowplow/event_specification/jsonschema/1-0-2',
    data: eventSpecification,
  }
}
`},5:function(l,n,r,f,a,e,t){var i,o=n??(l.nullContext||{}),s=l.lambda,u=l.escapeExpression,m=l.hooks.helperMissing,c=l.lookupProperty||function(y,g){if(Object.prototype.hasOwnProperty.call(y,g))return y[g]};return((i=c(r,"if").call(o,n!=null?c(n,"entities"):n,{name:"if",hash:{},fn:l.program(6,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:47,column:0},end:{line:54,column:7}}}))!=null?i:"")+"/**"+((i=c(r,"if").call(o,c(r,"lookup").call(o,t[1]!=null?c(t[1],"metadataForAllEventSpecs"):t[1],n!=null?c(n,"id"):n,{name:"lookup",hash:{},data:a,loc:{start:{line:56,column:8},end:{line:56,column:52}}}),{name:"if",hash:{},fn:l.program(9,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:56,column:1},end:{line:56,column:120}}}))!=null?i:"")+`
 * Tracks a `+u(s(n!=null?c(n,"generatedName"):n,n))+` event specification.
 * `+u((c(r,"addEventSpecificationIdentifier")||n&&c(n,"addEventSpecificationIdentifier")||m).call(o,n!=null?c(n,"id"):n,{name:"addEventSpecificationIdentifier",hash:{},data:a,loc:{start:{line:58,column:3},end:{line:58,column:46}}}))+`
 * @param { `+u(s(n!=null?c(n,"event"):n,n))+" & Timestamp"+((i=c(r,"if").call(o,n!=null?c(n,"entities"):n,{name:"if",hash:{},fn:l.program(11,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:59,column:38},end:{line:59,column:99}}}))!=null?i:"")+" } "+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:59,column:102},end:{line:59,column:133}}}))+" - Attributes for "+u(s(n!=null?c(n,"generatedName"):n,n))+` event specification.
 * @param {string[]} [trackers] - Tracker names to send the event specification to.
 */
function track`+u(s(n!=null?c(n,"generatedName"):n,n))+"Spec("+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:62,column:41},end:{line:62,column:72}}}))+`, trackers){
  const eventSpecificationContext = createEventSpecification({
    id: '`+u(s(n!=null?c(n,"id"):n,n))+`',
    name: '`+u(s(n!=null?c(n,"name"):n,n))+`',
    data_product_id: '`+u(s(n!=null?c(n,"dataProductId"):n,n))+`',
    data_product_name: '`+u(s(n!=null?c(n,"dataProductName"):n,n))+`'
  });

  const context = Array.isArray(`+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:70,column:32},end:{line:70,column:63}}}))+`.context)
    ? [...`+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:71,column:10},end:{line:71,column:41}}}))+`.context, eventSpecificationContext]
    : [eventSpecificationContext];

  const modified`+u(s(n!=null?c(n,"generatedName"):n,n))+` = {
    ...`+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:75,column:7},end:{line:75,column:38}}}))+`,
    context,
  };

  track`+u(s(n!=null?c(n,"event"):n,n))+"(modified"+u(s(n!=null?c(n,"generatedName"):n,n))+`, trackers);
}
`},6:function(l,n,r,f,a){var e,t=l.lambda,i=l.escapeExpression,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return`/**
 * Typedef for `+i(t(n!=null?o(n,"generatedName"):n,n))+` event specification contexts.
 * @typedef {object} `+i(t(n!=null?o(n,"generatedName"):n,n))+`Contexts
 * @property {(`+((e=o(r,"join").call(n??(l.nullContext||{}),n!=null?o(n,"entities"):n," | ","Context",{name:"join",hash:{},fn:l.program(7,a,0),inverse:l.noop,data:a,loc:{start:{line:51,column:15},end:{line:51,column:63}}}))!=null?e:"")+")[]} [context] Contexts to include in the "+i(t(n!=null?o(n,"generatedName"):n,n))+` event specification.
 */

`},7:function(l,n,r,f,a){return""},9:function(l,n,r,f,a,e,t){var i=l.lookupProperty||function(o,s){if(Object.prototype.hasOwnProperty.call(o,s))return o[s]};return l.escapeExpression((i(r,"warningsMetadataJs")||n&&i(n,"warningsMetadataJs")||l.hooks.helperMissing).call(n??(l.nullContext||{}),t[1]!=null?i(t[1],"metadataForAllEventSpecs"):t[1],n!=null?i(n,"id"):n,{name:"warningsMetadataJs",hash:{},data:a,loc:{start:{line:56,column:54},end:{line:56,column:113}}}))},11:function(l,n,r,f,a){var e=l.lookupProperty||function(t,i){if(Object.prototype.hasOwnProperty.call(t,i))return t[i]};return" & "+l.escapeExpression(l.lambda(n!=null?e(n,"generatedName"):n,n))+"Contexts"},compiler:[8,">= 4.3.0"],main:function(l,n,r,f,a,e,t){var i,o,s,u=n??(l.nullContext||{}),m=l.lookupProperty||function(y,g){if(Object.prototype.hasOwnProperty.call(y,g))return y[g]},c="";return i=(o=(o=m(r,"type")||(n!=null?m(n,"type"):n))!=null?o:l.hooks.helperMissing,s={name:"type",hash:{},fn:l.program(1,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:1,column:0},end:{line:31,column:9}}},typeof o=="function"?o.call(u,s):o),m(r,"type")||(i=l.hooks.blockHelperMissing.call(n,i,s)),i!=null&&(c+=i),c+`
`+((i=m(r,"if").call(u,(i=n!=null?m(n,"eventSpecifications"):n)!=null?m(i,"length"):i,{name:"if",hash:{},fn:l.program(3,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:33,column:0},end:{line:44,column:7}}}))!=null?i:"")+`
`+((i=m(r,"each").call(u,n!=null?m(n,"eventSpecifications"):n,{name:"each",hash:{},fn:l.program(5,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:46,column:0},end:{line:81,column:9}}}))!=null?i:"")},useData:!0,useDepths:!0}});var el=b((ca,ll)=>{"use strict";ll.exports={id:{language:"javascript",tracker:"@snowplow/node-tracker"},1:function(l,n,r,f,a){return`/**
 * Creates a Snowplow Event Specification entity.
 */
export function createEventSpecification(eventSpecification){
  return {
    schema:
      'iglu:com.snowplowanalytics.snowplow/event_specification/jsonschema/1-0-2',
    data: eventSpecification,
  }
}
`},3:function(l,n,r,f,a){var e,t=n??(l.nullContext||{}),i=l.hooks.helperMissing,o="function",s=l.escapeExpression,u=l.lookupProperty||function(m,c){if(Object.prototype.hasOwnProperty.call(m,c))return m[c]};return`/**
 * Track a Snowplow event for `+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:21,column:30},end:{line:21,column:42}}}):e))+`.
 * `+s((e=(e=u(r,"description")||(n!=null?u(n,"description"):n))!=null?e:i,typeof e===o?e.call(t,{name:"description",hash:{},data:a,loc:{start:{line:22,column:3},end:{line:22,column:18}}}):e))+`
 * @param {Tracker} tracker - Tracker to send the event to.
 * @param { `+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:24,column:12},end:{line:24,column:24}}}):e))+" & Timestamp & Context } "+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:24,column:49},end:{line:24,column:70}}}))+" - Attributes for "+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:24,column:88},end:{line:24,column:100}}}):e))+`.
 */
export function track`+s((e=(e=u(r,"functionName")||(n!=null?u(n,"functionName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"functionName",hash:{},data:a,loc:{start:{line:26,column:21},end:{line:26,column:37}}}):e))+"(tracker, "+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:26,column:47},end:{line:26,column:68}}}))+`){
  const { context, timestamp, ...data } = `+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:27,column:42},end:{line:27,column:63}}}))+`;

  tracker.track(buildSelfDescribingEvent({
    event: {
      schema: '`+s((e=(e=u(r,"igluUrl")||(n!=null?u(n,"igluUrl"):n))!=null?e:i,typeof e===o?e.call(t,{name:"igluUrl",hash:{},data:a,loc:{start:{line:31,column:15},end:{line:31,column:26}}}):e))+`',
      data
    }
  }), context, timestamp);
}

/**
 * Creates a Snowplow `+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:38,column:22},end:{line:38,column:34}}}):e))+` entity.
 * @param { `+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:39,column:12},end:{line:39,column:24}}}):e))+" } "+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:39,column:27},end:{line:39,column:48}}}))+" - Attributes for "+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:39,column:66},end:{line:39,column:78}}}):e))+`.
 */
export function create`+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:41,column:22},end:{line:41,column:34}}}):e))+"("+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:41,column:35},end:{line:41,column:56}}}))+`){
  return {
    schema: '`+s((e=(e=u(r,"igluUrl")||(n!=null?u(n,"igluUrl"):n))!=null?e:i,typeof e===o?e.call(t,{name:"igluUrl",hash:{},data:a,loc:{start:{line:43,column:13},end:{line:43,column:24}}}):e))+`',
    data: `+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:44,column:10},end:{line:44,column:31}}}))+`
  }
}
`},5:function(l,n,r,f,a,e,t){var i,o=n??(l.nullContext||{}),s=l.lambda,u=l.escapeExpression,m=l.hooks.helperMissing,c=l.lookupProperty||function(y,g){if(Object.prototype.hasOwnProperty.call(y,g))return y[g]};return((i=c(r,"if").call(o,n!=null?c(n,"entities"):n,{name:"if",hash:{},fn:l.program(6,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:50,column:0},end:{line:57,column:7}}}))!=null?i:"")+"/**"+((i=c(r,"if").call(o,c(r,"lookup").call(o,t[1]!=null?c(t[1],"metadataForAllEventSpecs"):t[1],n!=null?c(n,"id"):n,{name:"lookup",hash:{},data:a,loc:{start:{line:59,column:8},end:{line:59,column:52}}}),{name:"if",hash:{},fn:l.program(9,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:59,column:1},end:{line:59,column:120}}}))!=null?i:"")+`
 * Tracks a `+u(s(n!=null?c(n,"generatedName"):n,n))+` event specification.
 * `+u((c(r,"addEventSpecificationIdentifier")||n&&c(n,"addEventSpecificationIdentifier")||m).call(o,n!=null?c(n,"id"):n,{name:"addEventSpecificationIdentifier",hash:{},data:a,loc:{start:{line:61,column:3},end:{line:61,column:46}}}))+`
 * @param {Tracker} tracker - Tracker to send the tracking event specification to.
 * @param { `+u(s(n!=null?c(n,"event"):n,n))+" & Timestamp"+((i=c(r,"if").call(o,n!=null?c(n,"entities"):n,{name:"if",hash:{},fn:l.program(11,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:63,column:38},end:{line:63,column:91}}}))!=null?i:"")+" } "+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:63,column:94},end:{line:63,column:125}}}))+" - Attributes for "+u(s(n!=null?c(n,"generatedName"):n,n))+` event specification.
 */
export function track`+u(s(n!=null?c(n,"generatedName"):n,n))+"Spec(tracker, "+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:65,column:57},end:{line:65,column:88}}}))+`){
  const eventSpecificationContext = createEventSpecification({ 
    id: '`+u(s(n!=null?c(n,"id"):n,n))+`',
    name: '`+u(s(n!=null?c(n,"name"):n,n))+`',
    data_product_id: '`+u(s(n!=null?c(n,"dataProductId"):n,n))+`',
    data_product_name: '`+u(s(n!=null?c(n,"dataProductName"):n,n))+`'
  });

 const context = Array.isArray(`+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:73,column:31},end:{line:73,column:62}}}))+`.context)
    ? [...`+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:74,column:10},end:{line:74,column:41}}}))+`.context, eventSpecificationContext]
    : [eventSpecificationContext];

  const modified`+u(s(n!=null?c(n,"generatedName"):n,n))+` = {
    ...`+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:78,column:7},end:{line:78,column:38}}}))+`,
    context,
  };

  track`+u(s(n!=null?c(n,"event"):n,n))+"(tracker, modified"+u(s(n!=null?c(n,"generatedName"):n,n))+`);
}
`},6:function(l,n,r,f,a){var e,t=l.lambda,i=l.escapeExpression,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return`/**
 * Typedef for `+i(t(n!=null?o(n,"generatedName"):n,n))+` event specification contexts.
 * @typedef {object} `+i(t(n!=null?o(n,"event"):n,n))+`Contexts
 * @property {(`+((e=o(r,"join").call(n??(l.nullContext||{}),n!=null?o(n,"entities"):n," | ","Context",{name:"join",hash:{},fn:l.program(7,a,0),inverse:l.noop,data:a,loc:{start:{line:54,column:15},end:{line:54,column:63}}}))!=null?e:"")+")[]} [context] Contexts to include in the "+i(t(n!=null?o(n,"generatedName"):n,n))+` event specification.
 */

`},7:function(l,n,r,f,a){return""},9:function(l,n,r,f,a,e,t){var i=l.lookupProperty||function(o,s){if(Object.prototype.hasOwnProperty.call(o,s))return o[s]};return l.escapeExpression((i(r,"warningsMetadataJs")||n&&i(n,"warningsMetadataJs")||l.hooks.helperMissing).call(n??(l.nullContext||{}),t[1]!=null?i(t[1],"metadataForAllEventSpecs"):t[1],n!=null?i(n,"id"):n,{name:"warningsMetadataJs",hash:{},data:a,loc:{start:{line:59,column:54},end:{line:59,column:113}}}))},11:function(l,n,r,f,a){var e=l.lookupProperty||function(t,i){if(Object.prototype.hasOwnProperty.call(t,i))return t[i]};return" & "+l.escapeExpression(l.lambda(n!=null?e(n,"event"):n,n))+"Contexts"},compiler:[8,">= 4.3.0"],main:function(l,n,r,f,a,e,t){var i,o,s,u=n??(l.nullContext||{}),m=l.lookupProperty||function(y,g){if(Object.prototype.hasOwnProperty.call(y,g))return y[g]},c=((i=m(r,"if").call(u,(i=n!=null?m(n,"eventSpecifications"):n)!=null?m(i,"length"):i,{name:"if",hash:{},fn:l.program(1,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:1,column:0},end:{line:12,column:7}}}))!=null?i:"")+`
/**
 * Typedef for a Node.js tracker object.
 * @typedef {object} Tracker
 */

`;return i=(o=(o=m(r,"type")||(n!=null?m(n,"type"):n))!=null?o:l.hooks.helperMissing,s={name:"type",hash:{},fn:l.program(3,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:19,column:0},end:{line:47,column:9}}},typeof o=="function"?o.call(u,s):o),m(r,"type")||(i=l.hooks.blockHelperMissing.call(n,i,s)),i!=null&&(c+=i),c+`
`+((i=m(r,"each").call(u,n!=null?m(n,"eventSpecifications"):n,{name:"each",hash:{},fn:l.program(5,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:49,column:0},end:{line:84,column:9}}}))!=null?i:"")},useData:!0,useDepths:!0}});var ol=b((ma,al)=>{"use strict";al.exports={id:{language:"typescript",tracker:"@snowplow/browser-tracker"},1:function(l,n,r,f,a){return`/**
 * Creates a Snowplow Event Specification entity.
 */
export function createEventSpecification(eventSpecification: EventSpecification){
  return {
    schema:
      'iglu:com.snowplowanalytics.snowplow/event_specification/jsonschema/1-0-2',
    data: eventSpecification,
  }
}

/**
 * Automatically attached context for event specifications
 */
interface EventSpecification {
  id: string;
  name: string;
  data_product_id: string;
  data_product_name: string;
}
`},3:function(l,n,r,f,a){return`const ajv = new Ajv({ allErrors: true, verbose: true, strict: false });
addFormats(ajv);

type EventSpecIdInput = { __esId: string | undefined };

type ERROR_TYPES =
  | "SCHEMA_VALIDATION_ERROR"
  | "CARDINALITY_RULES_ERROR"
  | "CARDINALITY_RULES_ERROR_NOT_PRESENT";
type ERROR_CODE = { code: number; message: string; description: string };
type ERROR_CODES_DICT = Record<ERROR_TYPES, (schema: string) => ERROR_CODE>;

const ERROR_CODES: ERROR_CODES_DICT = {
  SCHEMA_VALIDATION_ERROR: (schema: string) => ({
    code: 100,
    message: "Snowtype Schema Validation Error",
    description: \`'There was passing of values that does not match the JSON Schema definition for \${schema}.'\`,
  }),
  CARDINALITY_RULES_ERROR: (schema: string) => ({
    code: 200,
    message: "Snowtype Entity Cardinality Rules Error",
    description: \`\${schema} failed entity rules validation.\`,
  }),
  CARDINALITY_RULES_ERROR_NOT_PRESENT: (schema: string) => ({
    code: 201,
    message: "Snowtype Entity Cardinality Rules Error",
    description: \`No \${schema} context detected while a rule is present.\`,
  }),
};

export type ErrorType = {
  code: number;
  message: string;
  description: string;
  errors: (ErrorObject | Record<string, unknown>)[];
};

const defaultViolationErrorHandler = (errorMessage: ErrorType) => {
  const msg = JSON.stringify(errorMessage, undefined, 4);
  if (
    typeof process !== "undefined" &&
    typeof process.env === "object" &&
    process.env.NODE_ENV === "test"
  ) {
    throw new Error(JSON.stringify(errorMessage));
  }
  console.warn(msg);
};

export type SnowtypeOptions = {
  violationsHandler: (errorMessage: ErrorType) => void;
};

let violationsHandler = defaultViolationErrorHandler;

export const snowtype = {
  setOptions(options: Partial<SnowtypeOptions>) {
    violationsHandler = options.violationsHandler || violationsHandler;
  },
};

function validateSchema(sdj: SelfDescribingJson, esId?: string) {
  let schemaToValidateWith = esId && schemasObject[esId] && (schemasObject[esId] as Record<string, AnySchema>)[sdj.schema];
  if(!schemaToValidateWith){
    schemaToValidateWith = schemasObject[sdj.schema]
  }
  const valid = ajv.validate(schemaToValidateWith, sdj.data);
  if (!valid && ajv.errors?.length) {
    violationsHandler({
      ...ERROR_CODES.SCHEMA_VALIDATION_ERROR(sdj.schema),
      errors: ajv.errors,
    });
  }
}

function between(lowerBound: number, upperBound: number){
  return (input: number) => input >= lowerBound && input <= upperBound
}

function atLeast(lowerBound: number){
  return (input: number) => input >= lowerBound
}

function compare({ minCardinality, maxCardinality }: CardinalityRule) {
  if(typeof minCardinality === 'number' && typeof maxCardinality === 'number'){
    return between(minCardinality, maxCardinality)
  }
  if(typeof minCardinality === 'number'){
    return atLeast(minCardinality)
  }
  return () => true
}

function check(cardinalityRule: CardinalityRule, input: number): boolean {
  const comparator = compare(cardinalityRule);
  const isValid = comparator(input);
  return isValid;
}

function validateEntityRules(
  eventSpecId: keyof typeof entityRules,
  context?: SelfDescribingJson[]
) {
  const validationRules = entityRules[eventSpecId];
  if (!validationRules) {
    return;
  }
  if (!Array.isArray(context)) {
    context = [];
  }
  const contextCounts = context.reduce<Record<string, number>>((accum, cur) => {
    const schema = cur.schema;
    if (accum[schema]) {
      accum[schema] += 1;
    } else {
      accum[schema] = 1;
    }
    return accum;
  }, {});
  Object.entries(validationRules).forEach(([schema, cardinalityRule]) => {
    const input = contextCounts[schema];
    if (!input && cardinalityRule?.minCardinality !== 0) {
      violationsHandler({
        ...ERROR_CODES.CARDINALITY_RULES_ERROR_NOT_PRESENT(schema),
        errors: [],
      });
      return;
    }
    const isValid = check(cardinalityRule, input || 0);
    if (!isValid) {
      violationsHandler({
        ...ERROR_CODES.CARDINALITY_RULES_ERROR(schema),
        errors: [{ ...cardinalityRule, currentCardinality: input }],
      });
    }
  });
}
`},5:function(l,n,r,f,a,e,t){var i,o=n??(l.nullContext||{}),s=l.lookupProperty||function(u,m){if(Object.prototype.hasOwnProperty.call(u,m))return u[m]};return((i=s(r,"unless").call(o,n!=null?s(n,"isEntityPropertyRule"):n,{name:"unless",hash:{},fn:l.program(6,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:165,column:0},end:{line:184,column:11}}}))!=null?i:"")+((i=s(r,"unless").call(o,n!=null?s(n,"isEventPropertyRule"):n,{name:"unless",hash:{},fn:l.program(15,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:185,column:0},end:{line:195,column:11}}}))!=null?i:"")},6:function(l,n,r,f,a,e,t){var i,o,s=n??(l.nullContext||{}),u=l.hooks.helperMissing,m="function",c=l.escapeExpression,y=l.lookupProperty||function(g,p){if(Object.prototype.hasOwnProperty.call(g,p))return g[p]};return`/**
 * Track a Snowplow event for `+c((o=(o=y(r,"typeName")||(n!=null?y(n,"typeName"):n))!=null?o:u,typeof o===m?o.call(s,{name:"typeName",hash:{},data:a,loc:{start:{line:167,column:30},end:{line:167,column:42}}}):o))+`.
 * `+c((o=(o=y(r,"description")||(n!=null?y(n,"description"):n))!=null?o:u,typeof o===m?o.call(s,{name:"description",hash:{},data:a,loc:{start:{line:168,column:3},end:{line:168,column:18}}}):o))+`
 */
`+((i=y(r,"unless").call(s,n!=null?y(n,"isEventPropertyRule"):n,{name:"unless",hash:{},fn:l.program(7,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:170,column:0},end:{line:170,column:49}}}))!=null?i:"")+"function track"+c((o=(o=y(r,"functionName")||(n!=null?y(n,"functionName"):n))!=null?o:u,typeof o===m?o.call(s,{name:"functionName",hash:{},data:a,loc:{start:{line:170,column:63},end:{line:170,column:79}}}):o))+"<T extends {} = any>("+c((y(r,"startLow")||n&&y(n,"startLow")||u).call(s,n!=null?y(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:170,column:100},end:{line:170,column:121}}}))+": "+c((o=(o=y(r,"typeName")||(n!=null?y(n,"typeName"):n))!=null?o:u,typeof o===m?o.call(s,{name:"typeName",hash:{},data:a,loc:{start:{line:170,column:123},end:{line:170,column:135}}}):o))+` & ContextsOrTimestamp<T>, trackers?: string[]){
  const { context, timestamp,`+((i=y(r,"if").call(s,t[1]!=null?y(t[1],"validations"):t[1],{name:"if",hash:{},fn:l.program(9,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:171,column:29},end:{line:171,column:66}}}))!=null?i:"")+" ...data } = "+c((y(r,"startLow")||n&&y(n,"startLow")||u).call(s,n!=null?y(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:171,column:79},end:{line:171,column:100}}}))+((i=y(r,"if").call(s,t[1]!=null?y(t[1],"validations"):t[1],{name:"if",hash:{},fn:l.program(11,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:171,column:100},end:{line:171,column:180}}}))!=null?i:"")+`;
  const event: SelfDescribingJson = {
    schema: '`+c((o=(o=y(r,"igluUrl")||(n!=null?y(n,"igluUrl"):n))!=null?o:u,typeof o===m?o.call(s,{name:"igluUrl",hash:{},data:a,loc:{start:{line:173,column:13},end:{line:173,column:24}}}):o))+`',
    data
  };
  `+((i=y(r,"if").call(s,t[1]!=null?y(t[1],"validations"):t[1],{name:"if",hash:{},fn:l.program(13,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:176,column:2},end:{line:176,column:101}}}))!=null?i:"")+`
  trackSelfDescribingEvent({
    event,
    context,
    timestamp,
  }, trackers);
}

`},7:function(l,n,r,f,a){return"export "},9:function(l,n,r,f,a){return" __esId,"},11:function(l,n,r,f,a){var e=l.lookupProperty||function(t,i){if(Object.prototype.hasOwnProperty.call(t,i))return t[i]};return" as typeof "+l.escapeExpression((e(r,"startLow")||n&&e(n,"startLow")||l.hooks.helperMissing).call(n??(l.nullContext||{}),n!=null?e(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:171,column:133},end:{line:171,column:154}}}))+" & EventSpecIdInput"},13:function(l,n,r,f,a){return"[event].concat(context || []).forEach(s => validateSchema(s, __esId));"},15:function(l,n,r,f,a){var e,t=n??(l.nullContext||{}),i=l.hooks.helperMissing,o="function",s=l.escapeExpression,u=l.lookupProperty||function(m,c){if(Object.prototype.hasOwnProperty.call(m,c))return m[c]};return`/**
 * Creates a Snowplow `+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:187,column:22},end:{line:187,column:34}}}):e))+` entity.
 */
export function create`+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:189,column:22},end:{line:189,column:34}}}):e))+"("+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:189,column:35},end:{line:189,column:56}}}))+": "+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:189,column:58},end:{line:189,column:70}}}):e))+`){
  return {
    schema: '`+s((e=(e=u(r,"igluUrl")||(n!=null?u(n,"igluUrl"):n))!=null?e:i,typeof e===o?e.call(t,{name:"igluUrl",hash:{},data:a,loc:{start:{line:191,column:13},end:{line:191,column:24}}}):e))+`',
    data: `+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:192,column:10},end:{line:192,column:31}}}))+`
  }
}
`},17:function(l,n,r,f,a,e,t){var i,o=n??(l.nullContext||{}),s=l.lambda,u=l.escapeExpression,m=l.hooks.helperMissing,c=l.lookupProperty||function(y,g){if(Object.prototype.hasOwnProperty.call(y,g))return y[g]};return"/**"+((i=c(r,"if").call(o,c(r,"lookup").call(o,t[1]!=null?c(t[1],"metadataForAllEventSpecs"):t[1],n!=null?c(n,"id"):n,{name:"lookup",hash:{},data:a,loc:{start:{line:200,column:8},end:{line:200,column:52}}}),{name:"if",hash:{},fn:l.program(18,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:200,column:1},end:{line:200,column:120}}}))!=null?i:"")+`
 * Tracks a `+u(s(n!=null?c(n,"generatedName"):n,n))+` event specification.
 * `+u((c(r,"addEventSpecificationIdentifier")||n&&c(n,"addEventSpecificationIdentifier")||m).call(o,n!=null?c(n,"id"):n,{name:"addEventSpecificationIdentifier",hash:{},data:a,loc:{start:{line:202,column:3},end:{line:202,column:46}}}))+`
 */
export function track`+u(s(n!=null?c(n,"generatedName"):n,n))+"Spec("+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:204,column:48},end:{line:204,column:79}}}))+": "+u(s(n!=null?c(n,"event"):n,n))+" & ContextsOrTimestamp"+((i=c(r,"if").call(o,n!=null?c(n,"entities"):n,{name:"if",hash:{},fn:l.program(20,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:204,column:117},end:{line:204,column:185}}}))!=null?i:"")+`, trackers?: string[]){
  const eventSpecificationContext: SelfDescribingJson<EventSpecification> = createEventSpecification({ 
    id: '`+u(s(n!=null?c(n,"id"):n,n))+`',
    name: '`+u(s(n!=null?c(n,"name"):n,n))+`',
    data_product_id: '`+u(s(n!=null?c(n,"dataProductId"):n,n))+`',
    data_product_name: '`+u(s(n!=null?c(n,"dataProductName"):n,n))+`'
  });

`+((i=c(r,"if").call(o,t[1]!=null?c(t[1],"validations"):t[1],{name:"if",hash:{},fn:l.program(23,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:212,column:2},end:{line:217,column:9}}}))!=null?i:"")+"  const context = Array.isArray("+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:218,column:32},end:{line:218,column:63}}}))+`.context)
    ? [...`+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:219,column:10},end:{line:219,column:41}}}))+`.context, eventSpecificationContext]
    : [eventSpecificationContext];

  const modified`+u(s(n!=null?c(n,"generatedName"):n,n))+` = {
    ...`+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:223,column:7},end:{line:223,column:38}}}))+`,
    context,
`+((i=c(r,"if").call(o,t[1]!=null?c(t[1],"validations"):t[1],{name:"if",hash:{},fn:l.program(25,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:225,column:4},end:{line:228,column:11}}}))!=null?i:"")+`  };
 
  track`+u(s(n!=null?c(n,"event"):n,n))+"<"+((i=c(r,"if").call(o,n!=null?c(n,"entities"):n,{name:"if",hash:{},fn:l.program(27,a,0,e,t),inverse:l.program(29,a,0,e,t),data:a,loc:{start:{line:231,column:22},end:{line:231,column:119}}}))!=null?i:"")+" | EventSpecification>(modified"+u(s(n!=null?c(n,"generatedName"):n,n))+`, trackers);
}
`},18:function(l,n,r,f,a,e,t){var i=l.lookupProperty||function(o,s){if(Object.prototype.hasOwnProperty.call(o,s))return o[s]};return l.escapeExpression((i(r,"warningsMetadataJs")||n&&i(n,"warningsMetadataJs")||l.hooks.helperMissing).call(n??(l.nullContext||{}),t[1]!=null?i(t[1],"metadataForAllEventSpecs"):t[1],n!=null?i(n,"id"):n,{name:"warningsMetadataJs",hash:{},data:a,loc:{start:{line:200,column:54},end:{line:200,column:113}}}))},20:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return"<"+((e=t(r,"join").call(n??(l.nullContext||{}),n!=null?t(n,"entities"):n," | ",{name:"join",hash:{},fn:l.program(21,a,0),inverse:l.noop,data:a,loc:{start:{line:204,column:139},end:{line:204,column:177}}}))!=null?e:"")+">"},21:function(l,n,r,f,a){return""},23:function(l,n,r,f,a){var e=l.escapeExpression,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return`  validateEntityRules(
    '`+e(l.lambda(n!=null?t(n,"id"):n,n))+`' as keyof typeof entityRules,
    `+e((t(r,"startLow")||n&&t(n,"startLow")||l.hooks.helperMissing).call(n??(l.nullContext||{}),n!=null?t(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:215,column:4},end:{line:215,column:35}}}))+`.context as unknown as SelfDescribingJson[]
  );
`},25:function(l,n,r,f,a){var e=l.lookupProperty||function(t,i){if(Object.prototype.hasOwnProperty.call(t,i))return t[i]};return`    /* Used for runtime validation only */
    __esId: '`+l.escapeExpression(l.lambda(n!=null?e(n,"id"):n,n))+`'
`},27:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return(e=t(r,"join").call(n??(l.nullContext||{}),n!=null?t(n,"entities"):n," | ",{name:"join",hash:{},fn:l.program(21,a,0),inverse:l.noop,data:a,loc:{start:{line:231,column:43},end:{line:231,column:81}}}))!=null?e:""},29:function(l,n,r,f,a){return"Record<string, unknown>"},31:function(l,n,r,f,a,e,t){var i,o=n??(l.nullContext||{}),s=l.lambda,u=l.escapeExpression,m=l.hooks.helperMissing,c=l.lookupProperty||function(y,g){if(Object.prototype.hasOwnProperty.call(y,g))return y[g]};return"/**"+((i=c(r,"if").call(o,c(r,"lookup").call(o,t[1]!=null?c(t[1],"metadataForAllEventSpecs"):t[1],n!=null?c(n,"id"):n,{name:"lookup",hash:{},data:a,loc:{start:{line:237,column:8},end:{line:237,column:52}}}),{name:"if",hash:{},fn:l.program(18,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:237,column:1},end:{line:237,column:120}}}))!=null?i:"")+`
 * Tracks a `+u(s(n!=null?c(n,"generatedName"):n,n))+` event specification.
 * `+u((c(r,"addEventSpecificationIdentifier")||n&&c(n,"addEventSpecificationIdentifier")||m).call(o,n!=null?c(n,"id"):n,{name:"addEventSpecificationIdentifier",hash:{},data:a,loc:{start:{line:239,column:3},end:{line:239,column:46}}}))+`
 */
export function track`+u(s(n!=null?c(n,"generatedName"):n,n))+"Spec("+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:241,column:48},end:{line:241,column:79}}}))+": "+u((c(r,"ecomFunctionArgument")||n&&c(n,"ecomFunctionArgument")||m).call(o,n!=null?c(n,"event"):n,{name:"ecomFunctionArgument",hash:{},data:a,loc:{start:{line:241,column:81},end:{line:241,column:116}}}))+" & Ecom.CommonEcommerceEventProperties"+((i=c(r,"if").call(o,n!=null?c(n,"entities"):n,{name:"if",hash:{},fn:l.program(20,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:241,column:154},end:{line:241,column:222}}}))!=null?i:"")+`, trackers?: string[]){
  const eventSpecificationContext: SelfDescribingJson<EventSpecification> = createEventSpecification({ 
    id: '`+u(s(n!=null?c(n,"id"):n,n))+`',
    name: '`+u(s(n!=null?c(n,"name"):n,n))+`',
    data_product_id: '`+u(s(n!=null?c(n,"dataProductId"):n,n))+`',
    data_product_name: '`+u(s(n!=null?c(n,"dataProductName"):n,n))+`'
  });

  const context = Array.isArray(`+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:249,column:32},end:{line:249,column:63}}}))+`.context)
    ? [...`+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:250,column:10},end:{line:250,column:41}}}))+`.context, eventSpecificationContext]
    : [eventSpecificationContext];

  const modified`+u(s(n!=null?c(n,"generatedName"):n,n))+` = {
    ...`+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:254,column:7},end:{line:254,column:38}}}))+`,
    context: context as unknown as SelfDescribingJson<Record<string, unknown>>[],
  };
 
  `+u((c(r,"ecomFunction")||n&&c(n,"ecomFunction")||m).call(o,n!=null?c(n,"event"):n,{name:"ecomFunction",hash:{},data:a,loc:{start:{line:258,column:2},end:{line:258,column:29}}}))+"(modified"+u(s(n!=null?c(n,"generatedName"):n,n))+`, trackers);
}
`},compiler:[8,">= 4.3.0"],main:function(l,n,r,f,a,e,t){var i,o=n??(l.nullContext||{}),s=l.lookupProperty||function(u,m){if(Object.prototype.hasOwnProperty.call(u,m))return u[m]};return((i=s(r,"if").call(o,(s(r,"or")||n&&s(n,"or")||l.hooks.helperMissing).call(o,(i=n!=null?s(n,"eventSpecifications"):n)!=null?s(i,"length"):i,(i=n!=null?s(n,"ecomEventSpecifications"):n)!=null?s(i,"length"):i,{name:"or",hash:{},data:a,loc:{start:{line:1,column:6},end:{line:1,column:68}}}),{name:"if",hash:{},fn:l.program(1,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:1,column:0},end:{line:22,column:7}}}))!=null?i:"")+`
`+((i=s(r,"if").call(o,n!=null?s(n,"validations"):n,{name:"if",hash:{},fn:l.program(3,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:24,column:0},end:{line:162,column:7}}}))!=null?i:"")+`type ContextsOrTimestamp<T = any> = Omit<CommonEventProperties<T>, 'context'> & { context?: SelfDescribingJson<T>[] | null | undefined }
`+((i=s(r,"each").call(o,n!=null?s(n,"type"):n,{name:"each",hash:{},fn:l.program(5,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:164,column:0},end:{line:196,column:9}}}))!=null?i:"")+`
`+((i=s(r,"each").call(o,n!=null?s(n,"eventSpecifications"):n,{name:"each",hash:{},fn:l.program(17,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:198,column:0},end:{line:233,column:9}}}))!=null?i:"")+`
`+((i=s(r,"each").call(o,n!=null?s(n,"ecomEventSpecifications"):n,{name:"each",hash:{},fn:l.program(31,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:235,column:0},end:{line:260,column:9}}}))!=null?i:"")},useData:!0,useDepths:!0}});var rl=b((fa,tl)=>{"use strict";tl.exports={id:{language:"typescript",tracker:"@snowplow/node-tracker"},1:function(l,n,r,f,a){return`/**
 * Creates a Snowplow Event Specification entity.
 */
export function createEventSpecification(eventSpecification: EventSpecification){
  return {
    schema:
      'iglu:com.snowplowanalytics.snowplow/event_specification/jsonschema/1-0-2',
    data: eventSpecification,
  }
}

/**
 * Automatically attached context for event specifications
 */
interface EventSpecification {
  id: string;
  name: string;
  data_product_id: string;
  data_product_name: string;
}
`},3:function(l,n,r,f,a){var e,t=n??(l.nullContext||{}),i=l.hooks.helperMissing,o="function",s=l.escapeExpression,u=l.lookupProperty||function(m,c){if(Object.prototype.hasOwnProperty.call(m,c))return m[c]};return`/**
 * Track a Snowplow event for `+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:35,column:30},end:{line:35,column:42}}}):e))+`.
 * `+s((e=(e=u(r,"description")||(n!=null?u(n,"description"):n))!=null?e:i,typeof e===o?e.call(t,{name:"description",hash:{},data:a,loc:{start:{line:36,column:3},end:{line:36,column:18}}}):e))+`
 */
export function track`+s((e=(e=u(r,"functionName")||(n!=null?u(n,"functionName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"functionName",hash:{},data:a,loc:{start:{line:38,column:21},end:{line:38,column:37}}}):e))+"<T extends {} = any>(tracker: Tracker, "+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:38,column:76},end:{line:38,column:97}}}))+": "+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:38,column:99},end:{line:38,column:111}}}):e))+` & ContextsOrTimestamp<T>){
  const { context, timestamp, ...data } = `+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:39,column:42},end:{line:39,column:63}}}))+`; 
  tracker.track(buildSelfDescribingEvent({
    event: {
      schema: '`+s((e=(e=u(r,"igluUrl")||(n!=null?u(n,"igluUrl"):n))!=null?e:i,typeof e===o?e.call(t,{name:"igluUrl",hash:{},data:a,loc:{start:{line:42,column:15},end:{line:42,column:26}}}):e))+`',
      data
    }
  }), context, timestamp);
}

/**
 * Creates a Snowplow `+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:49,column:22},end:{line:49,column:34}}}):e))+` entity.
 */
export function create`+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:51,column:22},end:{line:51,column:34}}}):e))+"("+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:51,column:35},end:{line:51,column:56}}}))+": "+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:51,column:58},end:{line:51,column:70}}}):e))+`){
  return {
    schema: '`+s((e=(e=u(r,"igluUrl")||(n!=null?u(n,"igluUrl"):n))!=null?e:i,typeof e===o?e.call(t,{name:"igluUrl",hash:{},data:a,loc:{start:{line:53,column:13},end:{line:53,column:24}}}):e))+`',
    data: `+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:54,column:10},end:{line:54,column:31}}}))+`
  }
}
`},5:function(l,n,r,f,a,e,t){var i,o=n??(l.nullContext||{}),s=l.lambda,u=l.escapeExpression,m=l.hooks.helperMissing,c=l.lookupProperty||function(y,g){if(Object.prototype.hasOwnProperty.call(y,g))return y[g]};return"/**"+((i=c(r,"if").call(o,c(r,"lookup").call(o,t[1]!=null?c(t[1],"metadataForAllEventSpecs"):t[1],n!=null?c(n,"id"):n,{name:"lookup",hash:{},data:a,loc:{start:{line:61,column:8},end:{line:61,column:52}}}),{name:"if",hash:{},fn:l.program(6,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:61,column:1},end:{line:61,column:120}}}))!=null?i:"")+`
 * Tracks a `+u(s(n!=null?c(n,"generatedName"):n,n))+` event specification.
 * `+u((c(r,"addEventSpecificationIdentifier")||n&&c(n,"addEventSpecificationIdentifier")||m).call(o,n!=null?c(n,"id"):n,{name:"addEventSpecificationIdentifier",hash:{},data:a,loc:{start:{line:63,column:3},end:{line:63,column:46}}}))+`
 */
export function track`+u(s(n!=null?c(n,"generatedName"):n,n))+"Spec(tracker: Tracker, "+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:65,column:66},end:{line:65,column:97}}}))+": "+u(s(n!=null?c(n,"event"):n,n))+" & ContextsOrTimestamp"+((i=c(r,"if").call(o,n!=null?c(n,"entities"):n,{name:"if",hash:{},fn:l.program(8,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:65,column:135},end:{line:65,column:203}}}))!=null?i:"")+`){
  const eventSpecificationContext: SelfDescribingJson<EventSpecification> = createEventSpecification({ 
    id: '`+u(s(n!=null?c(n,"id"):n,n))+`',
    name: '`+u(s(n!=null?c(n,"name"):n,n))+`',
    data_product_id: '`+u(s(n!=null?c(n,"dataProductId"):n,n))+`',
    data_product_name: '`+u(s(n!=null?c(n,"dataProductName"):n,n))+`'
  });

  const context = Array.isArray(`+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:73,column:32},end:{line:73,column:63}}}))+`.context)
    ? [...`+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:74,column:10},end:{line:74,column:41}}}))+`.context, eventSpecificationContext]
    : [eventSpecificationContext];

  const modified`+u(s(n!=null?c(n,"generatedName"):n,n))+": "+u(s(n!=null?c(n,"event"):n,n))+" & ContextsOrTimestamp<"+((i=c(r,"if").call(o,n!=null?c(n,"entities"):n,{name:"if",hash:{},fn:l.program(11,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:77,column:77},end:{line:77,column:143}}}))!=null?i:"")+((i=c(r,"if").call(o,n!=null?c(n,"entities"):n,{name:"if",hash:{},fn:l.program(13,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:77,column:143},end:{line:77,column:174}}}))!=null?i:"")+`EventSpecification> = {
    ...`+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:78,column:7},end:{line:78,column:38}}}))+`,
    context,
  };

  track`+u(s(n!=null?c(n,"event"):n,n))+"(tracker, modified"+u(s(n!=null?c(n,"generatedName"):n,n))+`);
}
`},6:function(l,n,r,f,a,e,t){var i=l.lookupProperty||function(o,s){if(Object.prototype.hasOwnProperty.call(o,s))return o[s]};return l.escapeExpression((i(r,"warningsMetadataJs")||n&&i(n,"warningsMetadataJs")||l.hooks.helperMissing).call(n??(l.nullContext||{}),t[1]!=null?i(t[1],"metadataForAllEventSpecs"):t[1],n!=null?i(n,"id"):n,{name:"warningsMetadataJs",hash:{},data:a,loc:{start:{line:61,column:54},end:{line:61,column:113}}}))},8:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return"<"+((e=t(r,"join").call(n??(l.nullContext||{}),n!=null?t(n,"entities"):n," | ",{name:"join",hash:{},fn:l.program(9,a,0),inverse:l.noop,data:a,loc:{start:{line:65,column:157},end:{line:65,column:195}}}))!=null?e:"")+">"},9:function(l,n,r,f,a){return""},11:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return(e=t(r,"join").call(n??(l.nullContext||{}),n!=null?t(n,"entities"):n," | ",{name:"join",hash:{},fn:l.program(9,a,0),inverse:l.noop,data:a,loc:{start:{line:77,column:98},end:{line:77,column:136}}}))!=null?e:""},13:function(l,n,r,f,a){return" | "},compiler:[8,">= 4.3.0"],main:function(l,n,r,f,a,e,t){var i,o,s,u=n??(l.nullContext||{}),m=l.lookupProperty||function(y,g){if(Object.prototype.hasOwnProperty.call(y,g))return y[g]},c=`interface CommonEventProperties<T = Record<string, unknown>> {
  /** Add context to an event by setting an Array of Self Describing JSON */
  context?: Array<SelfDescribingJson<T>> | null;
  /** Set the true timestamp or overwrite the device sent timestamp on an event */
  timestamp?: Timestamp | null;
}

`+((i=m(r,"if").call(u,(i=n!=null?m(n,"eventSpecifications"):n)!=null?m(i,"length"):i,{name:"if",hash:{},fn:l.program(1,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:8,column:0},end:{line:29,column:7}}}))!=null?i:"")+`
type ContextsOrTimestamp<T = any> = Omit<CommonEventProperties<T>, 'context'> & { context?: SelfDescribingJson<T>[] | null | undefined }

`;return i=(o=(o=m(r,"type")||(n!=null?m(n,"type"):n))!=null?o:l.hooks.helperMissing,s={name:"type",hash:{},fn:l.program(3,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:33,column:0},end:{line:57,column:9}}},typeof o=="function"?o.call(u,s):o),m(r,"type")||(i=l.hooks.blockHelperMissing.call(n,i,s)),i!=null&&(c+=i),c+`
`+((i=m(r,"each").call(u,n!=null?m(n,"eventSpecifications"):n,{name:"each",hash:{},fn:l.program(5,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:59,column:0},end:{line:84,column:9}}}))!=null?i:"")},useData:!0,useDepths:!0}});var ul=b((ya,il)=>{"use strict";il.exports={id:{language:"kotlin",tracker:"snowplow-android-tracker"},1:function(l,n,r,f,a){var e=l.lookupProperty||function(t,i){if(Object.prototype.hasOwnProperty.call(t,i))return t[i]};return"import com.snowplowanalytics.snowplow.ecommerce.events."+l.escapeExpression((e(r,"ecomFunctionMobile")||n&&e(n,"ecomFunctionMobile")||l.hooks.helperMissing).call(n??(l.nullContext||{}),n!=null?e(n,"event"):n,{name:"ecomFunctionMobile",hash:{},data:a,loc:{start:{line:8,column:55},end:{line:8,column:88}}}))+`
`},3:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return(e=t(r,"each").call(n??(l.nullContext||{}),n!=null?t(n,"properties"):n,{name:"each",hash:{},fn:l.program(4,a,0),inverse:l.noop,data:a,loc:{start:{line:13,column:0},end:{line:27,column:9}}}))!=null?e:""},4:function(l,n,r,f,a){var e,t=n??(l.nullContext||{}),i=l.lookupProperty||function(o,s){if(Object.prototype.hasOwnProperty.call(o,s))return o[s]};return((e=i(r,"if").call(t,n!=null?i(n,"description"):n,{name:"if",hash:{},fn:l.program(5,a,0),inverse:l.noop,data:a,loc:{start:{line:14,column:0},end:{line:17,column:7}}}))!=null?e:"")+((e=i(r,"if").call(t,n!=null?i(n,"isNullable"):n,{name:"if",hash:{},fn:l.program(7,a,0),inverse:l.program(10,a,0),data:a,loc:{start:{line:18,column:0},end:{line:26,column:7}}}))!=null?e:"")},5:function(l,n,r,f,a){var e,t,i=l.lookupProperty||function(o,s){if(Object.prototype.hasOwnProperty.call(o,s))return o[s]};return`
    /** `+((e=(t=(t=i(r,"description")||(n!=null?i(n,"description"):n))!=null?t:l.hooks.helperMissing,typeof t=="function"?t.call(n??(l.nullContext||{}),{name:"description",hash:{},data:a,loc:{start:{line:16,column:8},end:{line:16,column:25}}}):t))!=null?e:"")+` */
`},7:function(l,n,r,f,a){var e,t,i=n??(l.nullContext||{}),o=l.hooks.helperMissing,s="function",u=l.lookupProperty||function(m,c){if(Object.prototype.hasOwnProperty.call(m,c))return m[c]};return"    var "+l.escapeExpression((t=(t=u(r,"name")||(n!=null?u(n,"name"):n))!=null?t:o,typeof t===s?t.call(i,{name:"name",hash:{},data:a,loc:{start:{line:19,column:8},end:{line:19,column:16}}}):t))+": "+((e=(t=(t=u(r,"type")||(n!=null?u(n,"type"):n))!=null?t:o,typeof t===s?t.call(i,{name:"type",hash:{},data:a,loc:{start:{line:19,column:18},end:{line:19,column:28}}}):t))!=null?e:"")+" = null"+((e=u(r,"unless").call(i,a&&u(a,"last"),{name:"unless",hash:{},fn:l.program(8,a,0),inverse:l.noop,data:a,loc:{start:{line:19,column:35},end:{line:19,column:65}}}))!=null?e:"")+`
`},8:function(l,n,r,f,a){return", "},10:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return(e=t(r,"if").call(n??(l.nullContext||{}),n!=null?t(n,"isNull"):n,{name:"if",hash:{},fn:l.program(11,a,0),inverse:l.program(13,a,0),data:a,loc:{start:{line:20,column:0},end:{line:26,column:0}}}))!=null?e:""},11:function(l,n,r,f,a){var e,t,i=n??(l.nullContext||{}),o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return"    var "+l.escapeExpression((t=(t=o(r,"name")||(n!=null?o(n,"name"):n))!=null?t:l.hooks.helperMissing,typeof t=="function"?t.call(i,{name:"name",hash:{},data:a,loc:{start:{line:21,column:8},end:{line:21,column:16}}}):t))+": SchemaNull? = null"+((e=o(r,"unless").call(i,a&&o(a,"last"),{name:"unless",hash:{},fn:l.program(8,a,0),inverse:l.noop,data:a,loc:{start:{line:21,column:36},end:{line:21,column:66}}}))!=null?e:"")+`
`},13:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return(e=t(r,"if").call(n??(l.nullContext||{}),n!=null?t(n,"isOptional"):n,{name:"if",hash:{},fn:l.program(14,a,0),inverse:l.program(16,a,0),data:a,loc:{start:{line:22,column:0},end:{line:26,column:0}}}))!=null?e:""},14:function(l,n,r,f,a){var e,t,i=n??(l.nullContext||{}),o=l.hooks.helperMissing,s="function",u=l.lookupProperty||function(m,c){if(Object.prototype.hasOwnProperty.call(m,c))return m[c]};return"    var "+l.escapeExpression((t=(t=u(r,"name")||(n!=null?u(n,"name"):n))!=null?t:o,typeof t===s?t.call(i,{name:"name",hash:{},data:a,loc:{start:{line:23,column:8},end:{line:23,column:16}}}):t))+": "+((e=(t=(t=u(r,"type")||(n!=null?u(n,"type"):n))!=null?t:o,typeof t===s?t.call(i,{name:"type",hash:{},data:a,loc:{start:{line:23,column:18},end:{line:23,column:28}}}):t))!=null?e:"")+"? = null"+((e=u(r,"unless").call(i,a&&u(a,"last"),{name:"unless",hash:{},fn:l.program(8,a,0),inverse:l.noop,data:a,loc:{start:{line:23,column:36},end:{line:23,column:66}}}))!=null?e:"")+`
`},16:function(l,n,r,f,a){var e,t,i=n??(l.nullContext||{}),o=l.hooks.helperMissing,s="function",u=l.lookupProperty||function(m,c){if(Object.prototype.hasOwnProperty.call(m,c))return m[c]};return"    var "+l.escapeExpression((t=(t=u(r,"name")||(n!=null?u(n,"name"):n))!=null?t:o,typeof t===s?t.call(i,{name:"name",hash:{},data:a,loc:{start:{line:25,column:8},end:{line:25,column:16}}}):t))+": "+((e=(t=(t=u(r,"type")||(n!=null?u(n,"type"):n))!=null?t:o,typeof t===s?t.call(i,{name:"type",hash:{},data:a,loc:{start:{line:25,column:18},end:{line:25,column:28}}}):t))!=null?e:"")+((e=u(r,"unless").call(i,a&&u(a,"last"),{name:"unless",hash:{},fn:l.program(8,a,0),inverse:l.noop,data:a,loc:{start:{line:25,column:28},end:{line:25,column:58}}}))!=null?e:"")+`
`},18:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return(e=t(r,"if").call(n??(l.nullContext||{}),n!=null?t(n,"properties"):n,{name:"if",hash:{},fn:l.program(19,a,0),inverse:l.program(21,a,0),data:a,loc:{start:{line:32,column:0},end:{line:38,column:7}}}))!=null?e:""},19:function(l,n,r,f,a){var e,t,i=l.lookupProperty||function(o,s){if(Object.prototype.hasOwnProperty.call(o,s))return o[s]};return"data class "+l.escapeExpression((t=(t=i(r,"typeName")||(n!=null?i(n,"typeName"):n))!=null?t:l.hooks.helperMissing,typeof t=="function"?t.call(n??(l.nullContext||{}),{name:"typeName",hash:{},data:a,loc:{start:{line:33,column:11},end:{line:33,column:23}}}):t))+`(
`+((e=l.invokePartial(i(f,"classProperties"),n,{name:"classProperties",data:a,helpers:r,partials:f,decorators:l.decorators}))!=null?e:"")+`) {
`},21:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return"class "+l.escapeExpression((e=(e=t(r,"typeName")||(n!=null?t(n,"typeName"):n))!=null?e:l.hooks.helperMissing,typeof e=="function"?e.call(n??(l.nullContext||{}),{name:"typeName",hash:{},data:a,loc:{start:{line:37,column:6},end:{line:37,column:18}}}):e))+` {
`},23:function(l,n,r,f,a,e,t){var i,o,s=n??(l.nullContext||{}),u=l.hooks.helperMissing,m="function",c=l.escapeExpression,y=l.lookupProperty||function(g,p){if(Object.prototype.hasOwnProperty.call(g,p))return g[p]};return"        "+c((o=(o=y(r,"indent")||(n!=null?y(n,"indent"):n))!=null?o:u,typeof o===m?o.call(s,{name:"indent",hash:{},data:a,loc:{start:{line:43,column:8},end:{line:43,column:18}}}):o))+`val payload = HashMap<String, Any?>()
`+((i=y(r,"each").call(s,n!=null?y(n,"properties"):n,{name:"each",hash:{},fn:l.program(24,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:44,column:0},end:{line:93,column:9}}}))!=null?i:"")+"        "+c((o=(o=y(r,"indent")||(n!=null?y(n,"indent"):n))!=null?o:u,typeof o===m?o.call(s,{name:"indent",hash:{},data:a,loc:{start:{line:94,column:8},end:{line:94,column:18}}}):o))+`return payload
`},24:function(l,n,r,f,a,e,t){var i,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return(i=o(r,"if").call(n??(l.nullContext||{}),n!=null?o(n,"isNullableOrOptional"):n,{name:"if",hash:{},fn:l.program(25,a,0,e,t),inverse:l.program(57,a,0,e,t),data:a,loc:{start:{line:45,column:0},end:{line:92,column:7}}}))!=null?i:""},25:function(l,n,r,f,a,e,t){var i,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return(i=o(r,"if").call(n??(l.nullContext||{}),n!=null?o(n,"isOptional"):n,{name:"if",hash:{},fn:l.program(26,a,0,e,t),inverse:l.program(43,a,0,e,t),data:a,loc:{start:{line:46,column:0},end:{line:75,column:7}}}))!=null?i:""},26:function(l,n,r,f,a,e,t){var i,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return(i=o(r,"if").call(n??(l.nullContext||{}),n!=null?o(n,"isArrayOfEnums"):n,{name:"if",hash:{},fn:l.program(27,a,0,e,t),inverse:l.program(29,a,0,e,t),data:a,loc:{start:{line:47,column:0},end:{line:60,column:7}}}))!=null?i:""},27:function(l,n,r,f,a,e,t){var i,o,s=l.escapeExpression,u=n??(l.nullContext||{}),m=l.hooks.helperMissing,c="function",y=l.lookupProperty||function(g,p){if(Object.prototype.hasOwnProperty.call(g,p))return g[p]};return"        "+s(l.lambda(t[1]!=null?y(t[1],"indent"):t[1],n))+s((o=(o=y(r,"name")||(n!=null?y(n,"name"):n))!=null?o:m,typeof o===c?o.call(u,{name:"name",hash:{},data:a,loc:{start:{line:49,column:21},end:{line:49,column:29}}}):o))+'?.let { payload["'+((i=(o=(o=y(r,"jsonName")||(n!=null?y(n,"jsonName"):n))!=null?o:m,typeof o===c?o.call(u,{name:"jsonName",hash:{},data:a,loc:{start:{line:49,column:46},end:{line:49,column:60}}}):o))!=null?i:"")+`"] = it.map { e -> e.string } }
`},29:function(l,n,r,f,a,e,t){var i,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return(i=o(r,"if").call(n??(l.nullContext||{}),n!=null?o(n,"isArrayOfObjects"):n,{name:"if",hash:{},fn:l.program(30,a,0,e,t),inverse:l.program(32,a,0,e,t),data:a,loc:{start:{line:50,column:0},end:{line:60,column:0}}}))!=null?i:""},30:function(l,n,r,f,a,e,t){var i,o,s=l.escapeExpression,u=n??(l.nullContext||{}),m=l.hooks.helperMissing,c="function",y=l.lookupProperty||function(g,p){if(Object.prototype.hasOwnProperty.call(g,p))return g[p]};return"        "+s(l.lambda(t[1]!=null?y(t[1],"indent"):t[1],n))+s((o=(o=y(r,"name")||(n!=null?y(n,"name"):n))!=null?o:m,typeof o===c?o.call(u,{name:"name",hash:{},data:a,loc:{start:{line:51,column:21},end:{line:51,column:29}}}):o))+'?.let { payload["'+((i=(o=(o=y(r,"jsonName")||(n!=null?y(n,"jsonName"):n))!=null?o:m,typeof o===c?o.call(u,{name:"jsonName",hash:{},data:a,loc:{start:{line:51,column:46},end:{line:51,column:60}}}):o))!=null?i:"")+`"] = it.map { e -> e.payload } }
`},32:function(l,n,r,f,a,e,t){var i,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return(i=o(r,"if").call(n??(l.nullContext||{}),n!=null?o(n,"isEnum"):n,{name:"if",hash:{},fn:l.program(33,a,0,e,t),inverse:l.program(35,a,0,e,t),data:a,loc:{start:{line:52,column:0},end:{line:60,column:0}}}))!=null?i:""},33:function(l,n,r,f,a,e,t){var i,o,s=l.escapeExpression,u=n??(l.nullContext||{}),m=l.hooks.helperMissing,c="function",y=l.lookupProperty||function(g,p){if(Object.prototype.hasOwnProperty.call(g,p))return g[p]};return"        "+s(l.lambda(t[1]!=null?y(t[1],"indent"):t[1],n))+s((o=(o=y(r,"name")||(n!=null?y(n,"name"):n))!=null?o:m,typeof o===c?o.call(u,{name:"name",hash:{},data:a,loc:{start:{line:53,column:21},end:{line:53,column:29}}}):o))+'?.let { payload["'+((i=(o=(o=y(r,"jsonName")||(n!=null?y(n,"jsonName"):n))!=null?o:m,typeof o===c?o.call(u,{name:"jsonName",hash:{},data:a,loc:{start:{line:53,column:46},end:{line:53,column:60}}}):o))!=null?i:"")+`"] = it.string }
`},35:function(l,n,r,f,a,e,t){var i,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return(i=o(r,"if").call(n??(l.nullContext||{}),n!=null?o(n,"isObject"):n,{name:"if",hash:{},fn:l.program(36,a,0,e,t),inverse:l.program(38,a,0,e,t),data:a,loc:{start:{line:54,column:0},end:{line:60,column:0}}}))!=null?i:""},36:function(l,n,r,f,a,e,t){var i,o,s=l.escapeExpression,u=n??(l.nullContext||{}),m=l.hooks.helperMissing,c="function",y=l.lookupProperty||function(g,p){if(Object.prototype.hasOwnProperty.call(g,p))return g[p]};return"        "+s(l.lambda(t[1]!=null?y(t[1],"indent"):t[1],n))+s((o=(o=y(r,"name")||(n!=null?y(n,"name"):n))!=null?o:m,typeof o===c?o.call(u,{name:"name",hash:{},data:a,loc:{start:{line:55,column:21},end:{line:55,column:29}}}):o))+'?.let { payload["'+((i=(o=(o=y(r,"jsonName")||(n!=null?y(n,"jsonName"):n))!=null?o:m,typeof o===c?o.call(u,{name:"jsonName",hash:{},data:a,loc:{start:{line:55,column:46},end:{line:55,column:60}}}):o))!=null?i:"")+`"] = it.payload }
`},38:function(l,n,r,f,a,e,t){var i,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return(i=o(r,"if").call(n??(l.nullContext||{}),n!=null?o(n,"isNull"):n,{name:"if",hash:{},fn:l.program(39,a,0,e,t),inverse:l.program(41,a,0,e,t),data:a,loc:{start:{line:56,column:0},end:{line:60,column:0}}}))!=null?i:""},39:function(l,n,r,f,a,e,t){var i,o,s=l.escapeExpression,u=n??(l.nullContext||{}),m=l.hooks.helperMissing,c="function",y=l.lookupProperty||function(g,p){if(Object.prototype.hasOwnProperty.call(g,p))return g[p]};return"        "+s(l.lambda(t[1]!=null?y(t[1],"indent"):t[1],n))+s((o=(o=y(r,"name")||(n!=null?y(n,"name"):n))!=null?o:m,typeof o===c?o.call(u,{name:"name",hash:{},data:a,loc:{start:{line:57,column:21},end:{line:57,column:29}}}):o))+'?.let { payload["'+((i=(o=(o=y(r,"jsonName")||(n!=null?y(n,"jsonName"):n))!=null?o:m,typeof o===c?o.call(u,{name:"jsonName",hash:{},data:a,loc:{start:{line:57,column:46},end:{line:57,column:60}}}):o))!=null?i:"")+`"] = it.value }
`},41:function(l,n,r,f,a,e,t){var i,o,s=l.escapeExpression,u=n??(l.nullContext||{}),m=l.hooks.helperMissing,c="function",y=l.lookupProperty||function(g,p){if(Object.prototype.hasOwnProperty.call(g,p))return g[p]};return"        "+s(l.lambda(t[1]!=null?y(t[1],"indent"):t[1],n))+s((o=(o=y(r,"name")||(n!=null?y(n,"name"):n))!=null?o:m,typeof o===c?o.call(u,{name:"name",hash:{},data:a,loc:{start:{line:59,column:21},end:{line:59,column:29}}}):o))+'?.let { payload["'+((i=(o=(o=y(r,"jsonName")||(n!=null?y(n,"jsonName"):n))!=null?o:m,typeof o===c?o.call(u,{name:"jsonName",hash:{},data:a,loc:{start:{line:59,column:46},end:{line:59,column:60}}}):o))!=null?i:"")+`"] = it }
`},43:function(l,n,r,f,a,e,t){var i,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return(i=o(r,"if").call(n??(l.nullContext||{}),n!=null?o(n,"isArrayOfEnums"):n,{name:"if",hash:{},fn:l.program(44,a,0,e,t),inverse:l.program(46,a,0,e,t),data:a,loc:{start:{line:63,column:0},end:{line:74,column:7}}}))!=null?i:""},44:function(l,n,r,f,a,e,t){var i,o,s=l.escapeExpression,u=n??(l.nullContext||{}),m=l.hooks.helperMissing,c="function",y=l.lookupProperty||function(g,p){if(Object.prototype.hasOwnProperty.call(g,p))return g[p]};return"        "+s(l.lambda(t[1]!=null?y(t[1],"indent"):t[1],n))+'payload["'+((i=(o=(o=y(r,"jsonName")||(n!=null?y(n,"jsonName"):n))!=null?o:m,typeof o===c?o.call(u,{name:"jsonName",hash:{},data:a,loc:{start:{line:65,column:30},end:{line:65,column:44}}}):o))!=null?i:"")+'"] = '+s((o=(o=y(r,"name")||(n!=null?y(n,"name"):n))!=null?o:m,typeof o===c?o.call(u,{name:"name",hash:{},data:a,loc:{start:{line:65,column:49},end:{line:65,column:57}}}):o))+`?.map { e -> e.string }
`},46:function(l,n,r,f,a,e,t){var i,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return(i=o(r,"if").call(n??(l.nullContext||{}),n!=null?o(n,"isArrayOfObjects"):n,{name:"if",hash:{},fn:l.program(47,a,0,e,t),inverse:l.program(49,a,0,e,t),data:a,loc:{start:{line:66,column:0},end:{line:74,column:0}}}))!=null?i:""},47:function(l,n,r,f,a,e,t){var i,o,s=l.escapeExpression,u=n??(l.nullContext||{}),m=l.hooks.helperMissing,c="function",y=l.lookupProperty||function(g,p){if(Object.prototype.hasOwnProperty.call(g,p))return g[p]};return"        "+s(l.lambda(t[1]!=null?y(t[1],"indent"):t[1],n))+'payload["'+((i=(o=(o=y(r,"jsonName")||(n!=null?y(n,"jsonName"):n))!=null?o:m,typeof o===c?o.call(u,{name:"jsonName",hash:{},data:a,loc:{start:{line:67,column:30},end:{line:67,column:44}}}):o))!=null?i:"")+'"] = '+s((o=(o=y(r,"name")||(n!=null?y(n,"name"):n))!=null?o:m,typeof o===c?o.call(u,{name:"name",hash:{},data:a,loc:{start:{line:67,column:49},end:{line:67,column:57}}}):o))+`?.map { e -> e.payload }
`},49:function(l,n,r,f,a,e,t){var i,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return(i=o(r,"if").call(n??(l.nullContext||{}),n!=null?o(n,"isEnum"):n,{name:"if",hash:{},fn:l.program(50,a,0,e,t),inverse:l.program(52,a,0,e,t),data:a,loc:{start:{line:68,column:0},end:{line:74,column:0}}}))!=null?i:""},50:function(l,n,r,f,a,e,t){var i,o,s=l.escapeExpression,u=n??(l.nullContext||{}),m=l.hooks.helperMissing,c="function",y=l.lookupProperty||function(g,p){if(Object.prototype.hasOwnProperty.call(g,p))return g[p]};return"        "+s(l.lambda(t[1]!=null?y(t[1],"indent"):t[1],n))+'payload["'+((i=(o=(o=y(r,"jsonName")||(n!=null?y(n,"jsonName"):n))!=null?o:m,typeof o===c?o.call(u,{name:"jsonName",hash:{},data:a,loc:{start:{line:69,column:30},end:{line:69,column:44}}}):o))!=null?i:"")+'"] = '+s((o=(o=y(r,"name")||(n!=null?y(n,"name"):n))!=null?o:m,typeof o===c?o.call(u,{name:"name",hash:{},data:a,loc:{start:{line:69,column:49},end:{line:69,column:57}}}):o))+`?.string
`},52:function(l,n,r,f,a,e,t){var i,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return(i=o(r,"if").call(n??(l.nullContext||{}),n!=null?o(n,"isObject"):n,{name:"if",hash:{},fn:l.program(53,a,0,e,t),inverse:l.program(55,a,0,e,t),data:a,loc:{start:{line:70,column:0},end:{line:74,column:0}}}))!=null?i:""},53:function(l,n,r,f,a,e,t){var i,o,s=l.escapeExpression,u=n??(l.nullContext||{}),m=l.hooks.helperMissing,c="function",y=l.lookupProperty||function(g,p){if(Object.prototype.hasOwnProperty.call(g,p))return g[p]};return"        "+s(l.lambda(t[1]!=null?y(t[1],"indent"):t[1],n))+'payload["'+((i=(o=(o=y(r,"jsonName")||(n!=null?y(n,"jsonName"):n))!=null?o:m,typeof o===c?o.call(u,{name:"jsonName",hash:{},data:a,loc:{start:{line:71,column:30},end:{line:71,column:44}}}):o))!=null?i:"")+'"] = '+s((o=(o=y(r,"name")||(n!=null?y(n,"name"):n))!=null?o:m,typeof o===c?o.call(u,{name:"name",hash:{},data:a,loc:{start:{line:71,column:49},end:{line:71,column:57}}}):o))+`?.payload
`},55:function(l,n,r,f,a,e,t){var i,o,s=l.escapeExpression,u=n??(l.nullContext||{}),m=l.hooks.helperMissing,c="function",y=l.lookupProperty||function(g,p){if(Object.prototype.hasOwnProperty.call(g,p))return g[p]};return"        "+s(l.lambda(t[1]!=null?y(t[1],"indent"):t[1],n))+'payload["'+((i=(o=(o=y(r,"jsonName")||(n!=null?y(n,"jsonName"):n))!=null?o:m,typeof o===c?o.call(u,{name:"jsonName",hash:{},data:a,loc:{start:{line:73,column:30},end:{line:73,column:44}}}):o))!=null?i:"")+'"] = '+s((o=(o=y(r,"name")||(n!=null?y(n,"name"):n))!=null?o:m,typeof o===c?o.call(u,{name:"name",hash:{},data:a,loc:{start:{line:73,column:49},end:{line:73,column:57}}}):o))+`
`},57:function(l,n,r,f,a,e,t){var i,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return(i=o(r,"if").call(n??(l.nullContext||{}),n!=null?o(n,"isArrayOfEnums"):n,{name:"if",hash:{},fn:l.program(58,a,0,e,t),inverse:l.program(60,a,0,e,t),data:a,loc:{start:{line:78,column:0},end:{line:91,column:7}}}))!=null?i:""},58:function(l,n,r,f,a,e,t){var i,o,s=l.escapeExpression,u=n??(l.nullContext||{}),m=l.hooks.helperMissing,c="function",y=l.lookupProperty||function(g,p){if(Object.prototype.hasOwnProperty.call(g,p))return g[p]};return"        "+s(l.lambda(t[1]!=null?y(t[1],"indent"):t[1],n))+'payload["'+((i=(o=(o=y(r,"jsonName")||(n!=null?y(n,"jsonName"):n))!=null?o:m,typeof o===c?o.call(u,{name:"jsonName",hash:{},data:a,loc:{start:{line:80,column:30},end:{line:80,column:44}}}):o))!=null?i:"")+'"] = '+s((o=(o=y(r,"name")||(n!=null?y(n,"name"):n))!=null?o:m,typeof o===c?o.call(u,{name:"name",hash:{},data:a,loc:{start:{line:80,column:49},end:{line:80,column:57}}}):o))+`.map { e -> e.string }
`},60:function(l,n,r,f,a,e,t){var i,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return(i=o(r,"if").call(n??(l.nullContext||{}),n!=null?o(n,"isArrayOfObjects"):n,{name:"if",hash:{},fn:l.program(61,a,0,e,t),inverse:l.program(63,a,0,e,t),data:a,loc:{start:{line:81,column:0},end:{line:91,column:0}}}))!=null?i:""},61:function(l,n,r,f,a,e,t){var i,o,s=l.escapeExpression,u=n??(l.nullContext||{}),m=l.hooks.helperMissing,c="function",y=l.lookupProperty||function(g,p){if(Object.prototype.hasOwnProperty.call(g,p))return g[p]};return"        "+s(l.lambda(t[1]!=null?y(t[1],"indent"):t[1],n))+'payload["'+((i=(o=(o=y(r,"jsonName")||(n!=null?y(n,"jsonName"):n))!=null?o:m,typeof o===c?o.call(u,{name:"jsonName",hash:{},data:a,loc:{start:{line:82,column:30},end:{line:82,column:44}}}):o))!=null?i:"")+'"] = '+s((o=(o=y(r,"name")||(n!=null?y(n,"name"):n))!=null?o:m,typeof o===c?o.call(u,{name:"name",hash:{},data:a,loc:{start:{line:82,column:49},end:{line:82,column:57}}}):o))+`.map { e -> e.payload }
`},63:function(l,n,r,f,a,e,t){var i,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return(i=o(r,"if").call(n??(l.nullContext||{}),n!=null?o(n,"isEnum"):n,{name:"if",hash:{},fn:l.program(64,a,0,e,t),inverse:l.program(66,a,0,e,t),data:a,loc:{start:{line:83,column:0},end:{line:91,column:0}}}))!=null?i:""},64:function(l,n,r,f,a,e,t){var i,o,s=l.escapeExpression,u=n??(l.nullContext||{}),m=l.hooks.helperMissing,c="function",y=l.lookupProperty||function(g,p){if(Object.prototype.hasOwnProperty.call(g,p))return g[p]};return"        "+s(l.lambda(t[1]!=null?y(t[1],"indent"):t[1],n))+'payload["'+((i=(o=(o=y(r,"jsonName")||(n!=null?y(n,"jsonName"):n))!=null?o:m,typeof o===c?o.call(u,{name:"jsonName",hash:{},data:a,loc:{start:{line:84,column:30},end:{line:84,column:44}}}):o))!=null?i:"")+'"] = '+s((o=(o=y(r,"name")||(n!=null?y(n,"name"):n))!=null?o:m,typeof o===c?o.call(u,{name:"name",hash:{},data:a,loc:{start:{line:84,column:49},end:{line:84,column:57}}}):o))+`.string
`},66:function(l,n,r,f,a,e,t){var i,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return(i=o(r,"if").call(n??(l.nullContext||{}),n!=null?o(n,"isObject"):n,{name:"if",hash:{},fn:l.program(67,a,0,e,t),inverse:l.program(69,a,0,e,t),data:a,loc:{start:{line:85,column:0},end:{line:91,column:0}}}))!=null?i:""},67:function(l,n,r,f,a,e,t){var i,o,s=l.escapeExpression,u=n??(l.nullContext||{}),m=l.hooks.helperMissing,c="function",y=l.lookupProperty||function(g,p){if(Object.prototype.hasOwnProperty.call(g,p))return g[p]};return"        "+s(l.lambda(t[1]!=null?y(t[1],"indent"):t[1],n))+'payload["'+((i=(o=(o=y(r,"jsonName")||(n!=null?y(n,"jsonName"):n))!=null?o:m,typeof o===c?o.call(u,{name:"jsonName",hash:{},data:a,loc:{start:{line:86,column:30},end:{line:86,column:44}}}):o))!=null?i:"")+'"] = '+s((o=(o=y(r,"name")||(n!=null?y(n,"name"):n))!=null?o:m,typeof o===c?o.call(u,{name:"name",hash:{},data:a,loc:{start:{line:86,column:49},end:{line:86,column:57}}}):o))+`.payload
`},69:function(l,n,r,f,a,e,t){var i,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return(i=o(r,"if").call(n??(l.nullContext||{}),n!=null?o(n,"isNull"):n,{name:"if",hash:{},fn:l.program(70,a,0,e,t),inverse:l.program(55,a,0,e,t),data:a,loc:{start:{line:87,column:0},end:{line:91,column:0}}}))!=null?i:""},70:function(l,n,r,f,a,e,t){var i,o,s=l.escapeExpression,u=n??(l.nullContext||{}),m=l.hooks.helperMissing,c="function",y=l.lookupProperty||function(g,p){if(Object.prototype.hasOwnProperty.call(g,p))return g[p]};return"        "+s(l.lambda(t[1]!=null?y(t[1],"indent"):t[1],n))+'payload["'+((i=(o=(o=y(r,"jsonName")||(n!=null?y(n,"jsonName"):n))!=null?o:m,typeof o===c?o.call(u,{name:"jsonName",hash:{},data:a,loc:{start:{line:88,column:30},end:{line:88,column:44}}}):o))!=null?i:"")+'"] = '+s((o=(o=y(r,"name")||(n!=null?y(n,"name"):n))!=null?o:m,typeof o===c?o.call(u,{name:"name",hash:{},data:a,loc:{start:{line:88,column:49},end:{line:88,column:57}}}):o))+`?.value
`},72:function(l,n,r,f,a){var e,t,i=n??(l.nullContext||{}),o=l.hooks.helperMissing,s="function",u=l.escapeExpression,m=l.lookupProperty||function(c,y){if(Object.prototype.hasOwnProperty.call(c,y))return c[y]};return`/**
`+((e=m(r,"if").call(i,n!=null?m(n,"description"):n,{name:"if",hash:{},fn:l.program(73,a,0),inverse:l.noop,data:a,loc:{start:{line:100,column:1},end:{line:102,column:8}}}))!=null?e:"")+" * Schema: `"+u((t=(t=m(r,"igluUrl")||(n!=null?m(n,"igluUrl"):n))!=null?t:o,typeof t===s?t.call(i,{name:"igluUrl",hash:{},data:a,loc:{start:{line:103,column:12},end:{line:103,column:23}}}):t))+"`\n *\n * Example:\n * ```kotlin\n * val data = "+u((t=(t=m(r,"typeName")||(n!=null?m(n,"typeName"):n))!=null?t:o,typeof t===s?t.call(i,{name:"typeName",hash:{},data:a,loc:{start:{line:107,column:14},end:{line:107,column:26}}}):t))+`(
`+((e=m(r,"each").call(i,n!=null?m(n,"properties"):n,{name:"each",hash:{},fn:l.program(75,a,0),inverse:l.noop,data:a,loc:{start:{line:108,column:1},end:{line:110,column:10}}}))!=null?e:"")+` * )
 * // Track as an event
 * Snowplow.defaultTracker?.track(data.toEvent())
 * // Add as an entity to another event
 * val event = ScreenView(name = "Product")
 * event.entities.add(data.toEntity())
 * Snowplow.defaultTracker?.track(event)
 * \`\`\`
*/
`+((e=l.invokePartial(m(f,"classDefinition"),n,{name:"classDefinition",data:a,helpers:r,partials:f,decorators:l.decorators}))!=null?e:"")+'    private val schema = "'+u((t=(t=m(r,"igluUrl")||(n!=null?m(n,"igluUrl"):n))!=null?t:o,typeof t===s?t.call(i,{name:"igluUrl",hash:{},data:a,loc:{start:{line:121,column:26},end:{line:121,column:37}}}):t))+`"

    private val payload: Map<String, Any?>
        get() {
`+((e=l.invokePartial(m(f,"createAndReturnPayloadDictionary"),n,{name:"createAndReturnPayloadDictionary",data:a,indent:"    ",helpers:r,partials:f,decorators:l.decorators}))!=null?e:"")+`        }

    /** Creates an event instance to be tracked by the tracker. */
    fun toEvent() : SelfDescribing {
        return SelfDescribing(schema, payload)
    }

    /** Creates an entity that can be added to events. */
    fun toEntity() : SelfDescribingJson {
        return SelfDescribingJson(schema, payload)
    }
}
`+((e=m(r,"each").call(i,n!=null?m(n,"properties"):n,{name:"each",hash:{},fn:l.program(77,a,0),inverse:l.noop,data:a,loc:{start:{line:139,column:0},end:{line:152,column:9}}}))!=null?e:"")+`
`},73:function(l,n,r,f,a){var e,t,i=l.lookupProperty||function(o,s){if(Object.prototype.hasOwnProperty.call(o,s))return o[s]};return" * "+((e=(t=(t=i(r,"description")||(n!=null?i(n,"description"):n))!=null?t:l.hooks.helperMissing,typeof t=="function"?t.call(n??(l.nullContext||{}),{name:"description",hash:{},data:a,loc:{start:{line:101,column:3},end:{line:101,column:20}}}):t))!=null?e:"")+`
`},75:function(l,n,r,f,a){var e,t,i=n??(l.nullContext||{}),o=l.hooks.helperMissing,s="function",u=l.escapeExpression,m=l.lookupProperty||function(c,y){if(Object.prototype.hasOwnProperty.call(c,y))return c[y]};return" *     "+u((t=(t=m(r,"name")||(n!=null?m(n,"name"):n))!=null?t:o,typeof t===s?t.call(i,{name:"name",hash:{},data:a,loc:{start:{line:109,column:7},end:{line:109,column:15}}}):t))+" = "+u((t=(t=m(r,"name")||(n!=null?m(n,"name"):n))!=null?t:o,typeof t===s?t.call(i,{name:"name",hash:{},data:a,loc:{start:{line:109,column:18},end:{line:109,column:26}}}):t))+((e=m(r,"unless").call(i,a&&m(a,"last"),{name:"unless",hash:{},fn:l.program(8,a,0),inverse:l.noop,data:a,loc:{start:{line:109,column:26},end:{line:109,column:56}}}))!=null?e:"")+`
`},77:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return(e=t(r,"if").call(n??(l.nullContext||{}),n!=null?t(n,"shouldOutputSchemaNullClass"):n,{name:"if",hash:{},fn:l.program(78,a,0),inverse:l.noop,data:a,loc:{start:{line:140,column:0},end:{line:151,column:7}}}))!=null?e:""},78:function(l,n,r,f,a){return`
/** For internal use */
object SchemaNull {
    val value: Any?
        get() = null

    override fun toString(): String {
        return "SchemaNull"
    }
}
`},80:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return`

`+((e=t(r,"if").call(n??(l.nullContext||{}),n!=null?t(n,"description"):n,{name:"if",hash:{},fn:l.program(81,a,0),inverse:l.noop,data:a,loc:{start:{line:216,column:0},end:{line:220,column:7}}}))!=null?e:"")+((e=l.invokePartial(t(f,"classDefinition"),n,{name:"classDefinition",data:a,helpers:r,partials:f,decorators:l.decorators}))!=null?e:"")+`    val payload: Map<String, Any?>
        get() {
`+((e=l.invokePartial(t(f,"createAndReturnPayloadDictionary"),n,{name:"createAndReturnPayloadDictionary",data:a,indent:"    ",helpers:r,partials:f,decorators:l.decorators}))!=null?e:"")+`        }
}
`},81:function(l,n,r,f,a){var e,t,i=l.lookupProperty||function(o,s){if(Object.prototype.hasOwnProperty.call(o,s))return o[s]};return`/**
 * `+((e=(t=(t=i(r,"description")||(n!=null?i(n,"description"):n))!=null?t:l.hooks.helperMissing,typeof t=="function"?t.call(n??(l.nullContext||{}),{name:"description",hash:{},data:a,loc:{start:{line:218,column:3},end:{line:218,column:20}}}):t))!=null?e:"")+`
*/
`},83:function(l,n,r,f,a){var e,t,i=n??(l.nullContext||{}),o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return`
`+((e=o(r,"if").call(i,n!=null?o(n,"description"):n,{name:"if",hash:{},fn:l.program(81,a,0),inverse:l.noop,data:a,loc:{start:{line:231,column:0},end:{line:235,column:7}}}))!=null?e:"")+"enum class "+l.escapeExpression((t=(t=o(r,"name")||(n!=null?o(n,"name"):n))!=null?t:l.hooks.helperMissing,typeof t=="function"?t.call(i,{name:"name",hash:{},data:a,loc:{start:{line:236,column:11},end:{line:236,column:19}}}):t))+`(val string: String) {
`+((e=o(r,"each").call(i,n!=null?o(n,"cases"):n,{name:"each",hash:{},fn:l.program(84,a,0),inverse:l.noop,data:a,loc:{start:{line:237,column:0},end:{line:239,column:9}}}))!=null?e:"")+`}
`},84:function(l,n,r,f,a){var e,t,i=n??(l.nullContext||{}),o=l.hooks.helperMissing,s="function",u=l.lookupProperty||function(m,c){if(Object.prototype.hasOwnProperty.call(m,c))return m[c]};return"    "+l.escapeExpression((t=(t=u(r,"name")||(n!=null?u(n,"name"):n))!=null?t:o,typeof t===s?t.call(i,{name:"name",hash:{},data:a,loc:{start:{line:238,column:4},end:{line:238,column:12}}}):t))+'("'+((e=(t=(t=u(r,"jsonName")||(n!=null?u(n,"jsonName"):n))!=null?t:o,typeof t===s?t.call(i,{name:"jsonName",hash:{},data:a,loc:{start:{line:238,column:14},end:{line:238,column:28}}}):t))!=null?e:"")+'")'+((e=u(r,"unless").call(i,a&&u(a,"last"),{name:"unless",hash:{},fn:l.program(8,a,0),inverse:l.noop,data:a,loc:{start:{line:238,column:30},end:{line:238,column:60}}}))!=null?e:"")+`
`},86:function(l,n,r,f,a,e,t){var i,o=n??(l.nullContext||{}),s=l.lambda,u=l.escapeExpression,m=l.lookupProperty||function(c,y){if(Object.prototype.hasOwnProperty.call(c,y))return c[y]};return`
/**`+((i=m(r,"if").call(o,m(r,"lookup").call(o,t[1]!=null?m(t[1],"metadataForAllEventSpecs"):t[1],n!=null?m(n,"id"):n,{name:"lookup",hash:{},data:a,loc:{start:{line:247,column:8},end:{line:247,column:52}}}),{name:"if",hash:{},fn:l.program(87,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:247,column:1},end:{line:247,column:116}}}))!=null?i:"")+`
 * Creates an event with entities for a `+u(s(n!=null?m(n,"generatedName"):n,n))+` event specification.
 * `+u((m(r,"addEventSpecificationIdentifier")||n&&m(n,"addEventSpecificationIdentifier")||l.hooks.helperMissing).call(o,n!=null?m(n,"id"):n,{name:"addEventSpecificationIdentifier",hash:{},data:a,loc:{start:{line:249,column:3},end:{line:249,column:46}}}))+"\n * Example:\n * ```kotlin\n * val data = "+u(s(n!=null?m(n,"event"):n,n))+`(...)
`+((i=m(r,"each").call(o,n!=null?m(n,"entities"):n,{name:"each",hash:{},fn:l.program(89,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:253,column:1},end:{line:255,column:10}}}))!=null?i:"")+" * val event = data.to"+u(s(n!=null?m(n,"generatedName"):n,n))+"Spec("+((i=m(r,"each").call(o,n!=null?m(n,"entities"):n,{name:"each",hash:{},fn:l.program(91,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:256,column:49},end:{line:256,column:124}}}))!=null?i:"")+`)
 * // Track as an event
 * Snowplow.defaultTracker?.track(event)
 * \`\`\`
*/
fun `+u(s(n!=null?m(n,"event"):n,n))+".to"+u(s(n!=null?m(n,"generatedName"):n,n))+"Spec("+((i=m(r,"each").call(o,n!=null?m(n,"entities"):n,{name:"each",hash:{},fn:l.program(93,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:261,column:48},end:{line:261,column:135}}}))!=null?i:"")+`) : SelfDescribing {
    val event = toEvent()
    val eventSpec = EventSpecification(
        "`+u(s(n!=null?m(n,"id"):n,n))+`",
        "`+u(s(n!=null?m(n,"name"):n,n))+`",
        "`+u(s(n!=null?m(n,"dataProductId"):n,n))+`",
        "`+u(s(n!=null?m(n,"dataProductName"):n,n))+`"
    )
`+((i=m(r,"each").call(o,n!=null?m(n,"entities"):n,{name:"each",hash:{},fn:l.program(95,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:269,column:0},end:{line:271,column:9}}}))!=null?i:"")+`    event.entities.add(eventSpec.toEntity())
    return event
}
`},87:function(l,n,r,f,a,e,t){var i=l.lookupProperty||function(o,s){if(Object.prototype.hasOwnProperty.call(o,s))return o[s]};return l.escapeExpression((i(r,"warningsDs")||n&&i(n,"warningsDs")||l.hooks.helperMissing).call(n??(l.nullContext||{}),t[1]!=null?i(t[1],"metadataForAllEventSpecs"):t[1],n!=null?i(n,"id"):n,"*",{name:"warningsDs",hash:{},data:a,loc:{start:{line:247,column:54},end:{line:247,column:109}}}))},89:function(l,n,r,f,a){var e=l.lambda,t=l.escapeExpression;return" * val data"+t(e(n,n))+" = "+t(e(n,n))+`(...)
`},91:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return"data"+l.escapeExpression(l.lambda(n,n))+((e=t(r,"unless").call(n??(l.nullContext||{}),a&&t(a,"last"),{name:"unless",hash:{},fn:l.program(8,a,0),inverse:l.noop,data:a,loc:{start:{line:256,column:85},end:{line:256,column:115}}}))!=null?e:"")},93:function(l,n,r,f,a){var e,t=l.lambda,i=l.escapeExpression,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return"entity"+i(t(n,n))+": "+i(t(n,n))+((e=o(r,"unless").call(n??(l.nullContext||{}),a&&o(a,"last"),{name:"unless",hash:{},fn:l.program(8,a,0),inverse:l.noop,data:a,loc:{start:{line:261,column:96},end:{line:261,column:126}}}))!=null?e:"")},95:function(l,n,r,f,a){return"    event.entities.add(entity"+l.escapeExpression(l.lambda(n,n))+`.toEntity())
`},97:function(l,n,r,f,a,e,t){var i,o=n??(l.nullContext||{}),s=l.lambda,u=l.escapeExpression,m=l.hooks.helperMissing,c=l.lookupProperty||function(y,g){if(Object.prototype.hasOwnProperty.call(y,g))return y[g]};return"/**"+((i=c(r,"if").call(o,c(r,"lookup").call(o,t[1]!=null?c(t[1],"metadataForAllEventSpecs"):t[1],n!=null?c(n,"id"):n,{name:"lookup",hash:{},data:a,loc:{start:{line:279,column:8},end:{line:279,column:52}}}),{name:"if",hash:{},fn:l.program(87,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:279,column:1},end:{line:279,column:116}}}))!=null?i:"")+`
 * Creates an ecommerce event with entities for a `+u(s(n!=null?c(n,"generatedName"):n,n))+` event specification.
 * `+u((c(r,"addEventSpecificationIdentifier")||n&&c(n,"addEventSpecificationIdentifier")||m).call(o,n!=null?c(n,"id"):n,{name:"addEventSpecificationIdentifier",hash:{},data:a,loc:{start:{line:281,column:3},end:{line:281,column:46}}}))+"\n * Example:\n * ```kotlin\n * val baseEvent = "+u((c(r,"ecomFunctionMobile")||n&&c(n,"ecomFunctionMobile")||m).call(o,n!=null?c(n,"event"):n,{name:"ecomFunctionMobile",hash:{},data:a,loc:{start:{line:284,column:19},end:{line:284,column:52}}}))+`(...)
`+((i=c(r,"each").call(o,n!=null?c(n,"entities"):n,{name:"each",hash:{},fn:l.program(89,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:285,column:1},end:{line:287,column:10}}}))!=null?i:"")+" * val event = baseEvent.to"+u(s(n!=null?c(n,"generatedName"):n,n))+"Spec("+((i=c(r,"each").call(o,n!=null?c(n,"entities"):n,{name:"each",hash:{},fn:l.program(91,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:288,column:54},end:{line:288,column:129}}}))!=null?i:"")+`)
 * // Track as an event
 * Snowplow.defaultTracker?.track(event)
 * \`\`\`
*/
fun `+u((c(r,"ecomFunctionMobile")||n&&c(n,"ecomFunctionMobile")||m).call(o,n!=null?c(n,"event"):n,{name:"ecomFunctionMobile",hash:{},data:a,loc:{start:{line:293,column:4},end:{line:293,column:37}}}))+".to"+u(s(n!=null?c(n,"generatedName"):n,n))+"Spec("+((i=c(r,"each").call(o,n!=null?c(n,"entities"):n,{name:"each",hash:{},fn:l.program(93,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:293,column:67},end:{line:293,column:154}}}))!=null?i:"")+") : "+u((c(r,"ecomFunctionMobile")||n&&c(n,"ecomFunctionMobile")||m).call(o,n!=null?c(n,"event"):n,{name:"ecomFunctionMobile",hash:{},data:a,loc:{start:{line:293,column:158},end:{line:293,column:191}}}))+` {
    val eventSpec = EventSpecification(
        "`+u(s(n!=null?c(n,"id"):n,n))+`",
        "`+u(s(n!=null?c(n,"name"):n,n))+`",
        "`+u(s(n!=null?c(n,"dataProductId"):n,n))+`",
        "`+u(s(n!=null?c(n,"dataProductName"):n,n))+`"
    )
`+((i=c(r,"each").call(o,n!=null?c(n,"entities"):n,{name:"each",hash:{},fn:l.program(98,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:300,column:0},end:{line:302,column:9}}}))!=null?i:"")+`    entities.add(eventSpec.toEntity())
    return this
}
`},98:function(l,n,r,f,a){return"    entities.add(entity"+l.escapeExpression(l.lambda(n,n))+`.toEntity())
`},compiler:[8,">= 4.3.0"],main:function(l,n,r,f,a,e,t){var i,o,s,u=n??(l.nullContext||{}),m=l.hooks.helperMissing,c="function",y=l.hooks.blockHelperMissing,g=l.lookupProperty||function(x,j){if(Object.prototype.hasOwnProperty.call(x,j))return x[j]},p=`// Automatically generated by Snowtype

package Snowtype

import com.snowplowanalytics.snowplow.event.SelfDescribing
import com.snowplowanalytics.snowplow.payload.SelfDescribingJson
`+((i=g(r,"each").call(u,n!=null?g(n,"ecomEventSpecifications"):n,{name:"each",hash:{},fn:l.program(1,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:7,column:0},end:{line:9,column:9}}}))!=null?i:"")+`
`;return i=(o=(o=g(r,"type")||(n!=null?g(n,"type"):n))!=null?o:m,s={name:"type",hash:{},fn:l.program(72,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:97,column:0},end:{line:154,column:9}}},typeof o===c?o.call(u,s):o),g(r,"type")||(i=y.call(n,i,s)),i!=null&&(p+=i),p+=`/**
 * Entity schema for referencing an event specification
 * Schema: \`iglu:com.snowplowanalytics.snowplow/event_specification/jsonschema/1-0-2\`
 *
 * Example:
 * \`\`\`kotlin
 * val data = EventSpecification(
 *     id = id,
 *     name = name,
 *     dataProductId = dataProductId,
 *     dataProductName = dataProductName
 * )
 * // Track as an event
 * Snowplow.defaultTracker?.track(data.toEvent())
 * // Add as an entity to another event
 * val event = ScreenView(name = "Product")
 * event.entities.add(data.toEntity())
 * Snowplow.defaultTracker?.track(event)
 * \`\`\`
*/
data class EventSpecification(

    /** Identifier for the event specification that the event adheres */
    var id: String,

    /** Name for the event specification that the event adheres to */
    var name: String,

    /** Identifier for the data product that the event specification belongs to */
    var dataProductId: String,

    /** Name for the data product that the event specification belongs to */
    var dataProductName: String
) {
    private val schema = "iglu:com.snowplowanalytics.snowplow/event_specification/jsonschema/1-0-2"

    private val payload: Map<String, Any?>
        get() {
            val payload = HashMap<String, Any?>()
            payload["id"] = id
            payload["name"] = name
            payload["data_product_id"] = dataProductId
            payload["data_product_name"] = dataProductName
            return payload
        }

    /** Creates an event instance to be tracked by the tracker. */
    fun toEvent() : SelfDescribing {
        return SelfDescribing(schema, payload)
    }

    /** Creates an entity that can be added to events. */
    fun toEntity() : SelfDescribingJson {
        return SelfDescribingJson(schema, payload)
    }
}
`,i=(o=(o=g(r,"nestedTypes")||(n!=null?g(n,"nestedTypes"):n))!=null?o:m,s={name:"nestedTypes",hash:{},fn:l.program(80,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:212,column:0},end:{line:227,column:16}}},typeof o===c?o.call(u,s):o),g(r,"nestedTypes")||(i=y.call(n,i,s)),i!=null&&(p+=i),p+((i=g(r,"each").call(u,n!=null?g(n,"enums"):n,{name:"each",hash:{},fn:l.program(83,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:228,column:0},end:{line:241,column:9}}}))!=null?i:"")+((i=g(r,"each").call(u,n!=null?g(n,"eventSpecifications"):n,{name:"each",hash:{},fn:l.program(86,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:244,column:0},end:{line:275,column:9}}}))!=null?i:"")+`
`+((i=g(r,"each").call(u,n!=null?g(n,"ecomEventSpecifications"):n,{name:"each",hash:{},fn:l.program(97,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:277,column:0},end:{line:306,column:9}}}))!=null?i:"")},main_d:function(l,n,r,f,a,e,t){var i=r.decorators,o=r.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return l=o(i,"inline")(l,n,r,{name:"inline",hash:{},fn:r.program(3,a,0,e,t),inverse:r.noop,args:["classProperties"],data:a,loc:{start:{line:11,column:0},end:{line:28,column:11}}})||l,l=o(i,"inline")(l,n,r,{name:"inline",hash:{},fn:r.program(18,a,0,e,t),inverse:r.noop,args:["classDefinition"],data:a,loc:{start:{line:30,column:0},end:{line:39,column:11}}})||l,l=o(i,"inline")(l,n,r,{name:"inline",hash:{},fn:r.program(23,a,0,e,t),inverse:r.noop,args:["createAndReturnPayloadDictionary"],data:a,loc:{start:{line:41,column:0},end:{line:95,column:11}}})||l,l},useDecorators:!0,usePartial:!0,useData:!0,useDepths:!0}});var cl=b((ga,sl)=>{"use strict";sl.exports={id:{language:"swift",tracker:"snowplow-ios-tracker"},1:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return(e=t(r,"each").call(n??(l.nullContext||{}),n!=null?t(n,"properties"):n,{name:"each",hash:{},fn:l.program(2,a,0),inverse:l.noop,data:a,loc:{start:{line:5,column:0},end:{line:14,column:9}}}))!=null?e:""},2:function(l,n,r,f,a){var e,t=n??(l.nullContext||{}),i=l.lookupProperty||function(o,s){if(Object.prototype.hasOwnProperty.call(o,s))return o[s]};return((e=i(r,"if").call(t,n!=null?i(n,"description"):n,{name:"if",hash:{},fn:l.program(3,a,0),inverse:l.noop,data:a,loc:{start:{line:6,column:0},end:{line:8,column:7}}}))!=null?e:"")+((e=i(r,"if").call(t,n!=null?i(n,"isNull"):n,{name:"if",hash:{},fn:l.program(5,a,0),inverse:l.program(7,a,0),data:a,loc:{start:{line:9,column:0},end:{line:13,column:7}}}))!=null?e:"")},3:function(l,n,r,f,a){var e,t,i=l.lookupProperty||function(o,s){if(Object.prototype.hasOwnProperty.call(o,s))return o[s]};return"    /// "+((e=(t=(t=i(r,"description")||(n!=null?i(n,"description"):n))!=null?t:l.hooks.helperMissing,typeof t=="function"?t.call(n??(l.nullContext||{}),{name:"description",hash:{},data:a,loc:{start:{line:7,column:8},end:{line:7,column:25}}}):t))!=null?e:"")+`
`},5:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return"    var "+l.escapeExpression((e=(e=t(r,"name")||(n!=null?t(n,"name"):n))!=null?e:l.hooks.helperMissing,typeof e=="function"?e.call(n??(l.nullContext||{}),{name:"name",hash:{},data:a,loc:{start:{line:10,column:8},end:{line:10,column:16}}}):e))+`: NSNull? = nil
`},7:function(l,n,r,f,a){var e,t=n??(l.nullContext||{}),i=l.hooks.helperMissing,o="function",s=l.escapeExpression,u=l.lookupProperty||function(m,c){if(Object.prototype.hasOwnProperty.call(m,c))return m[c]};return"    var "+s((e=(e=u(r,"name")||(n!=null?u(n,"name"):n))!=null?e:i,typeof e===o?e.call(t,{name:"name",hash:{},data:a,loc:{start:{line:12,column:8},end:{line:12,column:16}}}):e))+": "+s((e=(e=u(r,"type")||(n!=null?u(n,"type"):n))!=null?e:i,typeof e===o?e.call(t,{name:"type",hash:{},data:a,loc:{start:{line:12,column:18},end:{line:12,column:26}}}):e))+`
`},9:function(l,n,r,f,a,e,t){var i,o,s=n??(l.nullContext||{}),u=l.hooks.helperMissing,m="function",c=l.escapeExpression,y=l.lookupProperty||function(g,p){if(Object.prototype.hasOwnProperty.call(g,p))return g[p]};return"        "+c((o=(o=y(r,"indent")||(n!=null?y(n,"indent"):n))!=null?o:u,typeof o===m?o.call(s,{name:"indent",hash:{},data:a,loc:{start:{line:18,column:8},end:{line:18,column:18}}}):o))+`var payload: [String : Any] = [:]
`+((i=y(r,"each").call(s,n!=null?y(n,"properties"):n,{name:"each",hash:{},fn:l.program(10,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:19,column:0},end:{line:55,column:9}}}))!=null?i:"")+"        "+c((o=(o=y(r,"indent")||(n!=null?y(n,"indent"):n))!=null?o:u,typeof o===m?o.call(s,{name:"indent",hash:{},data:a,loc:{start:{line:56,column:8},end:{line:56,column:18}}}):o))+`return payload
`},10:function(l,n,r,f,a,e,t){var i,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return(i=o(r,"if").call(n??(l.nullContext||{}),n!=null?o(n,"isNullableOrOptional"):n,{name:"if",hash:{},fn:l.program(11,a,0,e,t),inverse:l.program(30,a,0,e,t),data:a,loc:{start:{line:20,column:0},end:{line:54,column:7}}}))!=null?i:""},11:function(l,n,r,f,a,e,t){var i,o,s=l.lambda,u=l.escapeExpression,m=n??(l.nullContext||{}),c=l.hooks.helperMissing,y="function",g=l.lookupProperty||function(p,x){if(Object.prototype.hasOwnProperty.call(p,x))return p[x]};return"        "+u(s(t[1]!=null?g(t[1],"indent"):t[1],n))+"if let "+u((o=(o=g(r,"name")||(n!=null?g(n,"name"):n))!=null?o:c,typeof o===y?o.call(m,{name:"name",hash:{},data:a,loc:{start:{line:21,column:28},end:{line:21,column:36}}}):o))+" = "+u((o=(o=g(r,"name")||(n!=null?g(n,"name"):n))!=null?o:c,typeof o===y?o.call(m,{name:"name",hash:{},data:a,loc:{start:{line:21,column:39},end:{line:21,column:47}}}):o))+` {
`+((i=g(r,"if").call(m,n!=null?g(n,"isArrayOfEnums"):n,{name:"if",hash:{},fn:l.program(12,a,0,e,t),inverse:l.program(14,a,0,e,t),data:a,loc:{start:{line:22,column:0},end:{line:34,column:7}}}))!=null?i:"")+((i=g(r,"unless").call(m,n!=null?g(n,"isOptional"):n,{name:"unless",hash:{},fn:l.program(28,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:35,column:0},end:{line:38,column:11}}}))!=null?i:"")+"       "+u(s(t[1]!=null?g(t[1],"indent"):t[1],n))+` }
`},12:function(l,n,r,f,a,e,t){var i,o,s=l.escapeExpression,u=n??(l.nullContext||{}),m=l.hooks.helperMissing,c="function",y=l.lookupProperty||function(g,p){if(Object.prototype.hasOwnProperty.call(g,p))return g[p]};return"            "+s(l.lambda(t[1]!=null?y(t[1],"indent"):t[1],n))+'payload["'+((i=(o=(o=y(r,"jsonName")||(n!=null?y(n,"jsonName"):n))!=null?o:m,typeof o===c?o.call(u,{name:"jsonName",hash:{},data:a,loc:{start:{line:23,column:34},end:{line:23,column:48}}}):o))!=null?i:"")+'"] = '+s((o=(o=y(r,"name")||(n!=null?y(n,"name"):n))!=null?o:m,typeof o===c?o.call(u,{name:"name",hash:{},data:a,loc:{start:{line:23,column:53},end:{line:23,column:61}}}):o))+`.map { $0.rawValue }
`},14:function(l,n,r,f,a,e,t){var i,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return(i=o(r,"if").call(n??(l.nullContext||{}),n!=null?o(n,"isArrayOfObjects"):n,{name:"if",hash:{},fn:l.program(15,a,0,e,t),inverse:l.program(17,a,0,e,t),data:a,loc:{start:{line:24,column:0},end:{line:34,column:0}}}))!=null?i:""},15:function(l,n,r,f,a,e,t){var i,o,s=l.escapeExpression,u=n??(l.nullContext||{}),m=l.hooks.helperMissing,c="function",y=l.lookupProperty||function(g,p){if(Object.prototype.hasOwnProperty.call(g,p))return g[p]};return"            "+s(l.lambda(t[1]!=null?y(t[1],"indent"):t[1],n))+'payload["'+((i=(o=(o=y(r,"jsonName")||(n!=null?y(n,"jsonName"):n))!=null?o:m,typeof o===c?o.call(u,{name:"jsonName",hash:{},data:a,loc:{start:{line:25,column:34},end:{line:25,column:48}}}):o))!=null?i:"")+'"] = '+s((o=(o=y(r,"name")||(n!=null?y(n,"name"):n))!=null?o:m,typeof o===c?o.call(u,{name:"name",hash:{},data:a,loc:{start:{line:25,column:53},end:{line:25,column:61}}}):o))+`.map { $0.payload }
`},17:function(l,n,r,f,a,e,t){var i,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return(i=o(r,"if").call(n??(l.nullContext||{}),n!=null?o(n,"isEnum"):n,{name:"if",hash:{},fn:l.program(18,a,0,e,t),inverse:l.program(20,a,0,e,t),data:a,loc:{start:{line:26,column:0},end:{line:34,column:0}}}))!=null?i:""},18:function(l,n,r,f,a,e,t){var i,o,s=l.escapeExpression,u=n??(l.nullContext||{}),m=l.hooks.helperMissing,c="function",y=l.lookupProperty||function(g,p){if(Object.prototype.hasOwnProperty.call(g,p))return g[p]};return"            "+s(l.lambda(t[1]!=null?y(t[1],"indent"):t[1],n))+'payload["'+((i=(o=(o=y(r,"jsonName")||(n!=null?y(n,"jsonName"):n))!=null?o:m,typeof o===c?o.call(u,{name:"jsonName",hash:{},data:a,loc:{start:{line:27,column:34},end:{line:27,column:48}}}):o))!=null?i:"")+'"] = '+s((o=(o=y(r,"name")||(n!=null?y(n,"name"):n))!=null?o:m,typeof o===c?o.call(u,{name:"name",hash:{},data:a,loc:{start:{line:27,column:53},end:{line:27,column:61}}}):o))+`.rawValue
`},20:function(l,n,r,f,a,e,t){var i,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return(i=o(r,"if").call(n??(l.nullContext||{}),n!=null?o(n,"isObject"):n,{name:"if",hash:{},fn:l.program(21,a,0,e,t),inverse:l.program(23,a,0,e,t),data:a,loc:{start:{line:28,column:0},end:{line:34,column:0}}}))!=null?i:""},21:function(l,n,r,f,a,e,t){var i,o,s=l.escapeExpression,u=n??(l.nullContext||{}),m=l.hooks.helperMissing,c="function",y=l.lookupProperty||function(g,p){if(Object.prototype.hasOwnProperty.call(g,p))return g[p]};return"            "+s(l.lambda(t[1]!=null?y(t[1],"indent"):t[1],n))+'payload["'+((i=(o=(o=y(r,"jsonName")||(n!=null?y(n,"jsonName"):n))!=null?o:m,typeof o===c?o.call(u,{name:"jsonName",hash:{},data:a,loc:{start:{line:29,column:34},end:{line:29,column:48}}}):o))!=null?i:"")+'"] = '+s((o=(o=y(r,"name")||(n!=null?y(n,"name"):n))!=null?o:m,typeof o===c?o.call(u,{name:"name",hash:{},data:a,loc:{start:{line:29,column:53},end:{line:29,column:61}}}):o))+`.payload
`},23:function(l,n,r,f,a,e,t){var i,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return(i=o(r,"if").call(n??(l.nullContext||{}),n!=null?o(n,"isNull"):n,{name:"if",hash:{},fn:l.program(24,a,0,e,t),inverse:l.program(26,a,0,e,t),data:a,loc:{start:{line:30,column:0},end:{line:34,column:0}}}))!=null?i:""},24:function(l,n,r,f,a,e,t){var i,o,s=l.lookupProperty||function(u,m){if(Object.prototype.hasOwnProperty.call(u,m))return u[m]};return"            "+l.escapeExpression(l.lambda(t[1]!=null?s(t[1],"indent"):t[1],n))+'payload["'+((i=(o=(o=s(r,"jsonName")||(n!=null?s(n,"jsonName"):n))!=null?o:l.hooks.helperMissing,typeof o=="function"?o.call(n??(l.nullContext||{}),{name:"jsonName",hash:{},data:a,loc:{start:{line:31,column:34},end:{line:31,column:48}}}):o))!=null?i:"")+`"] = NSNull()
`},26:function(l,n,r,f,a,e,t){var i,o,s=l.escapeExpression,u=n??(l.nullContext||{}),m=l.hooks.helperMissing,c="function",y=l.lookupProperty||function(g,p){if(Object.prototype.hasOwnProperty.call(g,p))return g[p]};return"            "+s(l.lambda(t[1]!=null?y(t[1],"indent"):t[1],n))+'payload["'+((i=(o=(o=y(r,"jsonName")||(n!=null?y(n,"jsonName"):n))!=null?o:m,typeof o===c?o.call(u,{name:"jsonName",hash:{},data:a,loc:{start:{line:33,column:34},end:{line:33,column:48}}}):o))!=null?i:"")+'"] = '+s((o=(o=y(r,"name")||(n!=null?y(n,"name"):n))!=null?o:m,typeof o===c?o.call(u,{name:"name",hash:{},data:a,loc:{start:{line:33,column:53},end:{line:33,column:61}}}):o))+`
`},28:function(l,n,r,f,a,e,t){var i,o,s=l.lambda,u=l.escapeExpression,m=l.lookupProperty||function(c,y){if(Object.prototype.hasOwnProperty.call(c,y))return c[y]};return"       "+u(s(t[1]!=null?m(t[1],"indent"):t[1],n))+` } else {
            `+u(s(t[1]!=null?m(t[1],"indent"):t[1],n))+'payload["'+((i=(o=(o=m(r,"jsonName")||(n!=null?m(n,"jsonName"):n))!=null?o:l.hooks.helperMissing,typeof o=="function"?o.call(n??(l.nullContext||{}),{name:"jsonName",hash:{},data:a,loc:{start:{line:37,column:34},end:{line:37,column:48}}}):o))!=null?i:"")+`"] = NSNull()
`},30:function(l,n,r,f,a,e,t){var i,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return(i=o(r,"if").call(n??(l.nullContext||{}),n!=null?o(n,"isArrayOfEnums"):n,{name:"if",hash:{},fn:l.program(31,a,0,e,t),inverse:l.program(33,a,0,e,t),data:a,loc:{start:{line:41,column:0},end:{line:53,column:7}}}))!=null?i:""},31:function(l,n,r,f,a,e,t){var i,o,s=l.escapeExpression,u=n??(l.nullContext||{}),m=l.hooks.helperMissing,c="function",y=l.lookupProperty||function(g,p){if(Object.prototype.hasOwnProperty.call(g,p))return g[p]};return"        "+s(l.lambda(t[1]!=null?y(t[1],"indent"):t[1],n))+'payload["'+((i=(o=(o=y(r,"jsonName")||(n!=null?y(n,"jsonName"):n))!=null?o:m,typeof o===c?o.call(u,{name:"jsonName",hash:{},data:a,loc:{start:{line:42,column:30},end:{line:42,column:44}}}):o))!=null?i:"")+'"] = '+s((o=(o=y(r,"name")||(n!=null?y(n,"name"):n))!=null?o:m,typeof o===c?o.call(u,{name:"name",hash:{},data:a,loc:{start:{line:42,column:49},end:{line:42,column:57}}}):o))+`.map { $0.rawValue }
`},33:function(l,n,r,f,a,e,t){var i,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return(i=o(r,"if").call(n??(l.nullContext||{}),n!=null?o(n,"isArrayOfObjects"):n,{name:"if",hash:{},fn:l.program(34,a,0,e,t),inverse:l.program(36,a,0,e,t),data:a,loc:{start:{line:43,column:0},end:{line:53,column:0}}}))!=null?i:""},34:function(l,n,r,f,a,e,t){var i,o,s=l.escapeExpression,u=n??(l.nullContext||{}),m=l.hooks.helperMissing,c="function",y=l.lookupProperty||function(g,p){if(Object.prototype.hasOwnProperty.call(g,p))return g[p]};return"        "+s(l.lambda(t[1]!=null?y(t[1],"indent"):t[1],n))+'payload["'+((i=(o=(o=y(r,"jsonName")||(n!=null?y(n,"jsonName"):n))!=null?o:m,typeof o===c?o.call(u,{name:"jsonName",hash:{},data:a,loc:{start:{line:44,column:30},end:{line:44,column:44}}}):o))!=null?i:"")+'"] = '+s((o=(o=y(r,"name")||(n!=null?y(n,"name"):n))!=null?o:m,typeof o===c?o.call(u,{name:"name",hash:{},data:a,loc:{start:{line:44,column:49},end:{line:44,column:57}}}):o))+`.map { $0.payload }
`},36:function(l,n,r,f,a,e,t){var i,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return(i=o(r,"if").call(n??(l.nullContext||{}),n!=null?o(n,"isEnum"):n,{name:"if",hash:{},fn:l.program(37,a,0,e,t),inverse:l.program(39,a,0,e,t),data:a,loc:{start:{line:45,column:0},end:{line:53,column:0}}}))!=null?i:""},37:function(l,n,r,f,a,e,t){var i,o,s=l.escapeExpression,u=n??(l.nullContext||{}),m=l.hooks.helperMissing,c="function",y=l.lookupProperty||function(g,p){if(Object.prototype.hasOwnProperty.call(g,p))return g[p]};return"        "+s(l.lambda(t[1]!=null?y(t[1],"indent"):t[1],n))+'payload["'+((i=(o=(o=y(r,"jsonName")||(n!=null?y(n,"jsonName"):n))!=null?o:m,typeof o===c?o.call(u,{name:"jsonName",hash:{},data:a,loc:{start:{line:46,column:30},end:{line:46,column:44}}}):o))!=null?i:"")+'"] = '+s((o=(o=y(r,"name")||(n!=null?y(n,"name"):n))!=null?o:m,typeof o===c?o.call(u,{name:"name",hash:{},data:a,loc:{start:{line:46,column:49},end:{line:46,column:57}}}):o))+`.rawValue
`},39:function(l,n,r,f,a,e,t){var i,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return(i=o(r,"if").call(n??(l.nullContext||{}),n!=null?o(n,"isObject"):n,{name:"if",hash:{},fn:l.program(40,a,0,e,t),inverse:l.program(42,a,0,e,t),data:a,loc:{start:{line:47,column:0},end:{line:53,column:0}}}))!=null?i:""},40:function(l,n,r,f,a,e,t){var i,o,s=l.escapeExpression,u=n??(l.nullContext||{}),m=l.hooks.helperMissing,c="function",y=l.lookupProperty||function(g,p){if(Object.prototype.hasOwnProperty.call(g,p))return g[p]};return"        "+s(l.lambda(t[1]!=null?y(t[1],"indent"):t[1],n))+'payload["'+((i=(o=(o=y(r,"jsonName")||(n!=null?y(n,"jsonName"):n))!=null?o:m,typeof o===c?o.call(u,{name:"jsonName",hash:{},data:a,loc:{start:{line:48,column:30},end:{line:48,column:44}}}):o))!=null?i:"")+'"] = '+s((o=(o=y(r,"name")||(n!=null?y(n,"name"):n))!=null?o:m,typeof o===c?o.call(u,{name:"name",hash:{},data:a,loc:{start:{line:48,column:49},end:{line:48,column:57}}}):o))+`.payload
`},42:function(l,n,r,f,a,e,t){var i,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return(i=o(r,"if").call(n??(l.nullContext||{}),n!=null?o(n,"isNull"):n,{name:"if",hash:{},fn:l.program(43,a,0,e,t),inverse:l.program(45,a,0,e,t),data:a,loc:{start:{line:49,column:0},end:{line:53,column:0}}}))!=null?i:""},43:function(l,n,r,f,a,e,t){var i,o,s=l.lookupProperty||function(u,m){if(Object.prototype.hasOwnProperty.call(u,m))return u[m]};return"        "+l.escapeExpression(l.lambda(t[1]!=null?s(t[1],"indent"):t[1],n))+'payload["'+((i=(o=(o=s(r,"jsonName")||(n!=null?s(n,"jsonName"):n))!=null?o:l.hooks.helperMissing,typeof o=="function"?o.call(n??(l.nullContext||{}),{name:"jsonName",hash:{},data:a,loc:{start:{line:50,column:30},end:{line:50,column:44}}}):o))!=null?i:"")+`"] = NSNull()
`},45:function(l,n,r,f,a,e,t){var i,o,s=l.escapeExpression,u=n??(l.nullContext||{}),m=l.hooks.helperMissing,c="function",y=l.lookupProperty||function(g,p){if(Object.prototype.hasOwnProperty.call(g,p))return g[p]};return"        "+s(l.lambda(t[1]!=null?y(t[1],"indent"):t[1],n))+'payload["'+((i=(o=(o=y(r,"jsonName")||(n!=null?y(n,"jsonName"):n))!=null?o:m,typeof o===c?o.call(u,{name:"jsonName",hash:{},data:a,loc:{start:{line:52,column:30},end:{line:52,column:44}}}):o))!=null?i:"")+'"] = '+s((o=(o=y(r,"name")||(n!=null?y(n,"name"):n))!=null?o:m,typeof o===c?o.call(u,{name:"name",hash:{},data:a,loc:{start:{line:52,column:49},end:{line:52,column:57}}}):o))+`
`},47:function(l,n,r,f,a){var e,t,i=n??(l.nullContext||{}),o=l.hooks.helperMissing,s="function",u=l.escapeExpression,m=l.lookupProperty||function(c,y){if(Object.prototype.hasOwnProperty.call(c,y))return c[y]};return`
// MARK: - `+u((t=(t=m(r,"typeName")||(n!=null?m(n,"typeName"):n))!=null?t:o,typeof t===s?t.call(i,{name:"typeName",hash:{},data:a,loc:{start:{line:62,column:11},end:{line:62,column:23}}}):t))+`

`+((e=m(r,"if").call(i,n!=null?m(n,"description"):n,{name:"if",hash:{},fn:l.program(48,a,0),inverse:l.noop,data:a,loc:{start:{line:64,column:0},end:{line:66,column:7}}}))!=null?e:"")+"/// Schema: `"+u((t=(t=m(r,"igluUrl")||(n!=null?m(n,"igluUrl"):n))!=null?t:o,typeof t===s?t.call(i,{name:"igluUrl",hash:{},data:a,loc:{start:{line:67,column:13},end:{line:67,column:24}}}):t))+"`\n///\n/// Example:\n/// ```swift\n/// let data = "+u((t=(t=m(r,"typeName")||(n!=null?m(n,"typeName"):n))!=null?t:o,typeof t===s?t.call(i,{name:"typeName",hash:{},data:a,loc:{start:{line:71,column:15},end:{line:71,column:27}}}):t))+`(
`+((e=m(r,"each").call(i,n!=null?m(n,"properties"):n,{name:"each",hash:{},fn:l.program(50,a,0),inverse:l.noop,data:a,loc:{start:{line:72,column:0},end:{line:74,column:9}}}))!=null?e:"")+`/// )
/// // Track as an event
/// Snowplow.defaultTracker()?.track(data.toEvent())
/// // Add as an entity to another event
/// let event = ScreenView(name: "Product")
/// event.entities.append(data.toEntity())
/// Snowplow.defaultTracker()?.track(event)
/// \`\`\`
struct `+u((t=(t=m(r,"typeName")||(n!=null?m(n,"typeName"):n))!=null?t:o,typeof t===s?t.call(i,{name:"typeName",hash:{},data:a,loc:{start:{line:83,column:7},end:{line:83,column:19}}}):t))+` {

`+((e=l.invokePartial(m(f,"structProperties"),n,{name:"structProperties",data:a,helpers:r,partials:f,decorators:l.decorators}))!=null?e:"")+`
    private var schema: String {
        return "`+u((t=(t=m(r,"igluUrl")||(n!=null?m(n,"igluUrl"):n))!=null?t:o,typeof t===s?t.call(i,{name:"igluUrl",hash:{},data:a,loc:{start:{line:88,column:16},end:{line:88,column:27}}}):t))+`"
    }

    private var payload: [String : Any] {
`+((e=l.invokePartial(m(f,"createAndReturnPayloadDictionary"),n,{name:"createAndReturnPayloadDictionary",data:a,helpers:r,partials:f,decorators:l.decorators}))!=null?e:"")+`    }

    /// Creates an event instance to be tracked by the tracker.
    func toEvent() -> SelfDescribing {
        return SelfDescribing(schema: schema, payload: payload)
    }

    /// Creates an entity that can be added to events.
    func toEntity() -> SelfDescribingJson {
        return SelfDescribingJson(schema: schema, andData: payload)
    }

}
`},48:function(l,n,r,f,a){var e,t,i=l.lookupProperty||function(o,s){if(Object.prototype.hasOwnProperty.call(o,s))return o[s]};return"/// "+((e=(t=(t=i(r,"description")||(n!=null?i(n,"description"):n))!=null?t:l.hooks.helperMissing,typeof t=="function"?t.call(n??(l.nullContext||{}),{name:"description",hash:{},data:a,loc:{start:{line:65,column:4},end:{line:65,column:21}}}):t))!=null?e:"")+`
`},50:function(l,n,r,f,a){var e,t,i=n??(l.nullContext||{}),o=l.hooks.helperMissing,s="function",u=l.escapeExpression,m=l.lookupProperty||function(c,y){if(Object.prototype.hasOwnProperty.call(c,y))return c[y]};return"///     "+u((t=(t=m(r,"name")||(n!=null?m(n,"name"):n))!=null?t:o,typeof t===s?t.call(i,{name:"name",hash:{},data:a,loc:{start:{line:73,column:8},end:{line:73,column:16}}}):t))+": "+u((t=(t=m(r,"name")||(n!=null?m(n,"name"):n))!=null?t:o,typeof t===s?t.call(i,{name:"name",hash:{},data:a,loc:{start:{line:73,column:18},end:{line:73,column:26}}}):t))+((e=m(r,"unless").call(i,a&&m(a,"last"),{name:"unless",hash:{},fn:l.program(51,a,0),inverse:l.noop,data:a,loc:{start:{line:73,column:26},end:{line:73,column:56}}}))!=null?e:"")+`
`},51:function(l,n,r,f,a){return", "},53:function(l,n,r,f,a){var e,t,i=n??(l.nullContext||{}),o=l.hooks.helperMissing,s="function",u=l.escapeExpression,m=l.lookupProperty||function(c,y){if(Object.prototype.hasOwnProperty.call(c,y))return c[y]};return`
// MARK: - `+u((t=(t=m(r,"typeName")||(n!=null?m(n,"typeName"):n))!=null?t:o,typeof t===s?t.call(i,{name:"typeName",hash:{},data:a,loc:{start:{line:170,column:11},end:{line:170,column:23}}}):t))+`

`+((e=m(r,"if").call(i,n!=null?m(n,"description"):n,{name:"if",hash:{},fn:l.program(48,a,0),inverse:l.noop,data:a,loc:{start:{line:172,column:0},end:{line:174,column:7}}}))!=null?e:"")+"struct "+u((t=(t=m(r,"typeName")||(n!=null?m(n,"typeName"):n))!=null?t:o,typeof t===s?t.call(i,{name:"typeName",hash:{},data:a,loc:{start:{line:175,column:7},end:{line:175,column:19}}}):t))+` {

`+((e=l.invokePartial(m(f,"structProperties"),n,{name:"structProperties",data:a,helpers:r,partials:f,decorators:l.decorators}))!=null?e:"")+`
    var payload: [String : Any] {
`+((e=l.invokePartial(m(f,"createAndReturnPayloadDictionary"),n,{name:"createAndReturnPayloadDictionary",data:a,helpers:r,partials:f,decorators:l.decorators}))!=null?e:"")+`    }

}
`},55:function(l,n,r,f,a){var e,t,i=n??(l.nullContext||{}),o=l.hooks.helperMissing,s="function",u=l.escapeExpression,m=l.lookupProperty||function(c,y){if(Object.prototype.hasOwnProperty.call(c,y))return c[y]};return`
// MARK: - `+u((t=(t=m(r,"name")||(n!=null?m(n,"name"):n))!=null?t:o,typeof t===s?t.call(i,{name:"name",hash:{},data:a,loc:{start:{line:188,column:11},end:{line:188,column:19}}}):t))+`

`+((e=m(r,"if").call(i,n!=null?m(n,"description"):n,{name:"if",hash:{},fn:l.program(48,a,0),inverse:l.noop,data:a,loc:{start:{line:190,column:0},end:{line:192,column:7}}}))!=null?e:"")+"enum "+u((t=(t=m(r,"name")||(n!=null?m(n,"name"):n))!=null?t:o,typeof t===s?t.call(i,{name:"name",hash:{},data:a,loc:{start:{line:193,column:5},end:{line:193,column:13}}}):t))+`: String {
`+((e=m(r,"each").call(i,n!=null?m(n,"cases"):n,{name:"each",hash:{},fn:l.program(56,a,0),inverse:l.noop,data:a,loc:{start:{line:194,column:0},end:{line:196,column:9}}}))!=null?e:"")+`}
`},56:function(l,n,r,f,a){var e,t,i=n??(l.nullContext||{}),o=l.hooks.helperMissing,s="function",u=l.lookupProperty||function(m,c){if(Object.prototype.hasOwnProperty.call(m,c))return m[c]};return"    case "+l.escapeExpression((t=(t=u(r,"name")||(n!=null?u(n,"name"):n))!=null?t:o,typeof t===s?t.call(i,{name:"name",hash:{},data:a,loc:{start:{line:195,column:9},end:{line:195,column:17}}}):t))+' = "'+((e=(t=(t=u(r,"jsonName")||(n!=null?u(n,"jsonName"):n))!=null?t:o,typeof t===s?t.call(i,{name:"jsonName",hash:{},data:a,loc:{start:{line:195,column:21},end:{line:195,column:35}}}):t))!=null?e:"")+`"
`},58:function(l,n,r,f,a,e,t){var i,o=l.lambda,s=l.escapeExpression,u=n??(l.nullContext||{}),m=l.lookupProperty||function(c,y){if(Object.prototype.hasOwnProperty.call(c,y))return c[y]};return`
extension `+s(o(n!=null?m(n,"event"):n,n))+" {"+((i=m(r,"if").call(u,m(r,"lookup").call(u,t[1]!=null?m(t[1],"metadataForAllEventSpecs"):t[1],n!=null?m(n,"id"):n,{name:"lookup",hash:{},data:a,loc:{start:{line:202,column:11},end:{line:202,column:55}}}),{name:"if",hash:{},fn:l.program(59,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:202,column:4},end:{line:202,column:124}}}))!=null?i:"")+`
    /// Creates an event with entities for a `+s(o(n!=null?m(n,"generatedName"):n,n))+` event specification.
    /// `+s((m(r,"addEventSpecificationIdentifier")||n&&m(n,"addEventSpecificationIdentifier")||l.hooks.helperMissing).call(u,n!=null?m(n,"id"):n,{name:"addEventSpecificationIdentifier",hash:{},data:a,loc:{start:{line:204,column:8},end:{line:204,column:51}}}))+"\n    /// Example:\n    /// ```swift\n    /// let data = "+s(o(n!=null?m(n,"event"):n,n))+`(...)
`+((i=m(r,"each").call(u,n!=null?m(n,"entities"):n,{name:"each",hash:{},fn:l.program(61,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:208,column:0},end:{line:210,column:9}}}))!=null?i:"")+"    /// let event = data.to"+s(o(n!=null?m(n,"generatedName"):n,n))+"Spec("+((i=m(r,"each").call(u,n!=null?m(n,"entities"):n,{name:"each",hash:{},fn:l.program(63,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:211,column:54},end:{line:211,column:129}}}))!=null?i:"")+`)
    /// // Track as an event
    /// Snowplow.defaultTracker()?.track(event)
    /// \`\`\`
    func to`+s(o(n!=null?m(n,"generatedName"):n,n))+"Spec("+((i=m(r,"each").call(u,n!=null?m(n,"entities"):n,{name:"each",hash:{},fn:l.program(65,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:215,column:38},end:{line:215,column:127}}}))!=null?i:"")+`) -> SelfDescribing {
        let event = toEvent()
        let eventSpec = EventSpecification(
            id: "`+s(o(n!=null?m(n,"id"):n,n))+`",
            name: "`+s(o(n!=null?m(n,"name"):n,n))+`",
            dataProductId: "`+s(o(n!=null?m(n,"dataProductId"):n,n))+`",
            dataProductName: "`+s(o(n!=null?m(n,"dataProductName"):n,n))+`"
        )
`+((i=m(r,"each").call(u,n!=null?m(n,"entities"):n,{name:"each",hash:{},fn:l.program(67,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:223,column:0},end:{line:225,column:9}}}))!=null?i:"")+`        event.entities.append(eventSpec.toEntity())
        return event
    }
}
`},59:function(l,n,r,f,a,e,t){var i=l.lookupProperty||function(o,s){if(Object.prototype.hasOwnProperty.call(o,s))return o[s]};return l.escapeExpression((i(r,"warningsDs")||n&&i(n,"warningsDs")||l.hooks.helperMissing).call(n??(l.nullContext||{}),t[1]!=null?i(t[1],"metadataForAllEventSpecs"):t[1],n!=null?i(n,"id"):n,"   ///",{name:"warningsDs",hash:{},data:a,loc:{start:{line:202,column:57},end:{line:202,column:117}}}))},61:function(l,n,r,f,a){var e=l.lambda,t=l.escapeExpression;return"    /// let data"+t(e(n,n))+" = "+t(e(n,n))+`(...)
`},63:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return"data"+l.escapeExpression(l.lambda(n,n))+((e=t(r,"unless").call(n??(l.nullContext||{}),a&&t(a,"last"),{name:"unless",hash:{},fn:l.program(51,a,0),inverse:l.noop,data:a,loc:{start:{line:211,column:90},end:{line:211,column:120}}}))!=null?e:"")},65:function(l,n,r,f,a){var e,t=l.lambda,i=l.escapeExpression,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return"_ entity"+i(t(n,n))+": "+i(t(n,n))+((e=o(r,"unless").call(n??(l.nullContext||{}),a&&o(a,"last"),{name:"unless",hash:{},fn:l.program(51,a,0),inverse:l.noop,data:a,loc:{start:{line:215,column:88},end:{line:215,column:118}}}))!=null?e:"")},67:function(l,n,r,f,a){return"        event.entities.append(entity"+l.escapeExpression(l.lambda(n,n))+`.toEntity())
`},69:function(l,n,r,f,a,e,t){var i,o=n??(l.nullContext||{}),s=l.hooks.helperMissing,u=l.escapeExpression,m=l.lambda,c=l.lookupProperty||function(y,g){if(Object.prototype.hasOwnProperty.call(y,g))return y[g]};return`
extension `+u((c(r,"ecomFunctionMobile")||n&&c(n,"ecomFunctionMobile")||s).call(o,n!=null?c(n,"event"):n,{name:"ecomFunctionMobile",hash:{},data:a,loc:{start:{line:233,column:10},end:{line:233,column:43}}}))+" {"+((i=c(r,"if").call(o,c(r,"lookup").call(o,t[1]!=null?c(t[1],"metadataForAllEventSpecs"):t[1],n!=null?c(n,"id"):n,{name:"lookup",hash:{},data:a,loc:{start:{line:234,column:11},end:{line:234,column:55}}}),{name:"if",hash:{},fn:l.program(59,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:234,column:4},end:{line:234,column:124}}}))!=null?i:"")+`
    /// Creates an ecommerce event with entities for a `+u(m(n!=null?c(n,"generatedName"):n,n))+` event specification.
    /// `+u((c(r,"addEventSpecificationIdentifier")||n&&c(n,"addEventSpecificationIdentifier")||s).call(o,n!=null?c(n,"id"):n,{name:"addEventSpecificationIdentifier",hash:{},data:a,loc:{start:{line:236,column:8},end:{line:236,column:51}}}))+"\n    /// Example:\n    /// ```swift\n    /// let baseEvent = "+u((c(r,"ecomFunctionMobile")||n&&c(n,"ecomFunctionMobile")||s).call(o,n!=null?c(n,"event"):n,{name:"ecomFunctionMobile",hash:{},data:a,loc:{start:{line:239,column:24},end:{line:239,column:57}}}))+`(...)
`+((i=c(r,"each").call(o,n!=null?c(n,"entities"):n,{name:"each",hash:{},fn:l.program(61,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:240,column:0},end:{line:242,column:9}}}))!=null?i:"")+"    /// let event = baseEvent.to"+u(m(n!=null?c(n,"generatedName"):n,n))+"Spec("+((i=c(r,"each").call(o,n!=null?c(n,"entities"):n,{name:"each",hash:{},fn:l.program(63,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:243,column:59},end:{line:243,column:134}}}))!=null?i:"")+`)
    /// // Track as an event
    /// Snowplow.defaultTracker()?.track(event)
    /// \`\`\`
    func to`+u(m(n!=null?c(n,"generatedName"):n,n))+"Spec("+((i=c(r,"each").call(o,n!=null?c(n,"entities"):n,{name:"each",hash:{},fn:l.program(65,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:247,column:38},end:{line:247,column:127}}}))!=null?i:"")+") -> "+u((c(r,"ecomFunctionMobile")||n&&c(n,"ecomFunctionMobile")||s).call(o,n!=null?c(n,"event"):n,{name:"ecomFunctionMobile",hash:{},data:a,loc:{start:{line:247,column:132},end:{line:247,column:165}}}))+` {
        let eventSpec = EventSpecification(
            id: "`+u(m(n!=null?c(n,"id"):n,n))+`",
            name: "`+u(m(n!=null?c(n,"name"):n,n))+`",
            dataProductId: "`+u(m(n!=null?c(n,"dataProductId"):n,n))+`",
            dataProductName: "`+u(m(n!=null?c(n,"dataProductName"):n,n))+`"
        )
`+((i=c(r,"each").call(o,n!=null?c(n,"entities"):n,{name:"each",hash:{},fn:l.program(70,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:254,column:0},end:{line:256,column:9}}}))!=null?i:"")+`        entities.append(eventSpec.toEntity())
        return self
    }
}
`},70:function(l,n,r,f,a){return"        entities.append(entity"+l.escapeExpression(l.lambda(n,n))+`.toEntity())
`},compiler:[8,">= 4.3.0"],main:function(l,n,r,f,a,e,t){var i,o,s,u=n??(l.nullContext||{}),m=l.hooks.helperMissing,c="function",y=l.hooks.blockHelperMissing,g=l.lookupProperty||function(x,j){if(Object.prototype.hasOwnProperty.call(x,j))return x[j]},p=`import Foundation
import SnowplowTracker

`;return i=(o=(o=g(r,"type")||(n!=null?g(n,"type"):n))!=null?o:m,s={name:"type",hash:{},fn:l.program(47,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:59,column:0},end:{line:106,column:9}}},typeof o===c?o.call(u,s):o),g(r,"type")||(i=y.call(n,i,s)),i!=null&&(p+=i),p+=`
// MARK: - Event Specification

/// Entity schema for referencing an event specification
/// Schema: \`iglu:com.snowplowanalytics.snowplow/event_specification/jsonschema/1-0-2\`
///
/// Example:
/// \`\`\`swift
/// let data = EventSpecification(
///     id: id,
///     name: name,
///     dataProductId: dataProductId,
///     dataProductName: dataProductName
/// )
/// // Track as an event
/// Snowplow.defaultTracker()?.track(data.toEvent())
/// // Add as an entity to another event
/// let event = ScreenView(name: "Product")
/// event.entities.append(data.toEntity())
/// Snowplow.defaultTracker()?.track(event)
/// \`\`\`
struct EventSpecification {

    /// Identifier for the event specification that the event adheres
    var id: String

    /// Name for the event specification that the event adheres to
    var name: String

    /// Identifier for the data product that the event specification belongs to
    var dataProductId: String

    /// Name for the data product that the event specification belongs to
    var dataProductName: String

    private var schema: String {
        return "iglu:com.snowplowanalytics.snowplow/event_specification/jsonschema/1-0-2"
    }

    private var payload: [String : Any] {
        var payload: [String : Any] = [:]
        payload["id"] = id
        payload["name"] = name
        payload["data_product_id"] = dataProductId
        payload["data_product_name"] = dataProductName
        return payload
    }

    /// Creates an event instance to be tracked by the tracker.
    func toEvent() -> SelfDescribing {
        return SelfDescribing(schema: schema, payload: payload)
    }

    /// Creates an entity that can be added to events.
    func toEntity() -> SelfDescribingJson {
        return SelfDescribingJson(schema: schema, andData: payload)
    }

}
`,i=(o=(o=g(r,"nestedTypes")||(n!=null?g(n,"nestedTypes"):n))!=null?o:m,s={name:"nestedTypes",hash:{},fn:l.program(53,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:167,column:0},end:{line:184,column:16}}},typeof o===c?o.call(u,s):o),g(r,"nestedTypes")||(i=y.call(n,i,s)),i!=null&&(p+=i),p+((i=g(r,"each").call(u,n!=null?g(n,"enums"):n,{name:"each",hash:{},fn:l.program(55,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:185,column:0},end:{line:198,column:9}}}))!=null?i:"")+((i=g(r,"each").call(u,n!=null?g(n,"eventSpecifications"):n,{name:"each",hash:{},fn:l.program(58,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:199,column:0},end:{line:230,column:9}}}))!=null?i:"")+((i=g(r,"each").call(u,n!=null?g(n,"ecomEventSpecifications"):n,{name:"each",hash:{},fn:l.program(69,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:231,column:0},end:{line:261,column:9}}}))!=null?i:"")},main_d:function(l,n,r,f,a,e,t){var i=r.decorators,o=r.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return l=o(i,"inline")(l,n,r,{name:"inline",hash:{},fn:r.program(1,a,0,e,t),inverse:r.noop,args:["structProperties"],data:a,loc:{start:{line:3,column:0},end:{line:15,column:11}}})||l,l=o(i,"inline")(l,n,r,{name:"inline",hash:{},fn:r.program(9,a,0,e,t),inverse:r.noop,args:["createAndReturnPayloadDictionary"],data:a,loc:{start:{line:16,column:0},end:{line:57,column:11}}})||l,l},useDecorators:!0,usePartial:!0,useData:!0,useDepths:!0}});var fl=b((pa,ml)=>{"use strict";ml.exports={id:{language:"go",tracker:"snowplow-golang-tracker"},1:function(l,n,r,f,a){var e,t=n??(l.nullContext||{}),i=l.hooks.helperMissing,o=l.escapeExpression,s="function",u=l.lookupProperty||function(m,c){if(Object.prototype.hasOwnProperty.call(m,c))return m[c]};return`
// SnowplowFormat implements SnowplowApplicable
func (`+o((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:86,column:6},end:{line:86,column:27}}}))+" "+o((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===s?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:86,column:28},end:{line:86,column:40}}}):e))+`) SnowplowFormat() (*sp.SelfDescribingJson, error) {
	var decodedMap map[string]interface{}
	err := mapstructure.Decode(`+o((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:88,column:28},end:{line:88,column:49}}}))+`, &decodedMap)
	if err != nil {
		return nil, err
	}

	sdj := sp.InitSelfDescribingJson("`+o((e=(e=u(r,"igluUrl")||(n!=null?u(n,"igluUrl"):n))!=null?e:i,typeof e===s?e.call(t,{name:"igluUrl",hash:{},data:a,loc:{start:{line:93,column:35},end:{line:93,column:46}}}):e))+`", decodedMap)
	return sdj, nil
}

// Track`+o((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===s?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:97,column:8},end:{line:97,column:20}}}):e))+" tracks a "+o((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===s?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:97,column:30},end:{line:97,column:42}}}):e))+`
func Track`+o((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===s?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:98,column:10},end:{line:98,column:22}}}):e))+"(tracker *sp.Tracker, "+o((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:98,column:44},end:{line:98,column:65}}}))+" "+o((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===s?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:98,column:66},end:{line:98,column:78}}}):e))+`, opts ...option) error {
	sdj, err := `+o((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:99,column:13},end:{line:99,column:34}}}))+`.SnowplowFormat()
	if err != nil {
		return err
	}

	sde := &sp.SelfDescribingEvent{Event: sdj}
	for _, opt := range opts {
		opt(sde)
	}

	tracker.TrackSelfDescribingEvent(*sde)
	return nil
}

`},3:function(l,n,r,f,a,e,t){var i,o=l.lambda,s=l.escapeExpression,u=n??(l.nullContext||{}),m=l.hooks.helperMissing,c=l.lookupProperty||function(y,g){if(Object.prototype.hasOwnProperty.call(y,g))return y[g]};return`
// `+s(o(n!=null?c(n,"generatedName"):n,n))+"Applicable represents a context applicable to "+s(o(n!=null?c(n,"generatedName"):n,n))+` event specification
type `+s(o(n!=null?c(n,"generatedName"):n,n))+`Applicable interface {
	`+s(o(n!=null?c(n,"generatedName"):n,n))+`Format() (*sp.SelfDescribingJson, error)
}

`+((i=c(r,"each").call(u,n!=null?c(n,"entities"):n,{name:"each",hash:{},fn:l.program(4,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:122,column:0},end:{line:129,column:9}}}))!=null?i:"")+`
// `+s(o(n!=null?c(n,"generatedName"):n,n))+` Event Specification
type `+s(o(n!=null?c(n,"generatedName"):n,n))+` struct {
	Event    `+s(o(n!=null?c(n,"event"):n,n))+`
	Contexts []`+s(o(n!=null?c(n,"generatedName"):n,n))+`Applicable
}

`+((i=c(r,"if").call(u,c(r,"lookup").call(u,t[1]!=null?c(t[1],"metadataForAllEventSpecs"):t[1],n!=null?c(n,"id"):n,{name:"lookup",hash:{},data:a,loc:{start:{line:137,column:6},end:{line:137,column:50}}}),{name:"if",hash:{},fn:l.program(6,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:137,column:0},end:{line:137,column:112}}}))!=null?i:"")+`
// Track`+s(o(n!=null?c(n,"generatedName"):n,n))+"Spec tracks "+s(o(n!=null?c(n,"generatedName"):n,n))+` event specification
// `+s((c(r,"addEventSpecificationIdentifier")||n&&c(n,"addEventSpecificationIdentifier")||m).call(u,n!=null?c(n,"id"):n,{name:"addEventSpecificationIdentifier",hash:{},data:a,loc:{start:{line:139,column:3},end:{line:139,column:46}}}))+`
func Track`+s(o(n!=null?c(n,"generatedName"):n,n))+"Spec(tracker *sp.Tracker, "+s((c(r,"startLow")||n&&c(n,"startLow")||m).call(u,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:140,column:58},end:{line:140,column:89}}}))+" "+s(o(n!=null?c(n,"generatedName"):n,n))+`, opts ...option) error {
	event := `+s((c(r,"startLow")||n&&c(n,"startLow")||m).call(u,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:141,column:10},end:{line:141,column:41}}}))+`.Event
	sdj, err := event.SnowplowFormat()
	if err != nil {
		return err
	}

	sde := &sp.SelfDescribingEvent{Event: sdj}
	var optErr error
	for _, opt := range opts {
		optErr = opt(sde)
		if optErr != nil {
			break
		}
	}
	if optErr != nil {
		return optErr
	}

	eventSpecificationCtx := make([]sp.SelfDescribingJson, len(`+s((c(r,"startLow")||n&&c(n,"startLow")||m).call(u,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:159,column:60},end:{line:159,column:91}}}))+`.Contexts))
	var ctxErr error
	for i, val := range `+s((c(r,"startLow")||n&&c(n,"startLow")||m).call(u,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:161,column:21},end:{line:161,column:52}}}))+`.Contexts {
		ctxSdj, ctxErr := val.`+s(o(n!=null?c(n,"generatedName"):n,n))+`Format()
		if ctxErr != nil {
			break
		}
		eventSpecificationCtx[i] = *ctxSdj
	}
	if ctxErr != nil {
		return ctxErr
	}

	eventSpec := EventSpecification{
		Id: "`+s(o(n!=null?c(n,"id"):n,n))+`",
		Name: "`+s(o(n!=null?c(n,"name"):n,n))+`",
		DataProductId : "`+s(o(n!=null?c(n,"dataProductId"):n,n))+`",
		DataProductName: "`+s(o(n!=null?c(n,"dataProductName"):n,n))+`",
	}
	eventSpecSdj, err := eventSpec.SnowplowFormat()
	if err != nil {
		return err
	}
	eventSpecificationCtx = append(eventSpecificationCtx, *eventSpecSdj)

	sde.Contexts = append(sde.Contexts, eventSpecificationCtx...)
	tracker.TrackSelfDescribingEvent(*sde)
	return nil
}

`},4:function(l,n,r,f,a,e,t){var i=l.lambda,o=l.escapeExpression,s=n??(l.nullContext||{}),u=l.hooks.helperMissing,m=l.lookupProperty||function(c,y){if(Object.prototype.hasOwnProperty.call(c,y))return c[y]};return`
// `+o(i(t[1]!=null?m(t[1],"generatedName"):t[1],n))+"Format implements "+o(i(t[1]!=null?m(t[1],"generatedName"):t[1],n))+`Applicable
func (`+o((m(r,"startLow")||n&&m(n,"startLow")||u).call(s,n,{name:"startLow",hash:{},data:a,loc:{start:{line:125,column:6},end:{line:125,column:23}}}))+" "+o(i(n,n))+") "+o(i(t[1]!=null?m(t[1],"generatedName"):t[1],n))+`Format() (*sp.SelfDescribingJson, error) {
	return `+o((m(r,"startLow")||n&&m(n,"startLow")||u).call(s,n,{name:"startLow",hash:{},data:a,loc:{start:{line:126,column:8},end:{line:126,column:25}}}))+`.SnowplowFormat()
}

`},6:function(l,n,r,f,a,e,t){var i=l.lookupProperty||function(o,s){if(Object.prototype.hasOwnProperty.call(o,s))return o[s]};return l.escapeExpression((i(r,"warningsDsGo")||n&&i(n,"warningsDsGo")||l.hooks.helperMissing).call(n??(l.nullContext||{}),t[1]!=null?i(t[1],"metadataForAllEventSpecs"):t[1],n!=null?i(n,"id"):n,{name:"warningsDsGo",hash:{},data:a,loc:{start:{line:137,column:52},end:{line:137,column:105}}}))},compiler:[8,">= 4.3.0"],main:function(l,n,r,f,a,e,t){var i,o,s,u=n??(l.nullContext||{}),m=l.lookupProperty||function(y,g){if(Object.prototype.hasOwnProperty.call(y,g))return y[g]},c=`// SnowplowApplicable signifies ability to be formatted as self-describing json
type SnowplowApplicable interface {
	// SnowplowFormat constructs a Snowplow SelfDescribingJson
	SnowplowFormat() (*sp.SelfDescribingJson, error)
}

// internal type to provide functional options for the API
type option func(*sp.SelfDescribingEvent) error

// WithTimestamp returns an option to set the device timestamp
func WithTimestamp(tstamp int64) option {
	return func(sde *sp.SelfDescribingEvent) error {
		sde.Timestamp = &tstamp
		return nil
	}
}

// WithEventID returns an option to set the event_id
func WithEventID(id string) option {
	return func(sde *sp.SelfDescribingEvent) error {
		sde.EventId = &id
		return nil
	}
}

// WithTrueTimestamp returns an option to set the true timestamp
func WithTrueTimestamp(tstamp int64) option {
	return func(sde *sp.SelfDescribingEvent) error {
		sde.TrueTimestamp = &tstamp
		return nil
	}
}

// WithContexts returns an option to set the contexts of an event
func WithContexts(ctx ...SnowplowApplicable) option {
	return func(sde *sp.SelfDescribingEvent) error {
		finalCtx := make([]sp.SelfDescribingJson, len(ctx))
		var ctxErr error
		for i, val := range ctx {
			ctxSdj, ctxErr := val.SnowplowFormat()
			if ctxErr != nil {
				break
			}
			finalCtx[i] = *ctxSdj
		}
		if ctxErr != nil {
			return ctxErr
		}
		sde.Contexts = finalCtx
		return nil
	}
}

// WithSubject returns an option to set the Subject
func WithSubject(subject *sp.Subject) option {
	return func(sde *sp.SelfDescribingEvent) error {
		sde.Subject = subject
		return nil
	}
}

// Entity schema for referencing an event specification
type EventSpecification struct {
	// Identifier for the event specification that the event adheres to
	Id string \`mapstructure:"id"\`
	Name string \`mapstructure:"name"\`
	DataProductId string \`mapstructure:"data_product_id"\`
	DataProductName string \`mapstructure:"data_product_name"\`
}

// SnowplowFormat implements SnowplowApplicable
func (eventSpecification EventSpecification) SnowplowFormat() (*sp.SelfDescribingJson, error) {
	var decodedMap map[string]interface{}
	err := mapstructure.Decode(eventSpecification, &decodedMap)
	if err != nil {
		return nil, err
	}

	sdj := sp.InitSelfDescribingJson("iglu:com.snowplowanalytics.snowplow/event_specification/jsonschema/1-0-2", decodedMap)
	return sdj, nil
}

`;return i=(o=(o=m(r,"type")||(n!=null?m(n,"type"):n))!=null?o:l.hooks.helperMissing,s={name:"type",hash:{},fn:l.program(1,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:83,column:0},end:{line:113,column:9}}},typeof o=="function"?o.call(u,s):o),m(r,"type")||(i=l.hooks.blockHelperMissing.call(n,i,s)),i!=null&&(c+=i),c+`
`+((i=m(r,"each").call(u,n!=null?m(n,"eventSpecifications"):n,{name:"each",hash:{},fn:l.program(3,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:115,column:0},end:{line:189,column:9}}}))!=null?i:"")},useData:!0,useDepths:!0}});var gl=b((va,yl)=>{"use strict";yl.exports={id:{language:"typescript",tracker:"@snowplow/react-native-tracker"},1:function(l,n,r,f,a){return`/**
 * Creates a Snowplow Event Specification entity.
 */
export function createEventSpecification(eventSpecification: EventSpecification){
  return {
    schema:
      'iglu:com.snowplowanalytics.snowplow/event_specification/jsonschema/1-0-2',
    data: eventSpecification,
  }
}

/**
 * Automatically attached context for event specifications
 */
interface EventSpecification {
  id: string;
  name: string;
  data_product_id: string;
  data_product_name: string;
}
`},3:function(l,n,r,f,a){var e,t=n??(l.nullContext||{}),i=l.hooks.helperMissing,o="function",s=l.escapeExpression,u=l.lookupProperty||function(m,c){if(Object.prototype.hasOwnProperty.call(m,c))return m[c]};return`/**
 * Track a Snowplow event for `+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:49,column:30},end:{line:49,column:42}}}):e))+`.
 * `+s((e=(e=u(r,"description")||(n!=null?u(n,"description"):n))!=null?e:i,typeof e===o?e.call(t,{name:"description",hash:{},data:a,loc:{start:{line:50,column:3},end:{line:50,column:18}}}):e))+`
 */
export function track`+s((e=(e=u(r,"functionName")||(n!=null?u(n,"functionName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"functionName",hash:{},data:a,loc:{start:{line:52,column:21},end:{line:52,column:37}}}):e))+"<T extends {} = any>(tracker: ReactNativeTracker, "+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:52,column:87},end:{line:52,column:108}}}))+": "+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:52,column:110},end:{line:52,column:122}}}):e))+` & Contexts<T>){
  const { contexts, ...data } = `+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:53,column:32},end:{line:53,column:53}}}))+`;
  tracker.trackSelfDescribingEvent({
    schema: '`+s((e=(e=u(r,"igluUrl")||(n!=null?u(n,"igluUrl"):n))!=null?e:i,typeof e===o?e.call(t,{name:"igluUrl",hash:{},data:a,loc:{start:{line:55,column:13},end:{line:55,column:24}}}):e))+`',
    data 
  }, contexts);
}

/**
 * Creates a Snowplow `+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:61,column:22},end:{line:61,column:34}}}):e))+` entity.
 */
export function create`+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:63,column:22},end:{line:63,column:34}}}):e))+"("+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:63,column:35},end:{line:63,column:56}}}))+": "+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:63,column:58},end:{line:63,column:70}}}):e))+`){
  return {
    schema: '`+s((e=(e=u(r,"igluUrl")||(n!=null?u(n,"igluUrl"):n))!=null?e:i,typeof e===o?e.call(t,{name:"igluUrl",hash:{},data:a,loc:{start:{line:65,column:13},end:{line:65,column:24}}}):e))+`',
    data: `+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:66,column:10},end:{line:66,column:31}}}))+`
  }
}
`},5:function(l,n,r,f,a,e,t){var i,o=n??(l.nullContext||{}),s=l.lambda,u=l.escapeExpression,m=l.hooks.helperMissing,c=l.lookupProperty||function(y,g){if(Object.prototype.hasOwnProperty.call(y,g))return y[g]};return"/**"+((i=c(r,"if").call(o,c(r,"lookup").call(o,t[1]!=null?c(t[1],"metadataForAllEventSpecs"):t[1],n!=null?c(n,"id"):n,{name:"lookup",hash:{},data:a,loc:{start:{line:73,column:8},end:{line:73,column:52}}}),{name:"if",hash:{},fn:l.program(6,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:73,column:1},end:{line:73,column:120}}}))!=null?i:"")+`
 * Tracks a `+u(s(n!=null?c(n,"generatedName"):n,n))+` event specification.
 */
export function track`+u(s(n!=null?c(n,"generatedName"):n,n))+"Spec(tracker: ReactNativeTracker, "+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:76,column:77},end:{line:76,column:108}}}))+": "+u(s(n!=null?c(n,"event"):n,n))+" & Contexts"+((i=c(r,"if").call(o,n!=null?c(n,"entities"):n,{name:"if",hash:{},fn:l.program(8,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:76,column:135},end:{line:76,column:203}}}))!=null?i:"")+`){
  const eventSpecificationContext = createEventSpecification({ 
    id: '`+u(s(n!=null?c(n,"id"):n,n))+`',
    name: '`+u(s(n!=null?c(n,"name"):n,n))+`',
    data_product_id: '`+u(s(n!=null?c(n,"dataProductId"):n,n))+`',
    data_product_name: '`+u(s(n!=null?c(n,"dataProductName"):n,n))+`'
  });

  const contexts = Array.isArray(`+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:84,column:33},end:{line:84,column:64}}}))+`.contexts)
    ? [...`+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:85,column:10},end:{line:85,column:41}}}))+`.contexts, eventSpecificationContext]
    : [eventSpecificationContext];

  const modified`+u(s(n!=null?c(n,"generatedName"):n,n))+` = {
    ...`+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:89,column:7},end:{line:89,column:38}}}))+`,
    contexts,
  } as `+u(s(n!=null?c(n,"event"):n,n))+" & Contexts"+((i=c(r,"if").call(o,n!=null?c(n,"entities"):n,{name:"if",hash:{},fn:l.program(8,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:91,column:32},end:{line:91,column:100}}}))!=null?i:"")+`;
  
  track`+u(s(n!=null?c(n,"event"):n,n))+((i=c(r,"if").call(o,n!=null?c(n,"entities"):n,{name:"if",hash:{},fn:l.program(8,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:93,column:21},end:{line:93,column:89}}}))!=null?i:"")+"(tracker, modified"+u(s(n!=null?c(n,"generatedName"):n,n))+`);
}
`},6:function(l,n,r,f,a,e,t){var i=l.lookupProperty||function(o,s){if(Object.prototype.hasOwnProperty.call(o,s))return o[s]};return l.escapeExpression((i(r,"warningsMetadataJs")||n&&i(n,"warningsMetadataJs")||l.hooks.helperMissing).call(n??(l.nullContext||{}),t[1]!=null?i(t[1],"metadataForAllEventSpecs"):t[1],n!=null?i(n,"id"):n,{name:"warningsMetadataJs",hash:{},data:a,loc:{start:{line:73,column:54},end:{line:73,column:113}}}))},8:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return"<"+((e=t(r,"join").call(n??(l.nullContext||{}),n!=null?t(n,"entities"):n," | ",{name:"join",hash:{},fn:l.program(9,a,0),inverse:l.noop,data:a,loc:{start:{line:76,column:157},end:{line:76,column:195}}}))!=null?e:"")+">"},9:function(l,n,r,f,a){return""},compiler:[8,">= 4.3.0"],main:function(l,n,r,f,a,e,t){var i,o,s,u=n??(l.nullContext||{}),m=l.lookupProperty||function(y,g){if(Object.prototype.hasOwnProperty.call(y,g))return y[g]},c=`interface CommonEventProperties<T = Record<string, unknown>> {
  /** Add context to an event by setting an Array of Self Describing JSON */
  contexts?: Array<SelfDescribing<T>>;
}

type Contexts<T = any> = Omit<CommonEventProperties<T>, 'context'> & { context?: SelfDescribing<T>[] }

/**
 * SelfDescribing type
 */
export type SelfDescribing<T extends Record<keyof T, unknown> = Record<string, unknown>> = {
    /**
     * The schema string
     * @example 'iglu:com.snowplowanalytics.snowplow/web_page/jsonschema/1-0-0'
     */
    schema: string;
    /**
     * The data object which should conform to the supplied schema
     */
    data: T;
};


`+((i=m(r,"if").call(u,(i=n!=null?m(n,"eventSpecifications"):n)!=null?m(i,"length"):i,{name:"if",hash:{},fn:l.program(1,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:24,column:0},end:{line:45,column:7}}}))!=null?i:"")+`
`;return i=(o=(o=m(r,"type")||(n!=null?m(n,"type"):n))!=null?o:l.hooks.helperMissing,s={name:"type",hash:{},fn:l.program(3,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:47,column:0},end:{line:69,column:9}}},typeof o=="function"?o.call(u,s):o),m(r,"type")||(i=l.hooks.blockHelperMissing.call(n,i,s)),i!=null&&(c+=i),c+`
`+((i=m(r,"each").call(u,n!=null?m(n,"eventSpecifications"):n,{name:"each",hash:{},fn:l.program(5,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:71,column:0},end:{line:95,column:9}}}))!=null?i:"")},useData:!0,useDepths:!0}});var vl=b((ka,pl)=>{"use strict";pl.exports={id:{language:"javascript",tracker:"google-tag-manager"},1:function(l,n,r,f,a){return`  function _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], t.indexOf(o) >= 0 || {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }
  function _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (e.indexOf(n) >= 0) continue; t[n] = r[n]; } return t; }
`},3:function(l,n,r,f,a){return`  /**
  * Creates a Snowplow Event Specification entity.
  */
  function createEventSpecification(eventSpecification){
    return {
      schema: 'iglu:com.snowplowanalytics.snowplow/event_specification/jsonschema/1-0-2',
      data: eventSpecification,
    }
  }
`},5:function(l,n,r,f,a){var e,t=n??(l.nullContext||{}),i=l.hooks.helperMissing,o="function",s=l.escapeExpression,u=l.lookupProperty||function(m,c){if(Object.prototype.hasOwnProperty.call(m,c))return m[c]};return`    /**
    * Track a Snowplow event for `+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:23,column:33},end:{line:23,column:45}}}):e))+`.
    * `+s((e=(e=u(r,"description")||(n!=null?u(n,"description"):n))!=null?e:i,typeof e===o?e.call(t,{name:"description",hash:{},data:a,loc:{start:{line:24,column:6},end:{line:24,column:21}}}):e))+`
    * @param { `+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:25,column:15},end:{line:25,column:27}}}):e))+" & Timestamp & Context } "+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:25,column:52},end:{line:25,column:73}}}))+" - Attributes for "+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:25,column:91},end:{line:25,column:103}}}):e))+`.
    * @param {string[]} [trackers] - Tracker names to send the event to.
    */
    track`+s((e=(e=u(r,"functionName")||(n!=null?u(n,"functionName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"functionName",hash:{},data:a,loc:{start:{line:28,column:9},end:{line:28,column:25}}}):e))+": function("+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:28,column:36},end:{line:28,column:57}}}))+`, trackers){
        var trackerNames = (trackers && trackers.length) ? ':' + trackers.join(';') : '';
        var context = `+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:30,column:22},end:{line:30,column:43}}}))+`.context;
        var timestamp = `+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:31,column:24},end:{line:31,column:45}}}))+`.timestamp;
        var data = _objectWithoutProperties(`+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:32,column:44},end:{line:32,column:65}}}))+`, ["context", "timestamp"]);
        window.snowplow('trackSelfDescribingEvent' + trackerNames, {
            event: {
                schema: '`+s((e=(e=u(r,"igluUrl")||(n!=null?u(n,"igluUrl"):n))!=null?e:i,typeof e===o?e.call(t,{name:"igluUrl",hash:{},data:a,loc:{start:{line:35,column:25},end:{line:35,column:36}}}):e))+`',
                data: data
            },
            context: context,
            timestamp: timestamp,
        });
    },
    /**
    * Creates a Snowplow `+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:43,column:25},end:{line:43,column:37}}}):e))+` entity.
    * @param { `+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:44,column:15},end:{line:44,column:27}}}):e))+" } "+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:44,column:30},end:{line:44,column:51}}}))+" - Attributes for "+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:44,column:69},end:{line:44,column:81}}}):e))+`.
    */
    create`+s((e=(e=u(r,"typeName")||(n!=null?u(n,"typeName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"typeName",hash:{},data:a,loc:{start:{line:46,column:10},end:{line:46,column:22}}}):e))+": function("+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:46,column:33},end:{line:46,column:54}}}))+`){
        return {
            schema: '`+s((e=(e=u(r,"igluUrl")||(n!=null?u(n,"igluUrl"):n))!=null?e:i,typeof e===o?e.call(t,{name:"igluUrl",hash:{},data:a,loc:{start:{line:48,column:21},end:{line:48,column:32}}}):e))+`',
            data: `+s((u(r,"startLow")||n&&u(n,"startLow")||i).call(t,n!=null?u(n,"typeName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:49,column:18},end:{line:49,column:39}}}))+`
        };
    },
`},7:function(l,n,r,f,a,e,t){var i,o=n??(l.nullContext||{}),s=l.lambda,u=l.escapeExpression,m=l.hooks.helperMissing,c=l.lookupProperty||function(y,g){if(Object.prototype.hasOwnProperty.call(y,g))return y[g]};return"    /**"+((i=c(r,"if").call(o,c(r,"lookup").call(o,t[1]!=null?c(t[1],"metadataForAllEventSpecs"):t[1],n!=null?c(n,"id"):n,{name:"lookup",hash:{},data:a,loc:{start:{line:55,column:12},end:{line:55,column:56}}}),{name:"if",hash:{},fn:l.program(8,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:55,column:5},end:{line:55,column:127}}}))!=null?i:"")+`
    * Tracks a `+u(s(n!=null?c(n,"generatedName"):n,n))+` event specification.
    * `+u((c(r,"addEventSpecificationIdentifier")||n&&c(n,"addEventSpecificationIdentifier")||m).call(o,n!=null?c(n,"id"):n,{name:"addEventSpecificationIdentifier",hash:{},data:a,loc:{start:{line:57,column:6},end:{line:57,column:49}}}))+`
    * @param { `+u(s(n!=null?c(n,"event"):n,n))+" & Timestamp"+((i=c(r,"if").call(o,n!=null?c(n,"entities"):n,{name:"if",hash:{},fn:l.program(10,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:58,column:41},end:{line:58,column:102}}}))!=null?i:"")+" } "+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:58,column:105},end:{line:58,column:136}}}))+" - Attributes for "+u(s(n!=null?c(n,"generatedName"):n,n))+` event specification.
    * @param {string[]} [trackers] - Tracker names to send the event specification to.
    */
    track`+u(s(n!=null?c(n,"generatedName"):n,n))+"Spec: function("+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:61,column:46},end:{line:61,column:77}}}))+`, trackers){
        var eventSpecificationContext = createEventSpecification({
            id: '`+u(s(n!=null?c(n,"id"):n,n))+`',
            name: '`+u(s(n!=null?c(n,"name"):n,n))+`',
            data_product_id: '`+u(s(n!=null?c(n,"dataProductId"):n,n))+`',
            data_product_name: '`+u(s(n!=null?c(n,"dataProductName"):n,n))+`'
        });

        var context = Array.isArray(`+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:69,column:36},end:{line:69,column:67}}}))+`.context)
            ? `+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:70,column:14},end:{line:70,column:45}}}))+`.context.concat(eventSpecificationContext)
            : [eventSpecificationContext];

        var modified`+u(s(n!=null?c(n,"generatedName"):n,n))+` = Object.assign(
            `+u((c(r,"startLow")||n&&c(n,"startLow")||m).call(o,n!=null?c(n,"generatedName"):n,{name:"startLow",hash:{},data:a,loc:{start:{line:74,column:12},end:{line:74,column:43}}}))+`,
            { context: context }
        );

        this.track`+u(s(n!=null?c(n,"event"):n,n))+"(modified"+u(s(n!=null?c(n,"generatedName"):n,n))+`, trackers);
    },
`},8:function(l,n,r,f,a,e,t){var i=l.lookupProperty||function(o,s){if(Object.prototype.hasOwnProperty.call(o,s))return o[s]};return l.escapeExpression((i(r,"warningsMetadataJsGtm")||n&&i(n,"warningsMetadataJsGtm")||l.hooks.helperMissing).call(n??(l.nullContext||{}),t[1]!=null?i(t[1],"metadataForAllEventSpecs"):t[1],n!=null?i(n,"id"):n,{name:"warningsMetadataJsGtm",hash:{},data:a,loc:{start:{line:55,column:58},end:{line:55,column:120}}}))},10:function(l,n,r,f,a){var e=l.lookupProperty||function(t,i){if(Object.prototype.hasOwnProperty.call(t,i))return t[i]};return" & "+l.escapeExpression(l.lambda(n!=null?e(n,"generatedName"):n,n))+"Contexts"},12:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return(e=t(r,"if").call(n??(l.nullContext||{}),n!=null?t(n,"entities"):n,{name:"if",hash:{},fn:l.program(13,a,0),inverse:l.noop,data:a,loc:{start:{line:86,column:0},end:{line:93,column:7}}}))!=null?e:""},13:function(l,n,r,f,a){var e,t=l.lambda,i=l.escapeExpression,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return`/**
 * Typedef for a `+i(t(n!=null?o(n,"generatedName"):n,n))+`Contexts
 * @typedef {object} `+i(t(n!=null?o(n,"generatedName"):n,n))+`Contexts
 * @property {(`+((e=o(r,"join").call(n??(l.nullContext||{}),n!=null?o(n,"entities"):n," | ","Context",{name:"join",hash:{},fn:l.program(14,a,0),inverse:l.noop,data:a,loc:{start:{line:90,column:15},end:{line:90,column:63}}}))!=null?e:"")+")[]} [context] Contexts to include in the "+i(t(n!=null?o(n,"generatedName"):n,n))+` event specification.
 */

`},14:function(l,n,r,f,a){return""},compiler:[8,">= 4.3.0"],main:function(l,n,r,f,a,e,t){var i,o,s,u=n??(l.nullContext||{}),m=l.lookupProperty||function(y,g){if(Object.prototype.hasOwnProperty.call(y,g))return y[g]},c=`function snowtypeInit() {
`+((i=m(r,"if").call(u,(i=n!=null?m(n,"type"):n)!=null?m(i,"length"):i,{name:"if",hash:{},fn:l.program(1,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:3,column:0},end:{line:6,column:7}}}))!=null?i:"")+`
`+((i=m(r,"if").call(u,(i=n!=null?m(n,"eventSpecifications"):n)!=null?m(i,"length"):i,{name:"if",hash:{},fn:l.program(3,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:8,column:0},end:{line:18,column:7}}}))!=null?i:"")+`
  window.__snowtype = {
`;return i=(o=(o=m(r,"type")||(n!=null?m(n,"type"):n))!=null?o:l.hooks.helperMissing,s={name:"type",hash:{},fn:l.program(5,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:21,column:0},end:{line:52,column:9}}},typeof o=="function"?o.call(u,s):o),m(r,"type")||(i=l.hooks.blockHelperMissing.call(n,i,s)),i!=null&&(c+=i),c+((i=m(r,"each").call(u,n!=null?m(n,"eventSpecifications"):n,{name:"each",hash:{},fn:l.program(7,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:53,column:0},end:{line:80,column:9}}}))!=null?i:"")+`   };
   return undefined;
 }

`+((i=m(r,"each").call(u,n!=null?m(n,"eventSpecifications"):n,{name:"each",hash:{},fn:l.program(12,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:85,column:0},end:{line:94,column:9}}}))!=null?i:"")},useData:!0,useDepths:!0}});var wl=b((wa,kl)=>{"use strict";kl.exports={id:{language:"dart",tracker:"snowplow-flutter-tracker"},1:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return(e=t(r,"each").call(n??(l.nullContext||{}),n!=null?t(n,"properties"):n,{name:"each",hash:{},fn:l.program(2,a,0),inverse:l.noop,data:a,loc:{start:{line:6,column:0},end:{line:12,column:9}}}))!=null?e:""},2:function(l,n,r,f,a){var e,t,i=n??(l.nullContext||{}),o=l.hooks.helperMissing,s="function",u=l.lookupProperty||function(m,c){if(Object.prototype.hasOwnProperty.call(m,c))return m[c]};return((e=u(r,"if").call(i,n!=null?u(n,"description"):n,{name:"if",hash:{},fn:l.program(3,a,0),inverse:l.noop,data:a,loc:{start:{line:7,column:0},end:{line:10,column:7}}}))!=null?e:"")+"final "+((e=(t=(t=u(r,"type")||(n!=null?u(n,"type"):n))!=null?t:o,typeof t===s?t.call(i,{name:"type",hash:{},data:a,loc:{start:{line:11,column:6},end:{line:11,column:16}}}):t))!=null?e:"")+" "+l.escapeExpression((t=(t=u(r,"name")||(n!=null?u(n,"name"):n))!=null?t:o,typeof t===s?t.call(i,{name:"name",hash:{},data:a,loc:{start:{line:11,column:17},end:{line:11,column:25}}}):t))+`;
`},3:function(l,n,r,f,a){var e,t,i=l.lookupProperty||function(o,s){if(Object.prototype.hasOwnProperty.call(o,s))return o[s]};return`
/// `+((e=(t=(t=i(r,"description")||(n!=null?i(n,"description"):n))!=null?t:l.hooks.helperMissing,typeof t=="function"?t.call(n??(l.nullContext||{}),{name:"description",hash:{},data:a,loc:{start:{line:9,column:4},end:{line:9,column:21}}}):t))!=null?e:"")+`
`},5:function(l,n,r,f,a){var e,t,i=n??(l.nullContext||{}),o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return"const "+l.escapeExpression((t=(t=o(r,"typeName")||(n!=null?o(n,"typeName"):n))!=null?t:l.hooks.helperMissing,typeof t=="function"?t.call(i,{name:"typeName",hash:{},data:a,loc:{start:{line:17,column:6},end:{line:17,column:18}}}):t))+`({
`+((e=o(r,"each").call(i,n!=null?o(n,"properties"):n,{name:"each",hash:{},fn:l.program(6,a,0),inverse:l.noop,data:a,loc:{start:{line:18,column:0},end:{line:24,column:9}}}))!=null?e:"")+`});
`},6:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return(e=t(r,"if").call(n??(l.nullContext||{}),n!=null?t(n,"isOptional"):n,{name:"if",hash:{},fn:l.program(7,a,0),inverse:l.program(10,a,0),data:a,loc:{start:{line:19,column:0},end:{line:23,column:7}}}))!=null?e:""},7:function(l,n,r,f,a){var e,t,i=n??(l.nullContext||{}),o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return"  this."+l.escapeExpression((t=(t=o(r,"name")||(n!=null?o(n,"name"):n))!=null?t:l.hooks.helperMissing,typeof t=="function"?t.call(i,{name:"name",hash:{},data:a,loc:{start:{line:20,column:7},end:{line:20,column:15}}}):t))+((e=o(r,"unless").call(i,a&&o(a,"last"),{name:"unless",hash:{},fn:l.program(8,a,0),inverse:l.noop,data:a,loc:{start:{line:20,column:15},end:{line:20,column:45}}}))!=null?e:"")+`
`},8:function(l,n,r,f,a){return", "},10:function(l,n,r,f,a){var e,t,i=n??(l.nullContext||{}),o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return"  required this."+l.escapeExpression((t=(t=o(r,"name")||(n!=null?o(n,"name"):n))!=null?t:l.hooks.helperMissing,typeof t=="function"?t.call(i,{name:"name",hash:{},data:a,loc:{start:{line:22,column:16},end:{line:22,column:24}}}):t))+((e=o(r,"unless").call(i,a&&o(a,"last"),{name:"unless",hash:{},fn:l.program(8,a,0),inverse:l.noop,data:a,loc:{start:{line:22,column:24},end:{line:22,column:54}}}))!=null?e:"")+`
`},12:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return(e=t(r,"each").call(n??(l.nullContext||{}),n!=null?t(n,"properties"):n,{name:"each",hash:{},fn:l.program(13,a,0),inverse:l.noop,data:a,loc:{start:{line:30,column:0},end:{line:75,column:9}}}))!=null?e:""},13:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return(e=t(r,"if").call(n??(l.nullContext||{}),n!=null?t(n,"isNullableOrOptional"):n,{name:"if",hash:{},fn:l.program(14,a,0),inverse:l.program(43,a,0),data:a,loc:{start:{line:31,column:0},end:{line:74,column:7}}}))!=null?e:""},14:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return(e=t(r,"if").call(n??(l.nullContext||{}),n!=null?t(n,"isOptional"):n,{name:"if",hash:{},fn:l.program(15,a,0),inverse:l.program(29,a,0),data:a,loc:{start:{line:32,column:0},end:{line:59,column:7}}}))!=null?e:""},15:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return(e=t(r,"if").call(n??(l.nullContext||{}),n!=null?t(n,"isArrayOfEnums"):n,{name:"if",hash:{},fn:l.program(16,a,0),inverse:l.program(18,a,0),data:a,loc:{start:{line:33,column:0},end:{line:44,column:7}}}))!=null?e:""},16:function(l,n,r,f,a){var e,t=n??(l.nullContext||{}),i=l.hooks.helperMissing,o="function",s=l.escapeExpression,u=l.lookupProperty||function(m,c){if(Object.prototype.hasOwnProperty.call(m,c))return m[c]};return"  if ("+s((e=(e=u(r,"name")||(n!=null?u(n,"name"):n))!=null?e:i,typeof e===o?e.call(t,{name:"name",hash:{},data:a,loc:{start:{line:35,column:6},end:{line:35,column:14}}}):e))+" != null) '"+s((e=(e=u(r,"jsonName")||(n!=null?u(n,"jsonName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"jsonName",hash:{},data:a,loc:{start:{line:35,column:25},end:{line:35,column:37}}}):e))+"': "+s((e=(e=u(r,"name")||(n!=null?u(n,"name"):n))!=null?e:i,typeof e===o?e.call(t,{name:"name",hash:{},data:a,loc:{start:{line:35,column:40},end:{line:35,column:48}}}):e))+`?.map((e) => e.value).toList(),
`},18:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return(e=t(r,"if").call(n??(l.nullContext||{}),n!=null?t(n,"isArrayOfObjects"):n,{name:"if",hash:{},fn:l.program(19,a,0),inverse:l.program(21,a,0),data:a,loc:{start:{line:36,column:0},end:{line:44,column:0}}}))!=null?e:""},19:function(l,n,r,f,a){var e,t=n??(l.nullContext||{}),i=l.hooks.helperMissing,o="function",s=l.escapeExpression,u=l.lookupProperty||function(m,c){if(Object.prototype.hasOwnProperty.call(m,c))return m[c]};return"  if ("+s((e=(e=u(r,"name")||(n!=null?u(n,"name"):n))!=null?e:i,typeof e===o?e.call(t,{name:"name",hash:{},data:a,loc:{start:{line:37,column:6},end:{line:37,column:14}}}):e))+" != null) '"+s((e=(e=u(r,"jsonName")||(n!=null?u(n,"jsonName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"jsonName",hash:{},data:a,loc:{start:{line:37,column:25},end:{line:37,column:37}}}):e))+"': "+s((e=(e=u(r,"name")||(n!=null?u(n,"name"):n))!=null?e:i,typeof e===o?e.call(t,{name:"name",hash:{},data:a,loc:{start:{line:37,column:40},end:{line:37,column:48}}}):e))+`?.map((e) => e.toPayload()).toList(),
`},21:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return(e=t(r,"if").call(n??(l.nullContext||{}),n!=null?t(n,"isEnum"):n,{name:"if",hash:{},fn:l.program(22,a,0),inverse:l.program(24,a,0),data:a,loc:{start:{line:38,column:0},end:{line:44,column:0}}}))!=null?e:""},22:function(l,n,r,f,a){var e,t=n??(l.nullContext||{}),i=l.hooks.helperMissing,o="function",s=l.escapeExpression,u=l.lookupProperty||function(m,c){if(Object.prototype.hasOwnProperty.call(m,c))return m[c]};return"  if ("+s((e=(e=u(r,"name")||(n!=null?u(n,"name"):n))!=null?e:i,typeof e===o?e.call(t,{name:"name",hash:{},data:a,loc:{start:{line:39,column:6},end:{line:39,column:14}}}):e))+" != null) '"+s((e=(e=u(r,"jsonName")||(n!=null?u(n,"jsonName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"jsonName",hash:{},data:a,loc:{start:{line:39,column:25},end:{line:39,column:37}}}):e))+"': "+s((e=(e=u(r,"name")||(n!=null?u(n,"name"):n))!=null?e:i,typeof e===o?e.call(t,{name:"name",hash:{},data:a,loc:{start:{line:39,column:40},end:{line:39,column:48}}}):e))+`?.value,
`},24:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return(e=t(r,"if").call(n??(l.nullContext||{}),n!=null?t(n,"isObject"):n,{name:"if",hash:{},fn:l.program(25,a,0),inverse:l.program(27,a,0),data:a,loc:{start:{line:40,column:0},end:{line:44,column:0}}}))!=null?e:""},25:function(l,n,r,f,a){var e,t=n??(l.nullContext||{}),i=l.hooks.helperMissing,o="function",s=l.escapeExpression,u=l.lookupProperty||function(m,c){if(Object.prototype.hasOwnProperty.call(m,c))return m[c]};return"  if ("+s((e=(e=u(r,"name")||(n!=null?u(n,"name"):n))!=null?e:i,typeof e===o?e.call(t,{name:"name",hash:{},data:a,loc:{start:{line:41,column:6},end:{line:41,column:14}}}):e))+" != null) '"+s((e=(e=u(r,"jsonName")||(n!=null?u(n,"jsonName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"jsonName",hash:{},data:a,loc:{start:{line:41,column:25},end:{line:41,column:37}}}):e))+"': "+s((e=(e=u(r,"name")||(n!=null?u(n,"name"):n))!=null?e:i,typeof e===o?e.call(t,{name:"name",hash:{},data:a,loc:{start:{line:41,column:40},end:{line:41,column:48}}}):e))+`?.toPayload(),
`},27:function(l,n,r,f,a){var e,t=n??(l.nullContext||{}),i=l.hooks.helperMissing,o="function",s=l.escapeExpression,u=l.lookupProperty||function(m,c){if(Object.prototype.hasOwnProperty.call(m,c))return m[c]};return"  if ("+s((e=(e=u(r,"name")||(n!=null?u(n,"name"):n))!=null?e:i,typeof e===o?e.call(t,{name:"name",hash:{},data:a,loc:{start:{line:43,column:6},end:{line:43,column:14}}}):e))+" != null) '"+s((e=(e=u(r,"jsonName")||(n!=null?u(n,"jsonName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"jsonName",hash:{},data:a,loc:{start:{line:43,column:25},end:{line:43,column:37}}}):e))+"': "+s((e=(e=u(r,"name")||(n!=null?u(n,"name"):n))!=null?e:i,typeof e===o?e.call(t,{name:"name",hash:{},data:a,loc:{start:{line:43,column:40},end:{line:43,column:48}}}):e))+`,
`},29:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return(e=t(r,"if").call(n??(l.nullContext||{}),n!=null?t(n,"isArrayOfEnums"):n,{name:"if",hash:{},fn:l.program(30,a,0),inverse:l.program(32,a,0),data:a,loc:{start:{line:47,column:0},end:{line:58,column:7}}}))!=null?e:""},30:function(l,n,r,f,a){var e,t=n??(l.nullContext||{}),i=l.hooks.helperMissing,o="function",s=l.escapeExpression,u=l.lookupProperty||function(m,c){if(Object.prototype.hasOwnProperty.call(m,c))return m[c]};return"  '"+s((e=(e=u(r,"jsonName")||(n!=null?u(n,"jsonName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"jsonName",hash:{},data:a,loc:{start:{line:49,column:3},end:{line:49,column:15}}}):e))+"': "+s((e=(e=u(r,"name")||(n!=null?u(n,"name"):n))!=null?e:i,typeof e===o?e.call(t,{name:"name",hash:{},data:a,loc:{start:{line:49,column:18},end:{line:49,column:26}}}):e))+`?.map((e) => e.value).toList(),
`},32:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return(e=t(r,"if").call(n??(l.nullContext||{}),n!=null?t(n,"isArrayOfObjects"):n,{name:"if",hash:{},fn:l.program(33,a,0),inverse:l.program(35,a,0),data:a,loc:{start:{line:50,column:0},end:{line:58,column:0}}}))!=null?e:""},33:function(l,n,r,f,a){var e,t=n??(l.nullContext||{}),i=l.hooks.helperMissing,o="function",s=l.escapeExpression,u=l.lookupProperty||function(m,c){if(Object.prototype.hasOwnProperty.call(m,c))return m[c]};return"  '"+s((e=(e=u(r,"jsonName")||(n!=null?u(n,"jsonName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"jsonName",hash:{},data:a,loc:{start:{line:51,column:3},end:{line:51,column:15}}}):e))+"': "+s((e=(e=u(r,"name")||(n!=null?u(n,"name"):n))!=null?e:i,typeof e===o?e.call(t,{name:"name",hash:{},data:a,loc:{start:{line:51,column:18},end:{line:51,column:26}}}):e))+`?.map((e) => e.toPayload()).toList(),
`},35:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return(e=t(r,"if").call(n??(l.nullContext||{}),n!=null?t(n,"isEnum"):n,{name:"if",hash:{},fn:l.program(36,a,0),inverse:l.program(38,a,0),data:a,loc:{start:{line:52,column:0},end:{line:58,column:0}}}))!=null?e:""},36:function(l,n,r,f,a){var e,t=n??(l.nullContext||{}),i=l.hooks.helperMissing,o="function",s=l.escapeExpression,u=l.lookupProperty||function(m,c){if(Object.prototype.hasOwnProperty.call(m,c))return m[c]};return"  '"+s((e=(e=u(r,"jsonName")||(n!=null?u(n,"jsonName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"jsonName",hash:{},data:a,loc:{start:{line:53,column:3},end:{line:53,column:15}}}):e))+"': "+s((e=(e=u(r,"name")||(n!=null?u(n,"name"):n))!=null?e:i,typeof e===o?e.call(t,{name:"name",hash:{},data:a,loc:{start:{line:53,column:18},end:{line:53,column:26}}}):e))+`?.value,
`},38:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return(e=t(r,"if").call(n??(l.nullContext||{}),n!=null?t(n,"isObject"):n,{name:"if",hash:{},fn:l.program(39,a,0),inverse:l.program(41,a,0),data:a,loc:{start:{line:54,column:0},end:{line:58,column:0}}}))!=null?e:""},39:function(l,n,r,f,a){var e,t=n??(l.nullContext||{}),i=l.hooks.helperMissing,o="function",s=l.escapeExpression,u=l.lookupProperty||function(m,c){if(Object.prototype.hasOwnProperty.call(m,c))return m[c]};return"  '"+s((e=(e=u(r,"jsonName")||(n!=null?u(n,"jsonName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"jsonName",hash:{},data:a,loc:{start:{line:55,column:3},end:{line:55,column:15}}}):e))+"': "+s((e=(e=u(r,"name")||(n!=null?u(n,"name"):n))!=null?e:i,typeof e===o?e.call(t,{name:"name",hash:{},data:a,loc:{start:{line:55,column:18},end:{line:55,column:26}}}):e))+`?.toPayload(),
`},41:function(l,n,r,f,a){var e,t=n??(l.nullContext||{}),i=l.hooks.helperMissing,o="function",s=l.escapeExpression,u=l.lookupProperty||function(m,c){if(Object.prototype.hasOwnProperty.call(m,c))return m[c]};return"  '"+s((e=(e=u(r,"jsonName")||(n!=null?u(n,"jsonName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"jsonName",hash:{},data:a,loc:{start:{line:57,column:3},end:{line:57,column:15}}}):e))+"': "+s((e=(e=u(r,"name")||(n!=null?u(n,"name"):n))!=null?e:i,typeof e===o?e.call(t,{name:"name",hash:{},data:a,loc:{start:{line:57,column:18},end:{line:57,column:26}}}):e))+`,
`},43:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return(e=t(r,"if").call(n??(l.nullContext||{}),n!=null?t(n,"isArrayOfEnums"):n,{name:"if",hash:{},fn:l.program(44,a,0),inverse:l.program(46,a,0),data:a,loc:{start:{line:62,column:0},end:{line:73,column:7}}}))!=null?e:""},44:function(l,n,r,f,a){var e,t=n??(l.nullContext||{}),i=l.hooks.helperMissing,o="function",s=l.escapeExpression,u=l.lookupProperty||function(m,c){if(Object.prototype.hasOwnProperty.call(m,c))return m[c]};return"  '"+s((e=(e=u(r,"jsonName")||(n!=null?u(n,"jsonName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"jsonName",hash:{},data:a,loc:{start:{line:64,column:3},end:{line:64,column:15}}}):e))+"': "+s((e=(e=u(r,"name")||(n!=null?u(n,"name"):n))!=null?e:i,typeof e===o?e.call(t,{name:"name",hash:{},data:a,loc:{start:{line:64,column:18},end:{line:64,column:26}}}):e))+`.map((e) => e.value).toList(),
`},46:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return(e=t(r,"if").call(n??(l.nullContext||{}),n!=null?t(n,"isArrayOfObjects"):n,{name:"if",hash:{},fn:l.program(47,a,0),inverse:l.program(49,a,0),data:a,loc:{start:{line:65,column:0},end:{line:73,column:0}}}))!=null?e:""},47:function(l,n,r,f,a){var e,t=n??(l.nullContext||{}),i=l.hooks.helperMissing,o="function",s=l.escapeExpression,u=l.lookupProperty||function(m,c){if(Object.prototype.hasOwnProperty.call(m,c))return m[c]};return"  '"+s((e=(e=u(r,"jsonName")||(n!=null?u(n,"jsonName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"jsonName",hash:{},data:a,loc:{start:{line:66,column:3},end:{line:66,column:15}}}):e))+"': "+s((e=(e=u(r,"name")||(n!=null?u(n,"name"):n))!=null?e:i,typeof e===o?e.call(t,{name:"name",hash:{},data:a,loc:{start:{line:66,column:18},end:{line:66,column:26}}}):e))+`.map((e) => e.toPayload()).toList(),
`},49:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return(e=t(r,"if").call(n??(l.nullContext||{}),n!=null?t(n,"isEnum"):n,{name:"if",hash:{},fn:l.program(50,a,0),inverse:l.program(52,a,0),data:a,loc:{start:{line:67,column:0},end:{line:73,column:0}}}))!=null?e:""},50:function(l,n,r,f,a){var e,t=n??(l.nullContext||{}),i=l.hooks.helperMissing,o="function",s=l.escapeExpression,u=l.lookupProperty||function(m,c){if(Object.prototype.hasOwnProperty.call(m,c))return m[c]};return"  '"+s((e=(e=u(r,"jsonName")||(n!=null?u(n,"jsonName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"jsonName",hash:{},data:a,loc:{start:{line:68,column:3},end:{line:68,column:15}}}):e))+"': "+s((e=(e=u(r,"name")||(n!=null?u(n,"name"):n))!=null?e:i,typeof e===o?e.call(t,{name:"name",hash:{},data:a,loc:{start:{line:68,column:18},end:{line:68,column:26}}}):e))+`.value,
`},52:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return(e=t(r,"if").call(n??(l.nullContext||{}),n!=null?t(n,"isObject"):n,{name:"if",hash:{},fn:l.program(53,a,0),inverse:l.program(41,a,0),data:a,loc:{start:{line:69,column:0},end:{line:73,column:0}}}))!=null?e:""},53:function(l,n,r,f,a){var e,t=n??(l.nullContext||{}),i=l.hooks.helperMissing,o="function",s=l.escapeExpression,u=l.lookupProperty||function(m,c){if(Object.prototype.hasOwnProperty.call(m,c))return m[c]};return"  '"+s((e=(e=u(r,"jsonName")||(n!=null?u(n,"jsonName"):n))!=null?e:i,typeof e===o?e.call(t,{name:"jsonName",hash:{},data:a,loc:{start:{line:70,column:3},end:{line:70,column:15}}}):e))+"': "+s((e=(e=u(r,"name")||(n!=null?u(n,"name"):n))!=null?e:i,typeof e===o?e.call(t,{name:"name",hash:{},data:a,loc:{start:{line:70,column:18},end:{line:70,column:26}}}):e))+`.toPayload(),
`},55:function(l,n,r,f,a){var e,t,i=n??(l.nullContext||{}),o=l.hooks.helperMissing,s="function",u=l.escapeExpression,m=l.lookupProperty||function(c,y){if(Object.prototype.hasOwnProperty.call(c,y))return c[y]};return((e=m(r,"if").call(i,n!=null?m(n,"description"):n,{name:"if",hash:{},fn:l.program(56,a,0),inverse:l.noop,data:a,loc:{start:{line:81,column:0},end:{line:83,column:7}}}))!=null?e:"")+"/// Schema: `"+u((t=(t=m(r,"igluUrl")||(n!=null?m(n,"igluUrl"):n))!=null?t:o,typeof t===s?t.call(i,{name:"igluUrl",hash:{},data:a,loc:{start:{line:84,column:13},end:{line:84,column:24}}}):t))+`\`
@immutable
class `+u((t=(t=m(r,"typeName")||(n!=null?m(n,"typeName"):n))!=null?t:o,typeof t===s?t.call(i,{name:"typeName",hash:{},data:a,loc:{start:{line:86,column:6},end:{line:86,column:18}}}):t))+` implements SelfDescribing {
`+((e=l.invokePartial(m(f,"classProperties"),n,{name:"classProperties",data:a,indent:"  ",helpers:r,partials:f,decorators:l.decorators}))!=null?e:"")+`
`+((e=l.invokePartial(m(f,"constructor"),n,{name:"constructor",data:a,indent:"  ",helpers:r,partials:f,decorators:l.decorators}))!=null?e:"")+`
  @override
  String endpoint() {
    return 'trackSelfDescribing';
  }

  @override
  Map<String, Object?> get data {
    return {
`+((e=l.invokePartial(m(f,"payloadDictionaryProperties"),n,{name:"payloadDictionaryProperties",data:a,indent:"    ",helpers:r,partials:f,decorators:l.decorators}))!=null?e:"")+`    };
  }

  @override
  String get schema => '`+u((t=(t=m(r,"igluUrl")||(n!=null?m(n,"igluUrl"):n))!=null?t:o,typeof t===s?t.call(i,{name:"igluUrl",hash:{},data:a,loc:{start:{line:104,column:24},end:{line:104,column:35}}}):t))+`';

  @override
  Map<String, Object?> toMap() {
    return {
      'schema': schema,
      'data': data,
    };
  }
}
`},56:function(l,n,r,f,a){var e,t,i=l.lookupProperty||function(o,s){if(Object.prototype.hasOwnProperty.call(o,s))return o[s]};return"/// "+((e=(t=(t=i(r,"description")||(n!=null?i(n,"description"):n))!=null?t:l.hooks.helperMissing,typeof t=="function"?t.call(n??(l.nullContext||{}),{name:"description",hash:{},data:a,loc:{start:{line:82,column:4},end:{line:82,column:21}}}):t))!=null?e:"")+`
`},58:function(l,n,r,f,a){var e,t,i=n??(l.nullContext||{}),o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return((e=o(r,"if").call(i,n!=null?o(n,"description"):n,{name:"if",hash:{},fn:l.program(56,a,0),inverse:l.noop,data:a,loc:{start:{line:118,column:0},end:{line:120,column:7}}}))!=null?e:"")+"class "+l.escapeExpression((t=(t=o(r,"typeName")||(n!=null?o(n,"typeName"):n))!=null?t:l.hooks.helperMissing,typeof t=="function"?t.call(i,{name:"typeName",hash:{},data:a,loc:{start:{line:121,column:6},end:{line:121,column:18}}}):t))+` {
`+((e=l.invokePartial(o(f,"classProperties"),n,{name:"classProperties",data:a,indent:"  ",helpers:r,partials:f,decorators:l.decorators}))!=null?e:"")+`
`+((e=l.invokePartial(o(f,"constructor"),n,{name:"constructor",data:a,indent:"  ",helpers:r,partials:f,decorators:l.decorators}))!=null?e:"")+`
  Map<String, Object?> toPayload() {
    final data = <String, Object?>{
`+((e=l.invokePartial(o(f,"payloadDictionaryProperties"),n,{name:"payloadDictionaryProperties",data:a,indent:"    ",helpers:r,partials:f,decorators:l.decorators}))!=null?e:"")+`    };
    return data;
  }
}
`},60:function(l,n,r,f,a){var e,t,i=n??(l.nullContext||{}),o=l.hooks.helperMissing,s="function",u=l.escapeExpression,m=l.lookupProperty||function(c,y){if(Object.prototype.hasOwnProperty.call(c,y))return c[y]};return`
`+((e=m(r,"if").call(i,n!=null?m(n,"description"):n,{name:"if",hash:{},fn:l.program(56,a,0),inverse:l.noop,data:a,loc:{start:{line:137,column:0},end:{line:139,column:7}}}))!=null?e:"")+"enum "+u((t=(t=m(r,"name")||(n!=null?m(n,"name"):n))!=null?t:o,typeof t===s?t.call(i,{name:"name",hash:{},data:a,loc:{start:{line:140,column:5},end:{line:140,column:13}}}):t))+` {
`+((e=m(r,"each").call(i,n!=null?m(n,"cases"):n,{name:"each",hash:{},fn:l.program(61,a,0),inverse:l.noop,data:a,loc:{start:{line:141,column:0},end:{line:146,column:9}}}))!=null?e:"")+`
  const `+u((t=(t=m(r,"name")||(n!=null?m(n,"name"):n))!=null?t:o,typeof t===s?t.call(i,{name:"name",hash:{},data:a,loc:{start:{line:148,column:8},end:{line:148,column:16}}}):t))+`(this.value);
  final String value;
}
`},61:function(l,n,r,f,a){var e,t,i=n??(l.nullContext||{}),o=l.hooks.helperMissing,s=l.lookupProperty||function(u,m){if(Object.prototype.hasOwnProperty.call(u,m))return u[m]};return((e=s(r,"if").call(i,n!=null?s(n,"description"):n,{name:"if",hash:{},fn:l.program(62,a,0),inverse:l.noop,data:a,loc:{start:{line:142,column:2},end:{line:144,column:9}}}))!=null?e:"")+"  "+l.escapeExpression((s(r,"camelCase")||n&&s(n,"camelCase")||o).call(i,n!=null?s(n,"name"):n,{name:"camelCase",hash:{},data:a,loc:{start:{line:145,column:2},end:{line:145,column:21}}}))+'("'+((e=(t=(t=s(r,"jsonName")||(n!=null?s(n,"jsonName"):n))!=null?t:o,typeof t=="function"?t.call(i,{name:"jsonName",hash:{},data:a,loc:{start:{line:145,column:23},end:{line:145,column:37}}}):t))!=null?e:"")+'")'+((e=s(r,"if").call(i,a&&s(a,"last"),{name:"if",hash:{},fn:l.program(64,a,0),inverse:l.program(66,a,0),data:a,loc:{start:{line:145,column:39},end:{line:145,column:69}}}))!=null?e:"")+`
`},62:function(l,n,r,f,a){var e,t,i=l.lookupProperty||function(o,s){if(Object.prototype.hasOwnProperty.call(o,s))return o[s]};return"  /// "+((e=(t=(t=i(r,"description")||(n!=null?i(n,"description"):n))!=null?t:l.hooks.helperMissing,typeof t=="function"?t.call(n??(l.nullContext||{}),{name:"description",hash:{},data:a,loc:{start:{line:143,column:6},end:{line:143,column:23}}}):t))!=null?e:"")+`
`},64:function(l,n,r,f,a){return";"},66:function(l,n,r,f,a){return","},68:function(l,n,r,f,a,e,t){var i,o=n??(l.nullContext||{}),s=l.lambda,u=l.escapeExpression,m=l.lookupProperty||function(c,y){if(Object.prototype.hasOwnProperty.call(c,y))return c[y]};return((i=m(r,"if").call(o,m(r,"lookup").call(o,t[1]!=null?m(t[1],"metadataForAllEventSpecs"):t[1],n!=null?m(n,"id"):n,{name:"lookup",hash:{},data:a,loc:{start:{line:215,column:7},end:{line:215,column:51}}}),{name:"if",hash:{},fn:l.program(69,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:215,column:0},end:{line:215,column:121}}}))!=null?i:"")+`
/// Creates an event with entities for a `+u(s(n!=null?m(n,"generatedName"):n,n))+` event specification.
/// `+u((m(r,"addEventSpecificationIdentifier")||n&&m(n,"addEventSpecificationIdentifier")||l.hooks.helperMissing).call(o,n!=null?m(n,"id"):n,{name:"addEventSpecificationIdentifier",hash:{},data:a,loc:{start:{line:217,column:4},end:{line:217,column:47}}}))+"\n/// Example:\n/// ```dart\n/// const baseEvent = "+u(s(n!=null?m(n,"event"):n,n))+`(...);
/// final eventSpec = baseEvent.to`+u(s(n!=null?m(n,"generatedName"):n,n))+`Spec(
///   `+((i=m(r,"each").call(o,n!=null?m(n,"entities"):n,{name:"each",hash:{},fn:l.program(71,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:222,column:6},end:{line:222,column:96}}}))!=null?i:"")+`
/// );
/// /// Track as an event and list of context entities
/// tracker.track(eventSpec.event, contexts: eventSpec.contexts);
/// \`\`\`
extension `+u(s(n!=null?m(n,"generatedName"):n,n))+"EventSpec on "+u(s(n!=null?m(n,"event"):n,n))+` {
  EventSpecification to`+u(s(n!=null?m(n,"generatedName"):n,n))+"Spec("+((i=m(r,"if").call(o,n!=null?m(n,"entities"):n,{name:"if",hash:{},fn:l.program(73,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:228,column:50},end:{line:228,column:176}}}))!=null?i:"")+`) {
    const entities = <SelfDescribing>[];
    const eventSpecEntity = EventSpecEntity(
      id: "`+u(s(n!=null?m(n,"id"):n,n))+`",
      name: "`+u(s(n!=null?m(n,"name"):n,n))+`",
      dataProductId: "`+u(s(n!=null?m(n,"dataProductId"):n,n))+`",
      dataProductName: "`+u(s(n!=null?m(n,"dataProductName"):n,n))+`"
    );
    entities.add(eventSpecEntity);
`+((i=m(r,"each").call(o,n!=null?m(n,"entities"):n,{name:"each",hash:{},fn:l.program(76,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:237,column:4},end:{line:239,column:13}}}))!=null?i:"")+`    return EventSpecification(
      event: this,
      contexts: entities
    );
  }
}
`},69:function(l,n,r,f,a,e,t){var i=l.lookupProperty||function(o,s){if(Object.prototype.hasOwnProperty.call(o,s))return o[s]};return l.escapeExpression((i(r,"warningsDsDart")||n&&i(n,"warningsDsDart")||l.hooks.helperMissing).call(n??(l.nullContext||{}),t[1]!=null?i(t[1],"metadataForAllEventSpecs"):t[1],n!=null?i(n,"id"):n,"///",{name:"warningsDsDart",hash:{},data:a,loc:{start:{line:215,column:53},end:{line:215,column:114}}}))},71:function(l,n,r,f,a){var e,t=l.lambda,i=l.escapeExpression,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return"data"+i(t(n,n))+": "+i(t(n,n))+"(...)"+((e=o(r,"unless").call(n??(l.nullContext||{}),a&&o(a,"last"),{name:"unless",hash:{},fn:l.program(8,a,0),inverse:l.noop,data:a,loc:{start:{line:222,column:57},end:{line:222,column:87}}}))!=null?e:"")},73:function(l,n,r,f,a){var e,t=l.lookupProperty||function(i,o){if(Object.prototype.hasOwnProperty.call(i,o))return i[o]};return"{ "+((e=t(r,"each").call(n??(l.nullContext||{}),n!=null?t(n,"entities"):n,{name:"each",hash:{},fn:l.program(74,a,0),inverse:l.noop,data:a,loc:{start:{line:228,column:74},end:{line:228,column:167}}}))!=null?e:"")+" }"},74:function(l,n,r,f,a){var e,t=l.lambda,i=l.escapeExpression,o=l.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return"required "+i(t(n,n))+" data"+i(t(n,n))+((e=o(r,"unless").call(n??(l.nullContext||{}),a&&o(a,"last"),{name:"unless",hash:{},fn:l.program(8,a,0),inverse:l.noop,data:a,loc:{start:{line:228,column:128},end:{line:228,column:158}}}))!=null?e:"")},76:function(l,n,r,f,a){return"    entities.add(data"+l.escapeExpression(l.lambda(n,n))+`);
`},compiler:[8,">= 4.3.0"],main:function(l,n,r,f,a,e,t){var i,o,s,u=n??(l.nullContext||{}),m=l.hooks.helperMissing,c="function",y=l.hooks.blockHelperMissing,g=l.lookupProperty||function(x,j){if(Object.prototype.hasOwnProperty.call(x,j))return x[j]},p=`import 'package:flutter/foundation.dart';
import 'package:snowplow_tracker/events/self_describing.dart';

`;return i=(o=(o=g(r,"type")||(n!=null?g(n,"type"):n))!=null?o:m,s={name:"type",hash:{},fn:l.program(55,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:79,column:0},end:{line:114,column:9}}},typeof o===c?o.call(u,s):o),g(r,"type")||(i=y.call(n,i,s)),i!=null&&(p+=i),i=(o=(o=g(r,"nestedTypes")||(n!=null?g(n,"nestedTypes"):n))!=null?o:m,s={name:"nestedTypes",hash:{},fn:l.program(58,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:116,column:0},end:{line:133,column:16}}},typeof o===c?o.call(u,s):o),g(r,"nestedTypes")||(i=y.call(n,i,s)),i!=null&&(p+=i),p+((i=g(r,"each").call(u,n!=null?g(n,"enums"):n,{name:"each",hash:{},fn:l.program(60,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:134,column:0},end:{line:151,column:9}}}))!=null?i:"")+`
/// For internal use.
@immutable
class EventSpecification {
  final SelfDescribing event;
  final List<SelfDescribing> contexts;

  const EventSpecification({
    required this.event,
    required this.contexts
  });
}

/// For internal use.
@immutable
class EventSpecEntity implements SelfDescribing {
  /// Identifier for the data product that the event specification belongs to
  final String? dataProductId;
  /// Name for the data product that the event specification belongs to
  final String? dataProductName;
  /// Identifier for the event specification that the event adheres to
  final String id;
  /// Name for the event specification that the event adheres to
  final String? name;
  const EventSpecEntity({
    this.dataProductId,
    this.dataProductName,
    required this.id,
    this.name
  });

  @override
  String endpoint() {
      return 'trackSelfDescribing';
  }

  @override
  Map<String, Object?> get data {
    return {
      if (dataProductId != null) 'data_product_id': dataProductId,
      if (dataProductName != null) 'data_product_name': dataProductName,
      'id': id,
      if (name != null) 'name': name,
    };
  }

  @override
  String get schema => 'iglu:com.snowplowanalytics.snowplow/event_specification/jsonschema/1-0-2';

  @override
  Map<String, Object?> toMap() {
    return {
      'schema': schema,
      'data': data,
    };
  }
}
`+((i=g(r,"each").call(u,n!=null?g(n,"eventSpecifications"):n,{name:"each",hash:{},fn:l.program(68,a,0,e,t),inverse:l.noop,data:a,loc:{start:{line:213,column:0},end:{line:246,column:9}}}))!=null?i:"")},main_d:function(l,n,r,f,a,e,t){var i=r.decorators,o=r.lookupProperty||function(s,u){if(Object.prototype.hasOwnProperty.call(s,u))return s[u]};return l=o(i,"inline")(l,n,r,{name:"inline",hash:{},fn:r.program(1,a,0,e,t),inverse:r.noop,args:["classProperties"],data:a,loc:{start:{line:4,column:0},end:{line:13,column:11}}})||l,l=o(i,"inline")(l,n,r,{name:"inline",hash:{},fn:r.program(5,a,0,e,t),inverse:r.noop,args:["constructor"],data:a,loc:{start:{line:15,column:0},end:{line:26,column:11}}})||l,l=o(i,"inline")(l,n,r,{name:"inline",hash:{},fn:r.program(12,a,0,e,t),inverse:r.noop,args:["payloadDictionaryProperties"],data:a,loc:{start:{line:28,column:0},end:{line:76,column:11}}})||l,l},useDecorators:!0,usePartial:!0,useData:!0,useDepths:!0}});var je={};Gl(je,{createEventSpecificationInstructionsIdentifier:()=>W,generate:()=>be,joinIgluSchemaUrlParts:()=>A,languageIds:()=>Q,splitIgluSchemaUrlParts:()=>An,trackerTemplates:()=>q});module.exports=Wl(je);var jn=require("quicktype-core"),ql=4;function Ql(l,n,r){return`${n??""} ${l} ${r??""}`}function N(l,n,r,f,a){let{prefix:e,suffix:t}=n.typeNameModifiers??{},i=Ql(f,e,t);return l(r,i,a)}function Nn(l,n=[],r=[]){let f=(0,jn.getTargetLanguage)(l),a=[],e=r;for(let t of f.optionDefinitions)n.includes(t.name);return{id:f.name,name:f.displayName,extension:f.extension,requiredOptions:e,advancedOptions:a}}function Bl(l,n=ql){let r=l.length,f=0;for(let a=0;a<r;a++){let e=l.charAt(a);if(e===" ")f+=1;else if(e==="	")f=(f/n+1)*n;else return{indent:f,text:l.substring(a)}}return{indent:0,text:null}}function w(l,n,r=4){let f=n.split(`
`),a=f.length;if(a===0)return;l.emitLine(f[0]);let e=0;for(let t=1;t<a;t++){let i=f[t],{indent:o,text:s}=Bl(i,r);if(s!==null){let u=Math.floor(o/r),m=o%r;l.changeIndent(u-e),e=u,l.emitLine(" ".repeat(m),s)}else l.emitLine()}e!==0&&l.changeIndent(-e)}function S(l,n){if(n.length!==0){l.ensureBlankLine();for(let r of n)r(l)}}function Cn(l,n={},r=[]){let f=Object.fromEntries(Object.entries(l).filter(([a])=>!r.includes(a)));return{...n,...f}}var M=require("quicktype-core");var Tn=require("quicktype-core"),Yl="__sp";function Ln(l,n,r){return typeof l!="object"?void 0:{forType:d.makeAttributes({raw:l,...l[Yl]})}}var z=class extends Tn.TypeAttributeKind{constructor(){super("eventMetadata")}combine(n){return n[0]}makeInferred(n){}},d=new z;var qn=k(require("handlebars"));var Mn=require("quicktype-core"),Rn=require("quicktype-core/dist/support/Strings");function X(l,n,r,f){let a=l.descriptionForType(n)?.join(" "),e=l.sourcelikeToString((0,Mn.modifySource)(f?.functionName??Rn.originalWord,r)),t=l.sourcelikeToString(r);return{description:a,functionName:e,typeName:t}}function In(l,n,r){l.forEach(f=>{f.event===n&&(f.event=r),f.entities=f.entities?.map(a=>a===n?r:a)})}var v=k(require("handlebars"));var C=require("quicktype-core/dist/support/Strings");function An(l){let n=l.replace("iglu:",""),[r,f,a,e]=n.split("/");return{vendor:r,name:f,format:a,version:e}}function A(l){return`iglu:${l.vendor}/${l.name}/${l.format}/${l.version}`}function W(l){return`ID: ${l}`}var Kl=(0,C.legalizeCharacters)(l=>(0,C.isAscii)(l)&&(0,C.isLetterOrUnderscoreOrDigit)(l)),dn=(0,C.makeNameStyle)("pascal",Kl);function Dn(l){let n=l.filter(zl).map(f=>({generatedName:dn(f.eventSpecification.name),id:f.eventSpecification.id,name:f.eventSpecification.name,dataProductName:f.eventSpecification.dataProductName,dataProductId:f.eventSpecification.dataProductId,event:G(f.eventSchema.self,!!f.propertyRules,f.eventSpecification.name),entities:f.entitiesSchemas?f.entitiesSchemas.map(a=>G(a.original.self,!!a.propertyRule,f.eventSpecification.name)):void 0})),r=l.filter(Xl).map(f=>({generatedName:dn(f.eventSpecification.name),id:f.eventSpecification.id,name:f.eventSpecification.name,dataProductName:f.eventSpecification.dataProductName,dataProductId:f.eventSpecification.dataProductId,event:f.eventSchema.isEcomTemplateSchema,entities:f.entitiesSchemas?f.entitiesSchemas.filter(a=>!a.original.isEcomTemplateSchema).map(a=>A(a.original.self)):void 0}));return{eventSpecifications:n,ecomEventSpecifications:r}}function G(l,n,r){return A(n?{...l,name:l.name+"_"+(0,C.snakeCase)(r)}:l)}function zl(l){return typeof l.eventSchema.isEcomTemplateSchema>"u"}function Xl(l){return typeof l.eventSchema.isEcomTemplateSchema<"u"}var _n={add_to_cart:"Ecom.trackAddToCart",checkout_step:"Ecom.trackCheckoutStep",list_click:"Ecom.trackProductListClick",list_view:"Ecom.trackProductListView",product_view:"Ecom.trackProductView",promo_click:"Ecom.trackPromotionClick",promo_view:"Ecom.trackPromotionView",remove_from_cart:"Ecom.trackRemoveFromCart",transaction:"Ecom.trackTransaction",refund:"Ecom.trackRefund",trns_error:"Ecom.trackTransactionError"},Fn={add_to_cart:"Ecom.Cart",checkout_step:"Ecom.CheckoutStep",list_click:"Ecom.ListClickEvent",list_view:"Ecom.ListViewEvent",product_view:"Ecom.Product",promo_click:"Ecom.SPPromotion",promo_view:"Ecom.SPPromotion",remove_from_cart:"Ecom.Cart",transaction:"Ecom.SPTransaction",refund:"Ecom.Refund",trns_error:"Ecom.TransactionError"},Un={add_to_cart:"AddToCartEvent",checkout_step:"CheckoutStepEvent",list_click:"ProductListClickEvent",list_view:"ProductListViewEvent",product_view:"ProductViewEvent",promo_click:"PromotionClickEvent",promo_view:"PromotionViewEvent",remove_from_cart:"RemoveFromCartEvent",transaction:"TransactionEvent",refund:"RefundEvent",trns_error:"TransactionErrorEvent"};var J=({metadata:l,eventSpecId:n})=>({hasOutdated:l[n].outdatedDsWarnings.length>0,messageOutdatedText:"Deprecated: Outdated data structure detected.",hasHidden:l[n].hiddenDsWarnings.length>0,messageHiddenText:"Warning: Hidden data structure detected."});function Jn(l,n,r){let{hasOutdated:f,messageOutdatedText:a,hasHidden:e,messageHiddenText:t}=J({metadata:l,eventSpecId:n});return f&&e?`
 ${r} ${a}
 ${r} ${t}`:f?`
 ${r} ${a}`:e?`
 ${r} ${t}`:""}function $n(l,n){let{hasOutdated:r,messageOutdatedText:f,hasHidden:a,messageHiddenText:e}=J({metadata:l,eventSpecId:n});return r&&a?`// ${f}
// ${e}`:r?`// ${f}`:a?`// ${e}`:""}function Hn(l,n){let{hasOutdated:r,messageOutdatedText:f,hasHidden:a,messageHiddenText:e}=J({metadata:l,eventSpecId:n});return r&&a?`/// ${f}
/// ${e}`:r?`/// ${f}`:a?`/// ${e}`:""}function Vn(l){return function(r,f){let{hasOutdated:a,hasHidden:e}=J({metadata:r,eventSpecId:f}),t="Outdated data structure detected.",i="Warning: Hidden data structure detected.";return a&&e?`
 ${l} @deprecated ${t}
 * ${i}`:a?`
 ${l} @deprecated ${t}`:e?`
 ${l} ${i}`:""}}function Gn(l,n){let r="   *",{hasOutdated:f,hasHidden:a}=J({metadata:l,eventSpecId:n}),e="Outdated data structure detected.",t="Warning: Hidden data structure detected.";return f&&a?`
 ${r} @deprecated ${e}
    * ${t}`:f?`
 ${r} @deprecated ${e}`:a?`
 ${r} ${t}`:""}function Wn(){v.default.registerHelper({and(...l){return Array.prototype.every.call(l,Boolean)},or(...l){return Array.prototype.slice.call(l,0,-1).some(Boolean)}}),v.default.registerHelper("join",function(l,n,r){return r&&typeof r=="string"?l.map(f=>f+r).join(n):l.join(n)}),v.default.registerHelper("firstLow",function(l){return l&&typeof l=="string"?l.charAt(0).toLowerCase():""}),v.default.registerHelper("startLow",function(l){return l&&typeof l=="string"?l.charAt(0).toLowerCase().concat(l.slice(1)):""}),v.default.registerHelper("camelCase",function(l){if(l&&typeof l=="string"){let n=l.split("_").map((r,f)=>f===0?r.toLowerCase():r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()).join("");return n==="null"?"nullValue":n}return""}),v.default.registerHelper("addEventSpecificationIdentifier",function(l){return l&&typeof l=="string"?W(l):""}),v.default.registerHelper("ecomFunction",function(l){return _n[l]}),v.default.registerHelper("ecomFunctionArgument",function(l){return Fn[l]}),v.default.registerHelper("ecomFunctionMobile",function(l){return Un[l]}),v.default.registerHelper("eq",function(l,n){return l===n}),v.default.registerHelper("debug",function(l,n,r){if(console.log(r===!0?JSON.stringify(l):l),n===!0)debugger;return""}),v.default.registerHelper("warningsDs",Jn),v.default.registerHelper("warningsDsGo",$n),v.default.registerHelper("warningsMetadataJs",Vn("*")),v.default.registerHelper("warningsMetadataJsGtm",Gn),v.default.registerHelper("warningsDsDart",Hn)}function Qn(l,{eventSpecifications:n,ecomEventSpecifications:r},f,a){try{Wn();let e=qn.default.template(l),{nameModifiers:t,validations:i}=f;return o=>{let s={type:[],nestedTypes:[],enums:[],eventSpecifications:n,ecomEventSpecifications:r,validations:i,metadataForAllEventSpecs:a};return o.forEachNamedType("leading-and-interposing",(u,m)=>{let c=u.getAttributes().get(d),y=X(o,u,m,t),g={...y,...o.getClassData&&o.getClassData(u)};if(c!==void 0&&c.raw.self!==void 0){let{raw:p}=c,x=A(p.self),j=p.self.isEventPropertyRule,Al=p.self.isEntityPropertyRule,Dl=p.self.eventSpecificationId,_l=G(p.self,!!p.self.eventSpecificationName,p.self.eventSpecificationName);[n,r].forEach(Fl=>In(Fl,_l,y.typeName)),s.type.push({isEventPropertyRule:j,isEntityPropertyRule:Al,eventSpecificationId:Dl,igluUrl:x,...g})}else s.nestedTypes.push(g)},(u,m)=>{let c=[],{description:y}=X(o,u,m,t);o.forEachEnumCase(u,"none",(g,p)=>{c.push({name:o.sourcelikeToString(g),jsonName:p})}),s.enums.push({name:o.sourcelikeToString(m),description:y,cases:c})},()=>console.error("Unions are not yet supported in Snowtype")),o.emitMultiline(e(s))}}catch(e){throw new Error(`${JSON.stringify(e)}`)}}var _=require("quicktype-core");function Bn(l,n){if(Zl(l)&&l.snowtypeOptions.inputs.tracker==="snowplow-golang-tracker"){let r="",f='import "github.com/mitchellh/mapstructure"',a='import sp "github.com/snowplow/snowplow-golang-tracker/v3/tracker"',e=n.lines;Array.isArray(e)&&e.splice(1,0,r,f,a)}return n}function Zl(l){return Object.hasOwn(l,"snowtypeOptions")}function Yn(l,n,r){let f=Object.fromEntries(l.entries());return n&&(f["iglu:com.snowplowanalytics.snowplow/event_specification/jsonschema/1-0-2"]=hl),Object.keys(f).forEach(a=>{f[a].$schema="http://json-schema.org/draft-04/schema#"}),Object.keys(r).forEach(a=>{Object.keys(r[a]).forEach(e=>{r[a][e].$schema="http://json-schema.org/draft-04/schema#"})}),{...f,...r}}var hl={description:"Entity schema for referencing an event specification",properties:{id:{description:"Identifier for the event specification that the event adheres to",type:"string",maxLength:254,minLength:1},name:{description:"Name for the event specification that the event adheres to",type:["string","null"],maxLength:256,minLength:1},data_product_id:{description:"Identifier for the data product that the event specification belongs to",type:["string","null"],maxLength:256,minLength:1},data_product_name:{description:"Name for the data product that the event specification belongs to",type:["string","null"],maxLength:256,minLength:1}},additionalProperties:!1,type:"object",required:["id"],self:{vendor:"com.snowplowanalytics.snowplow",name:"event_specification",format:"jsonschema",version:"1-0-2"},$schema:"http://iglucentral.com/schemas/com.snowplowanalytics.self-desc/schema/jsonschema/1-0-0#"};var h=require("quicktype-core/dist/support/Strings");var Kn=require("@fastify/merge-json-schemas");function Z({schema:l,propertyRulesSchema:n,eventSpecificationName:r,eventSpecificationId:f,isEventPropertyRule:a}){let e=l.additionalProperties;delete l.additionalProperties,delete n.additionalProperties;let t=(0,Kn.mergeSchemas)([l,n],{resolvers:{description:(i,o,s)=>{let u=o.length===1?o[0]:o[1];s.description=u},$schema:(i,o,s)=>{s.$schema="http://iglucentral.com/schemas/com.snowplowanalytics.self-desc/schema/jsonschema/1-0-0#"}}});return t.description=t.description?t.description+" - Generated from a property rule":"Generated from a property rule",t.additionalProperties=e,t.self={...t.self,eventSpecificationName:r,eventSpecificationId:f,isEventPropertyRule:a,isEntityPropertyRule:!a},t}async function zn(l,n,r,f){let{header:a,validations:e,...t}=f,i=new _.JSONSchemaInput(void 0,[Ln]),o=new Map;await le(i,n,o),await ne(i,r,o);let s=await ee(i,r),u=e?Yn(o,!!r.length,s):void 0,m=new _.InputData;m.addInput(i);let c=await(0,_.quicktype)({inputData:m,lang:l,leadingComments:a,rendererOptions:t});return{...Bn(l,c),validationsSchemaObject:u}}async function ne(l,n,r){let f=[];for(let a of n){let e=D(a.eventSchema.self);if(!r.has(e)&&a.propertyRules===void 0&&(f.push($(l,a.eventSchema,a.eventSchema.self.name)),r.set(e,a.eventSchema)),!Array.isArray(a.entitiesSchemas))return;a.entitiesSchemas.forEach(t=>{let i=D(t.original.self);!r.has(i)&&t.propertyRule===void 0&&(f.push($(l,t.original,t.original.self.name)),r.set(i,t.original))})}await Promise.all(f)}async function le(l,n,r){let f=[];for(let a of n){let e=D(a.self);r.has(e)||(f.push($(l,a,a.self.name)),r.set(e,a))}await Promise.all(f)}function D({name:l,vendor:n,version:r,format:f}){return"iglu:"+[n,l,f,r].join("/")}async function $(l,n,r){await l.addSource({name:r,schema:JSON.stringify(n)})}async function ee(l,n){let r={},f=[];for(let a of n){let e=a.eventSpecification.name,t=a.eventSpecification.id;if(r[t]={},typeof a.propertyRules<"u"){let i=Z({schema:JSON.parse(JSON.stringify(a.eventSchema)),propertyRulesSchema:JSON.parse(JSON.stringify(a.propertyRules)),eventSpecificationName:e,eventSpecificationId:t,isEventPropertyRule:!0});f.push($(l,i,i.self.name+"_"+(0,h.snakeCase)(e)));let o=D(i.self);r[t][o]=i}else{let i=D(a.eventSchema.self);r[t][i]=a.eventSchema}a.entitiesSchemas?.forEach(({original:i,propertyRule:o})=>{if(o){let s=Z({schema:JSON.parse(JSON.stringify(i)),propertyRulesSchema:JSON.parse(JSON.stringify(o)),eventSpecificationName:e,eventSpecificationId:t,isEventPropertyRule:!1});f.push($(l,s,s.self.name+"_"+(0,h.snakeCase)(e)));let u=D(s.self);r[t][u]=s}else{let s=D(i.self);r[t][s]=i}})}return await Promise.all(f),r}var ae=k(Zn()),oe=k(nl()),te=k(el()),re=k(ol()),ie=k(rl()),ue=k(ul()),se=k(cl()),ce=k(fl()),me=k(gl()),fe=k(vl()),ye=k(wl()),H=k(require("joi"));var q=["@snowplow/browser-tracker","@snowplow/javascript-tracker","snowplow-android-tracker","snowplow-ios-tracker","@snowplow/node-tracker","snowplow-golang-tracker","@snowplow/react-native-tracker","google-tag-manager","snowplow-flutter-tracker"],Q=["typescript","javascript","javascript-gtm","kotlin","swift","go","dart"];function ge(l){let r=H.default.object().required().keys({id:H.default.object().required().keys({tracker:H.default.string().required().valid(...q),language:H.default.string().required().valid(...Q)})}).validate(l,{abortEarly:!1,convert:!1,allowUnknown:!0});if(r.error)throw new Error(r.error.annotate())}var Sl=[ae,oe,te,re,ie,ue,se,ce,me,fe,ye].map(l=>(ge(l),l));function P(l){let{name:n,quicktypeLanguage:r,defaultOptions:f,unsupportedOptions:a,requiredOptions:e}=l,t=Nn(n,a,e);return{id:t.id,name:t.name,extension:t.extension,generate:(i,o,s,u)=>{let m=[],c=Sl.find(({id:g})=>g.language===t.id&&g.tracker===s.tracker),y=Dn(o);return c&&m.push(Qn(c,y,s,u)),zn(new r({generators:m,inputs:{tracker:c?.id.tracker,validations:s.validations,...y}}),i,o,Cn(s,f,a))}}}var L=k(require("json-pointer"));function Pl({propertyNameAsType:l,capitalizeProperty:n,defaultPropertyType:r},f){let a="*";return f!==void 0&&l?n?Ol(f):f:r===null||r===""?r:r||a}function xl(l,n){let{maxLength:r}=l;if(!r)return[n];let f=[];for(;;){if(n.length-l.indentMaxDelta<=0){n&&f.push(n);break}let e=n.slice(0,l.indentMaxDelta),t=e.search(/\s\S*$/),i;if(t===-1){let o=n.slice(l.indentMaxDelta).match(/^\S+/);i=e+(o||"")}else i=e.slice(0,t);f.push(i),n=n.slice(i.length+1)}return f}function B(l,n={}){let r=[];if(!l||Object.keys(l).length===0)return"";let f=pe(n);return r.push(...ve(l,f)),L.default.has(l,"/properties")&&r.push(...ln(l,l,null,f)),L.default.has(l,"/items")&&r.push(...nn(l,l,null,f)),we(f.outerIndent,r)}function pe(l){let r=(l.indentChar||" ").repeat(l.indent||0),f=l.maxLength-r.length-3;return{...l,outerIndent:r,indentMaxDelta:f}}function nn(l,n,r,f){let a=L.default.get(l,"/items");if(!Array.isArray(a))return[];let e=[];return a.forEach((t,i)=>{let s=(r?`${r}.`:"")+i,u=t.default,m=!l.minItems||i>=l.minItems;if(t.type==="array"&&t.items)e.push(...F("array",s,t.description,m,u,f)),e.push(...nn(t,n,s,f));else if(t.type==="object"&&t.properties)e.push(...F("object",s,t.description,m,u,f)),e.push(...ln(t,n,s,f));else{let c=Y(t,n)||Pl(f);e.push(...F(c,s,t.description,m,u,f))}}),e}function ln(l,n,r,f){let a=L.default.get(l,"/properties"),e=L.default.has(l,"/required")?L.default.get(l,"/required"):[],t=[];for(let i in a)if(!(Array.isArray(f.ignore)&&f.ignore.includes(i))){let o=a[i],u=(r?`${r}.`:"")+i,m=a[i].default,c=!e.includes(i);if(o.type==="object"&&o.properties)t.push(...F("object",u,o.description,c,m,f)),t.push(...ln(o,n,u,f));else if(o.type==="array"&&o.items)t.push(...F("array",u,o.description,c,m,f)),t.push(...nn(o,n,u,f));else{let y=Y(o,n)||Pl(f,i);t.push(...F(y,u,o.description,c,m,f))}}return t}function ve(l,n){let r=[],{objectTagName:f="typedef"}=n,{description:a}=l;a===void 0&&(a=n.autoDescribe?ke(l.title,l.type):"");let e=n.types&&n.types[l.type],t;n.types===null?t="":t=` {${e===""?"":e||Y(l,l)}}`,(a||n.addDescriptionLineBreak)&&r.push(...xl(n,a));let i=l.title?` ${n.capitalizeTitle?Ol(l.title):l.title}`:"";return r.push(`@${f}${t}${i}`),r}function F(l,n,r="",f,a,e){let t;f?t=`[${n}${a===void 0?"":`=${JSON.stringify(a)}`}]`:t=n;let i;!r&&!e.descriptionPlaceholder?i="":e.hyphenatedDescriptions?i=` - ${r}`:i=` ${r}`;let o=l===null?"":`{${l}} `;return xl(e,`@property ${o}${t}${i}`)}function Y(l,n){if(l.$ref){let r=L.default.get(n,l.$ref.slice(1));return Y(r,n)}return l.enum?(l.type||(typeof l.enum[0]=="string"&&(l.type="string"),(typeof l.enum[0]).match(/number|boolean/)&&(l.type="number")),Array.isArray(l.type)&&l.type.indexOf("string")!==-1&&l.type.indexOf("null")!==-1?`"${l.enum.filter(Boolean).join('"|"')}"|null`:l.type==="string"?`"${l.enum.join('"|"')}"`:l.type==="number"||l.type==="integer"||l.type==="boolean"?`${l.enum.join("|")}`:l.type==="null"?"null":"enum"):Array.isArray(l.type)?l.type.includes("null")?`?${l.type[0]}`:l.type.join("|"):l.type}function Ol(l){return l.slice(0,1).toUpperCase()+l.slice(1)}function ke(l,n){let r=l?`${l} ${n}`:n;return`Represents ${`a${"aeiou".split("").includes(r.charAt())?"n":""}`} ${r}`}function we(l,n){let r=[`${l}/**`];return r.push(...n.map(f=>f?`${l} * ${f}`:" *")),r.push(`${l} */
`),r.join(`
`)}var bl=require("quicktype-core/dist/support/Strings"),en=class extends M.JavaScriptRenderer{constructor(r,f,a,e){super(r,f,a);this.snowtypeOptions=e}emitMultiline(r){w(this,r,2)}emitSourceStructure(){this.leadingComments!==void 0?this.emitCommentLines(this.leadingComments):this.emitUsageComments()}emitPredefinedJSDocTypes(){this.emitMultiline(tn)}emitRequiredImports(){let r=Pe(this.snowtypeOptions.inputs);r.length>0&&this.emitMultiline(r.join(`
`))}emitSource(r){this.emitRequiredImports(),super.emitSource(r),this.ensureBlankLine(),this.emitPredefinedJSDocTypes(),this.forEachTopLevel("none",(f,a)=>{let e=this.sourcelikeToString(a),t=f.getAttributes().get(d);t&&t.raw&&(t.raw.title=t.raw.title||e,this.emitMultiline(B(t.raw)),this.emitMultiline(Se(t.raw.title)),this.ensureBlankLine())}),S(this,this.snowtypeOptions.generators)}makeNameForTopLevel(r,f,a){return N((...e)=>super.makeNameForTopLevel(...e),this.snowtypeOptions,r,f,a)}},an=class extends M.JavaScriptTargetLanguage{constructor(r){super();this.snowtypeOptions=r}makeRenderer(r,f){return new en(this,r,(0,M.getOptionValues)(M.tsFlowOptions,f),this.snowtypeOptions)}},El=P({name:"javascript",quicktypeLanguage:an,defaultOptions:{"runtime-typecheck":!1},nameModifiers:{functionName:bl.camelCase}}),on={...El,generate:async(l,n,r,f)=>{let{sdk:a,prefixes:e,suffixes:t}=r;return await El.generate(l,n,r,f)}};function Se(l){return`
/**
 * Typedef for a ${l} entity context.
 * @typedef {object} ${l}Context
 * @property {string} schema The schema of the context.
 * @property { ${l} } data The data to send for the context.
 */`}var tn=`/**
 * Typedef for a DeviceTimestamp
 * @typedef {object} DeviceTimestamp
 * @property {'dtm'} type The value of 'dtm'
 * @property {number} value The value of the device timestamp
 */

/**
 * Typedef for a TrueTimestamp
 * @typedef {object} TrueTimestamp
 * @property {'ttm'} type The value of 'ttm'
 * @property {number} value The value of the true timestamp
 */

/**
 * Typedef for a Timestamp
 * @typedef {object} Timestamp
 * @property {number|TrueTimestamp|DeviceTimestamp} [timestamp] The value of the timestamp
 */

/**
 * Typedef for a SelfDescribingJson
 * @typedef {object} SelfDescribingJson
 * @property {string} schema The schema of the context
 * @property {object} data The data to send for the context
 */

/**
 * Typedef for a Context
 * @typedef {object} Context
 * @property {SelfDescribingJson[]} [context] Contexts to include in the event
 */
`;function Pe({ecomEventSpecifications:l,validations:n,tracker:r}){let f=[];switch(r){case"@snowplow/browser-tracker":f.push("import { trackSelfDescribingEvent } from '@snowplow/browser-tracker';"),n&&f.push("import Ajv from 'ajv-draft-04';","import addFormats from 'ajv-formats';","import { schemasObject, entityRules } from './validations';"),l.length>0&&f.push("import * as Ecom from '@snowplow/browser-plugin-snowplow-ecommerce';");break;case"@snowplow/node-tracker":f.push("import { buildSelfDescribingEvent } from '@snowplow/node-tracker';");break;case"@snowplow/javascript-tracker":case"google-tag-manager":break;default:throw Error("Unexpected tracker value")}return f}var T=require("quicktype-core"),jl=require("quicktype-core/dist/language/Kotlin");var rn=class extends jl.KotlinXRenderer{constructor(r,f,a,e){super(r,f,a);this.snowtypeOptions=e;this._haveOutputSchemaNullClass=!1}_haveOutputSchemaNullClass;getClassData(r){let f=[];return this.forEachClassProperty(r,"none",(a,e,t)=>{let i=this.getArrayTypes(t.type);f.push({name:this.sourcelikeToString(a),jsonName:e,description:this.descriptionForClassProperty(r,e),type:this.sourcelikeToString(this.kotlinType(t.type)),isOptional:t.isOptional,isNullable:this.isNullable(t),isNullableOrOptional:t.isOptional||this.isNullable(t),isArrayOfEnums:i&&i.get("array").includes("enum"),isArrayOfObjects:i&&i.get("array").includes("class"),isEnum:this.isEnum(t),isObject:this.isObject(t),isNull:this.isLiterallyNull(t),shouldOutputSchemaNullClass:this.isLiterallyNull(t)&&!this._haveOutputSchemaNullClass}),this.isLiterallyNull(t)&&(this._haveOutputSchemaNullClass=!0)}),{properties:f}}emitMultiline(r){w(this,r,2)}emitSource(r){super.emitSource(r),S(this,this.snowtypeOptions.generators)}emitSourceStructure(){}getArrayTypes(r){if(r.kind.toString()!=="array")return null;let f=new Map;return f.set("array",[]),r.getChildren().forEach(a=>{a.kind.toString()==="union"?a.getChildren().forEach(e=>{f.get("array").push(e.kind.toString())}):f.get("array").push(a.kind.toString())}),f}isEnum(r){return r.type.kind==="enum"||this.isNullable(r)&&(0,T.nullableFromUnion)(r.type)?.kind==="enum"}isObject(r){return r.type.kind==="class"||this.isNullable(r)&&(0,T.nullableFromUnion)(r.type)?.kind==="class"}isNullable(r){return r.type.kind==="union"&&(0,T.nullableFromUnion)(r.type)!==null}isLiterallyNull(r){return r.type.kind==="null"}},un=class extends T.KotlinTargetLanguage{constructor(r){super();this.snowtypeOptions=r}makeRenderer(r,f){return new rn(this,r,(0,T.getOptionValues)(T.kotlinOptions,f),this.snowtypeOptions)}},sn=P({name:"kotlin",quicktypeLanguage:un,defaultOptions:{framework:"kotlinx",package:"Snowtype","just-types":!0},requiredOptions:["package"],unsupportedOptions:["framework"]});var O=require("quicktype-core");var cn=class extends O.SwiftRenderer{constructor(r,f,a,e){super(r,f,a);this.snowtypeOptions=e}getClassData(r){let f=[];return this.forEachClassProperty(r,"none",(a,e,t)=>{let i=this.getArrayTypes(t.type);f.push({name:this.sourcelikeToString(a),jsonName:e,description:this.descriptionForClassProperty(r,e),type:this.sourcelikeToString(this.swiftPropertyType(t)),isOptional:t.isOptional,isNullable:this.isNullable(t),isNullableOrOptional:t.isOptional||this.isNullable(t),isArrayOfEnums:i&&i.get("array").includes("enum"),isArrayOfObjects:i&&i.get("array").includes("class"),isEnum:this.isEnum(t),isObject:this.isObject(t),isNull:this.isLiterallyNull(t),shouldOutputSchemaNullClass:!1})}),{properties:f}}emitSource(r){super.emitSource(r),S(this,this.snowtypeOptions.generators)}emitMultiline(r){w(this,r,2)}emitSourceStructure(){}getArrayTypes(r){if(r.kind.toString()!=="array")return null;let f=new Map;return f.set("array",[]),r.getChildren().forEach(a=>{a.kind.toString()==="union"?a.getChildren().forEach(e=>{f.get("array").push(e.kind.toString())}):f.get("array").push(a.kind.toString())}),f}isEnum(r){return r.type.kind==="enum"||this.isNullable(r)&&(0,O.nullableFromUnion)(r.type)?.kind==="enum"}isObject(r){return r.type.kind==="class"||this.isNullable(r)&&(0,O.nullableFromUnion)(r.type)?.kind==="class"}isNullable(r){return r.type.kind==="union"&&(0,O.nullableFromUnion)(r.type)!==null}isLiterallyNull(r){return r.type.kind==="null"}},mn=class extends O.SwiftTargetLanguage{constructor(r){super();this.snowtypeOptions=r}makeRenderer(r,f){return new cn(this,r,(0,O.getOptionValues)(O.swiftOptions,f),this.snowtypeOptions)}},fn=P({name:"swift",quicktypeLanguage:mn});var U=require("quicktype-core"),Cl=require("quicktype-core/dist/RendererOptions"),Tl=require("quicktype-core/dist/support/Strings");var yn=class extends U.TypeScriptRenderer{constructor(r,f,a,e){super(r,f,a);this.snowtypeOptions=e}emitMultiline(r){w(this,r,2)}emitRequiredImports(){let r=xe(this.snowtypeOptions.inputs);r.length>0&&this.emitMultiline(r.join(`
`))}emitSource(r){this.emitRequiredImports(),super.emitSource(r),S(this,this.snowtypeOptions.generators)}makeNameForTopLevel(r,f,a){return N((...e)=>super.makeNameForTopLevel(...e),this.snowtypeOptions,r,f,a)}},gn=class extends U.TypeScriptTargetLanguage{constructor(r){super();this.snowtypeOptions=r}makeRenderer(r,f){return new yn(this,r,(0,Cl.getOptionValues)(U.tsFlowOptions,f),this.snowtypeOptions)}},Nl=P({name:"typescript",quicktypeLanguage:gn,defaultOptions:{"just-types":!0,"prefer-unions":!0,"prefer-types":!0},nameModifiers:{functionName:Tl.camelCase}}),pn={...Nl,generate:async(l,n,r,f)=>{let{sdk:a,prefixes:e,suffixes:t}=r;return await Nl.generate(l,n,r,f)}};function xe({ecomEventSpecifications:l,validations:n,tracker:r}){let f=[];switch(r){case"@snowplow/browser-tracker":f.push("import { trackSelfDescribingEvent, CommonEventProperties, SelfDescribingJson } from '@snowplow/browser-tracker';"),n&&f.push("import Ajv, { AnySchema, ErrorObject } from 'ajv-draft-04';","import addFormats from 'ajv-formats';","import { schemasObject, entityRules, CardinalityRule } from './validations';"),l.length>0&&f.push("import * as Ecom from '@snowplow/browser-plugin-snowplow-ecommerce';");break;case"@snowplow/node-tracker":f.push("import { buildSelfDescribingEvent, SelfDescribingJson, Timestamp, Tracker } from '@snowplow/node-tracker';");break;case"@snowplow/react-native-tracker":f.push("import { ReactNativeTracker } from '@snowplow/react-native-tracker';");break;default:throw Error("Unexpected tracker value")}return f}var R=require("quicktype-core");var Ml=require("quicktype-core/dist/support/Strings");var vn=class extends R.JavaScriptRenderer{constructor(r,f,a,e){super(r,f,a);this.snowtypeOptions=e}emitMultiline(r){w(this,r,2)}emitSourceStructure(){this.leadingComments!==void 0?this.emitCommentLines(this.leadingComments):this.emitUsageComments()}emitPredefinedJSDocTypes(){this.emitMultiline(tn)}emitSource(r){super.emitSource(r),this.emitCommentLines(["This code should be copied and pasted in a Google Tag Manager Custom JavaScript Variable"]),S(this,this.snowtypeOptions.generators),this.emitPredefinedJSDocTypes(),this.forEachTopLevel("none",(f,a)=>{let e=this.sourcelikeToString(a),t=f.getAttributes().get(d);t&&t.raw&&(t.raw.title=t.raw.title||e,this.emitMultiline(B(t.raw)),this.emitMultiline(Oe(t.raw.title)),this.ensureBlankLine())})}makeNameForTopLevel(r,f,a){return N((...e)=>super.makeNameForTopLevel(...e),this.snowtypeOptions,r,f,a)}},kn=class extends R.JavaScriptTargetLanguage{constructor(r){super();this.snowtypeOptions=r}makeRenderer(r,f){return new vn(this,r,(0,R.getOptionValues)(R.tsFlowOptions,f),this.snowtypeOptions)}},Ll=P({name:"javascript",quicktypeLanguage:kn,defaultOptions:{"runtime-typecheck":!1},nameModifiers:{functionName:Ml.camelCase}}),wn={...Ll,id:"javascript-gtm",name:"JavaScript - Google Tag Manager",generate:async(l,n,r,f)=>{let{sdk:a,prefixes:e,suffixes:t}=r;return await Ll.generate(l,n,r,f)}};function Oe(l){return`
/**
 * Typedef for a ${l} entity context.
 * @typedef {object} ${l}Context
 * @property {string} schema The schema of the context.
 * @property { ${l} } data The data to send for the context.
 */`}var I=require("quicktype-core");var Il=require("quicktype-core/dist/support/Strings"),Sn=class extends I.GoRenderer{constructor(r,f,a,e){super(r,f,a);this.snowtypeOptions=e}emitSource(r){super.emitSource(r),S(this,this.snowtypeOptions.generators)}emitMultiline(r){w(this,r,2)}makeNameForTopLevel(r,f,a){return N((...e)=>super.makeNameForTopLevel(...e),this.snowtypeOptions,r,f,a)}},K=class extends I.GoTargetLanguage{constructor(r){super();this.snowtypeOptions=r}makeRenderer(r,f){return new Sn(this,r,(0,I.getOptionValues)(I.goOptions,f),this.snowtypeOptions)}},Rl=P({name:"go",quicktypeLanguage:K,defaultOptions:{"just-types":!0,"just-types-and-package":!0,package:"snowtypegenerated","multi-file-output":!1,"field-tags":"mapstructure"},nameModifiers:{functionName:Il.camelCase}}),Pn={...Rl,generate:async(l,n,r,f)=>{let{sdk:a,prefixes:e,suffixes:t}=r;return await Rl.generate(l,n,r,f)}};var E=require("quicktype-core");var xn=class extends E.DartRenderer{constructor(r,f,a,e){super(r,f,a);this.snowtypeOptions=e}emitSource(r){super.emitSource(r),S(this,this.snowtypeOptions.generators)}emitMultiline(r){w(this,r,2)}emitSourceStructure(){}makeNameForTopLevel(r,f,a){return N((...e)=>super.makeNameForTopLevel(...e),this.snowtypeOptions,r,f,a)}getClassData(r){let f=[];return this.forEachClassProperty(r,"none",(a,e,t)=>{let i=this.getArrayTypes(t.type);f.push({name:this.sourcelikeToString(a),jsonName:e,description:this.descriptionForClassProperty(r,e),type:this.sourcelikeToString(this.dartType(t.type)),isOptional:t.isOptional,isNullable:this.isNullable(t),isNullableOrOptional:t.isOptional||this.isNullable(t),isArrayOfEnums:i&&i.get("array").includes("enum"),isArrayOfObjects:i&&i.get("array").includes("class"),isEnum:this.isEnum(t),isObject:this.isObject(t),isNull:!1,shouldOutputSchemaNullClass:!1})}),{properties:f}}getArrayTypes(r){if(r.kind.toString()!=="array")return null;let f=new Map;return f.set("array",[]),r.getChildren().forEach(a=>{a.kind.toString()==="union"?a.getChildren().forEach(e=>{f.get("array").push(e.kind.toString())}):f.get("array").push(a.kind.toString())}),f}isEnum(r){return r.type.kind==="enum"||this.isNullable(r)&&(0,E.nullableFromUnion)(r.type)?.kind==="enum"}isObject(r){return r.type.kind==="class"||this.isNullable(r)&&(0,E.nullableFromUnion)(r.type)?.kind==="class"}isNullable(r){return r.type.kind==="union"&&(0,E.nullableFromUnion)(r.type)!==null}},On=class extends E.DartTargetLanguage{constructor(r){super();this.snowtypeOptions=r}makeRenderer(r,f){return new xn(this,r,(0,E.getOptionValues)(E.dartOptions,f),this.snowtypeOptions)}},En=P({name:"dart",quicktypeLanguage:On,defaultOptions:{"just-types":!0}});var dl=[pn,on,wn,sn,fn,Pn,En];var Ee=["Automatically generated by Snowtype"];function be(l){return dl.find(r=>r.id===l.language)?.generate(l.schemas,l.eventSpecifications,{header:Ee,outputFilename:"snowplow",validations:l.validations,tracker:l.tracker},l.eventSpecificationsInputMetadata)}0&&(module.exports={createEventSpecificationInstructionsIdentifier,generate,joinIgluSchemaUrlParts,languageIds,splitIgluSchemaUrlParts,trackerTemplates});
